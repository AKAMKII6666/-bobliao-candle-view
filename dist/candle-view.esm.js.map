{"version":3,"file":"candle-view.esm.js","sources":["../src/content/utils/consts.ts","../src/content/hooks/throttleHook.ts","../node_modules/regenerator-runtime/runtime.js","../src/content/utils/defaultValues.ts","../src/content/utils/languages.ts","../src/content/utils/timeFormatDefine.ts","../src/content/hooks/xAxisHook.ts","../src/content/hooks/yAxisHook.ts","../src/content/hooks/candleHook.ts","../src/content/context/candleViewContext.ts","../src/content/hooks/debounceHook.ts","../src/content/utils/basicShaps.ts","../src/content/com/xAxis.tsx","../src/content/com/dataToolTip.tsx","../src/content/com/yAxis.tsx","../src/content/com/data.tsx","../src/content/com/netLines.tsx","../src/content/com/volumChart.tsx","../src/content/com/info.tsx","../src/content/com/loadingLay.tsx","../src/content/index.tsx"],"sourcesContent":["import _bigNumber from \"bignumber.js\";\r\nimport { IcandleData, jsonObjectType, numberScope, pointCoord, tickItem } from \"../interface/itemsInterFace\";\r\n\r\n/**\r\n * 格式化时间\r\n */\r\nexport const formatDate = function (date: Date, format: string): string {\r\n\tdate = date || new Date();\r\n\tformat = format || \"yyyy-MM-dd HH:mm:ss\";\r\n\tvar result = format\r\n\t\t.replace(\"yyyy\", date.getFullYear().toString())\r\n\t\t.replace(\"yy\", date.getFullYear().toString().substring(2, 4))\r\n\t\t.replace(\"MM\", (date.getMonth() < 9 ? \"0\" : \"\") + (date.getMonth() + 1).toString())\r\n\t\t.replace(\"dd\", (date.getDate() < 10 ? \"0\" : \"\") + date.getDate().toString())\r\n\t\t.replace(\"HH\", (date.getHours() < 10 ? \"0\" : \"\") + date.getHours().toString())\r\n\t\t.replace(\"mm\", (date.getMinutes() < 10 ? \"0\" : \"\") + date.getMinutes().toString())\r\n\t\t.replace(\"ss\", (date.getSeconds() < 10 ? \"0\" : \"\") + date.getSeconds().toString());\r\n\r\n\treturn result;\r\n};\r\n\r\n/**\r\n * 将本地时间时区换算成格林威治时间 GMT+0000\r\n * 例如输入时间为 GMT +0800\r\n * 它将会把时间换算成 GMT+0000  也就是减去八小时\r\n */\r\nexport const localTimeToGMT0000 = function (time: number | Date) {\r\n\tlet date = new Date(time);\r\n\tlet timeZone = Math.abs(date.getTimezoneOffset() / 60);\r\n\tdate.setHours(date.getHours() - timeZone);\r\n\treturn date.getTime();\r\n};\r\nexport const GMT0000TolocalTime = function (time: number | Date) {\r\n\tlet date = new Date(time);\r\n\tlet timeZone = Math.abs(date.getTimezoneOffset() / 60);\r\n\tdate.setHours(date.getHours() + timeZone);\r\n\treturn date.getTime();\r\n};\r\n\r\n/**\r\n * 将某个时间重置到GMT +0000 然后再变换到GMT +0n00\r\n */\r\nexport const anyTimeToGMT0000ToTarget = function (\r\n\ttime: number | Date,\r\n\tcurrentTimeZone: number | \"local\",\r\n\ttargetTimeZone: number | \"local\"\r\n) {\r\n\tlet date = new Date(time);\r\n\tlet localtimeZone = Math.abs(date.getTimezoneOffset() / 60);\r\n\tif (targetTimeZone === \"local\") {\r\n\t\ttargetTimeZone = localtimeZone;\r\n\t}\r\n\r\n\tif (currentTimeZone === \"local\") {\r\n\t\tcurrentTimeZone = localtimeZone;\r\n\t}\r\n\tdate.setHours(date.getHours() - currentTimeZone + targetTimeZone);\r\n\treturn date.getTime();\r\n};\r\n\r\n/**\r\n * 获得长度\r\n *@param  {number | string} arg 输入值\r\n *@param  {number} length 相对的长度\r\n *@returns {number}\r\n */\r\nexport const getSpaceSize = function (arg: number | string, length: number): number {\r\n\tif (typeof arg === \"string\" && arg === \"auto\") {\r\n\t\treturn length;\r\n\t}\r\n\r\n\tif (typeof arg === \"string\" && arg.indexOf(\"%\") !== -1) {\r\n\t\tlet value = Number(arg.replace(\"%\", \"\")) / 100;\r\n\t\treturn length * value;\r\n\t}\r\n\r\n\tif (typeof arg === \"string\" && arg.indexOf(\"px\") !== -1) {\r\n\t\treturn Number(arg.replace(\"px\", \"\"));\r\n\t}\r\n\r\n\tif (typeof arg === \"number\" || !isNaN(Number(arg))) {\r\n\t\treturn Number(arg);\r\n\t}\r\n\r\n\tconsole.log(\"no useful length !\");\r\n\treturn 0;\r\n};\r\n\r\n/**\r\n * 通过时间 计算点的坐标\r\n *@param  {number} value 值\r\n *@param  {number} length 数组长度\r\n *@param {number} pixWidth 像素长度\r\n */\r\nexport const getRangePosition = function (\r\n\t//\r\n\tvalue: number,\r\n\trange: numberScope,\r\n\tpixWidth: number\r\n): number {\r\n\treturn pixWidth * ((value - range.start) / (range.end - range.start));\r\n};\r\n\r\n/**\r\n * 求tick的交集\r\n */\r\nexport const findIntersection = function (tickArr: tickItem[], scope: numberScope): tickItem[] {\r\n\tlet result: tickItem[] = [];\r\n\r\n\tif (tickArr.length < 300) {\r\n\t\tfor (var item of tickArr) {\r\n\t\t\tif (Number(item.value) >= scope.start && Number(item.value) <= scope.end) {\r\n\t\t\t\tresult.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tresult = findIntersectionByKey(tickArr as unknown as jsonObjectType[], scope, \"value\") as unknown as tickItem[];\r\n\t}\r\n\r\n\treturn result;\r\n};\r\n\r\n/**\r\n * 求candle的交集\r\n */\r\nexport const findIntersectionCandle = function (candle: IcandleData[], scope: numberScope): IcandleData[] {\r\n\tlet result: IcandleData[] = [];\r\n\t//for (var item of candle) {\r\n\t//\tif (Number(item.time) >= scope.start && Number(item.time) <= scope.end) {\r\n\t//\t\tresult.push(item);\r\n\t//\t}\r\n\t//}\r\n\r\n\tresult = findIntersectionByKey(candle as unknown as jsonObjectType[], scope, \"time\") as unknown as IcandleData[];\r\n\r\n\treturn result;\r\n};\r\n\r\n//换算区块链的数字单位\r\nexport const shiftNumber = function (_number: string | number, _shiftLength: number): string {\r\n\treturn new _bigNumber(_number).times(new _bigNumber(10).exponentiatedBy(_shiftLength)).toString();\r\n};\r\n\r\n/**\r\n * 将数组快速转换为hash表\r\n */\r\nexport const arrayToHash = function (arr: any[], keyProperty: string) {\r\n\treturn arr.reduce((hash, obj, index) => {\r\n\t\thash[obj[keyProperty]] = obj;\r\n\t\thash[obj[keyProperty]].index = index;\r\n\t\treturn hash;\r\n\t}, {});\r\n};\r\n\r\n/**\r\n * 获得某个数字的小数位数\r\n */\r\nexport const getDecimalOfLength = function (num: number): number {\r\n\treturn new _bigNumber(num).decimalPlaces() as number;\r\n};\r\n\r\n/**\r\n * 获得某个数字的整数位数\r\n */\r\nexport const getIntOfLength = function (num: number): number {\r\n\treturn new _bigNumber(num).toFixed(0).toString().length;\r\n};\r\n\r\n/**\r\n * 把任意整数的末尾数字算成整数例如 12345678  算成 12345680\r\n * “四舍五入”到最近的十的倍数 (N的倍数)\r\n */\r\nexport const roundToNearestTenBigNumber = function (num: string, intGetPar: number) {\r\n\t// 创建BigNumber实例\r\n\tconst bigNum = new _bigNumber(num);\r\n\r\n\t// 计算末尾数字（余数）\r\n\tconst remainder = bigNum.modulo(intGetPar);\r\n\r\n\t// 判断并进行相应的加减操作\r\n\t// 注意：BigNumber的运算需要使用其提供的方法，不能直接使用+-*/等运算符\r\n\tlet result;\r\n\t// 加（intGetPar - 余数）\r\n\t//永远往大推，不要往小推\r\n\tresult = bigNum.minus(remainder).plus(intGetPar);\r\n\r\n\t// 确保结果是整数，虽然一般操作结果已经是整数，但可做显式转换\r\n\treturn result.integerValue(_bigNumber.ROUND_FLOOR).toString();\r\n};\r\n\r\n//这是我自己写的\r\n\r\n///**\r\n// * 查找点\r\n// * @param inputArr 查找的数组\r\n// * @param target 目标数字\r\n// * @param key 目标字段\r\n// * @param targetType 找 起点<= 目标  还是 终点>= 目标\r\n// */\r\n//function binarySearchByKey(\r\n//\tinputArr: jsonObjectType[],\r\n//\ttarget: number,\r\n//\tkey: string,\r\n//\ttargetType: \"forStart\" | \"forEnd\"\r\n//): number | null {\r\n//\tif (targetType === \"forStart\" && target <= (inputArr[0][key] as number)) {\r\n//\t\treturn 0;\r\n//\t}\r\n//\tif (targetType === \"forEnd\" && target >= (inputArr[inputArr.length - 1][key] as number)) {\r\n//\t\treturn inputArr.length - 1;\r\n//\t}\r\n//\r\n//\tlet left = 0;\r\n//\tlet right = inputArr.length - 1;\r\n//\tlet mid: number;\r\n//\r\n//\twhile (left <= right) {\r\n//\t\tmid = left + Math.floor((right - left) / 2);\r\n//\r\n//\t\tif (inputArr[mid][key] === target) {\r\n//\t\t\tif (targetType === \"forStart\") {\r\n//\t\t\t\t// 查找起点，继续在左半边查找可能更小的索引\r\n//\t\t\t\tright = mid - 1;\r\n//\t\t\t} else {\r\n//\t\t\t\t// 查找终点，继续在右半边查找可能更大的索引\r\n//\t\t\t\tleft = mid + 1;\r\n//\t\t\t}\r\n//\t\t} else if ((inputArr[mid][key] as number) < target) {\r\n//\t\t\tleft = mid + 1;\r\n//\t\t} else {\r\n//\t\t\tright = mid - 1;\r\n//\t\t}\r\n//\t}\r\n//\r\n//\t// 根据targetType确定返回值\r\n//\tif (targetType === \"forStart\") {\r\n//\t\t// 如果是查找起点，返回第一个大于等于target的索引\r\n//\t\treturn left;\r\n//\t} else {\r\n//\t\t// 如果是查找终点，由于循环结束时left已经越过了目标，所以返回right\r\n//\t\treturn right;\r\n//\t}\r\n//}\r\n//\r\n///**\r\n// * 二分查找法求交集\r\n// * @param inputArr 输入数组\r\n// * @param scope 范围\r\n// * @param key 目标字段\r\n// * @returns 返回找到的数组范围\r\n// */\r\n//export const findIntersectionByKey = function (\r\n//\tinputArr: jsonObjectType[],\r\n//\tscope: numberScope,\r\n//\tkey: string\r\n//): jsonObjectType[] {\r\n//\tlet startIndex = binarySearchByKey(inputArr, scope.start, key, \"forStart\");\r\n//\tlet endIndex = binarySearchByKey(inputArr, scope.end, key, \"forEnd\");\r\n//\r\n//\t// 确保索引有效\r\n//\tstartIndex = startIndex === null ? 0 : startIndex;\r\n//\tendIndex = endIndex === null ? inputArr.length - 1 : endIndex;\r\n//\r\n//\t// 调整endIndex以确保包含等于scope.end的元素\r\n//\tif (endIndex < inputArr.length && inputArr[endIndex][key] < scope.end) {\r\n//\t\tendIndex++;\r\n//\t}\r\n//\r\n//\treturn inputArr.slice(startIndex, endIndex);\r\n//};\r\n\r\n/**\r\n * 查找点\r\n * @param inputArr 查找的数组\r\n * @param target 目标数字\r\n * @param key 目标字段\r\n * @param targetType 找 起点=== 目标  还是 终点=== 目标\r\n */\r\nexport function binarySearchByKeyStrictlyEqual(\r\n\tinputArr: jsonObjectType[] | number[],\r\n\ttarget: number,\r\n\ttargetType: \"forStart\" | \"forEnd\",\r\n\tkey?: string\r\n): number | null {\r\n\tlet getItem = function (arr: any[], index: any): number {\r\n\t\tif (typeof arr[index] === \"object\" || typeof key !== \"undefined\") {\r\n\t\t\treturn Number(arr[index][key!]);\r\n\t\t}\r\n\t\treturn Number(arr[index]);\r\n\t};\r\n\tif (targetType === \"forStart\" && target === (getItem(inputArr, 0) as number)) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (targetType === \"forEnd\" && target === (getItem(inputArr, inputArr.length - 1) as number)) {\r\n\t\treturn inputArr.length - 1;\r\n\t}\r\n\r\n\tlet left = 0;\r\n\tlet right = inputArr.length - 1;\r\n\tlet mid: number;\r\n\r\n\twhile (left <= right) {\r\n\t\tmid = left + Math.floor((right - left) / 2);\r\n\r\n\t\tif (getItem(inputArr, mid) === target) {\r\n\t\t\tif (targetType === \"forStart\") {\r\n\t\t\t\t// 查找起点，继续在左半边查找可能更小的索引\r\n\t\t\t\tright = mid - 1;\r\n\t\t\t} else {\r\n\t\t\t\t// 查找终点，继续在右半边查找可能更大的索引\r\n\t\t\t\tleft = mid + 1;\r\n\t\t\t}\r\n\t\t} else if ((getItem(inputArr, mid) as number) < target) {\r\n\t\t\tleft = mid + 1;\r\n\t\t} else {\r\n\t\t\tright = mid - 1;\r\n\t\t}\r\n\t}\r\n\r\n\t// 根据targetType确定返回值\r\n\tif (targetType === \"forStart\") {\r\n\t\t// 如果是查找起点，返回第一个大于等于target的索引\r\n\t\treturn left;\r\n\t} else {\r\n\t\t// 如果是查找终点，由于循环结束时left已经越过了目标，所以返回right\r\n\t\treturn right;\r\n\t}\r\n}\r\n\r\n//ai帮忙优化的版本，确实优雅一些\r\n/**\r\n * 查找点\r\n * @param inputArr 查找的数组\r\n * @param target 目标数字\r\n * @param key 目标字段\r\n * @param targetType 找 起点<= 目标  还是 终点>= 目标\r\n */\r\nfunction binarySearchByKey(\r\n\tinputArr: jsonObjectType[],\r\n\ttarget: number,\r\n\tkey: string,\r\n\ttargetType: \"forStart\" | \"forEnd\"\r\n): number | null {\r\n\tif (typeof inputArr[0] === \"undefined\") {\r\n\t\treturn -1;\r\n\t}\r\n\tif (targetType === \"forStart\" && target <= (inputArr[0][key] as number)) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (targetType === \"forEnd\" && target >= (inputArr[inputArr.length - 1][key] as number)) {\r\n\t\treturn inputArr.length - 1;\r\n\t}\r\n\r\n\tlet left = 0;\r\n\tlet right = inputArr.length - 1;\r\n\tlet mid: number;\r\n\r\n\twhile (left <= right) {\r\n\t\tmid = left + Math.floor((right - left) / 2);\r\n\r\n\t\tif (inputArr[mid][key] === target) {\r\n\t\t\tif (targetType === \"forStart\") {\r\n\t\t\t\t// 查找起点，继续在左半边查找可能更小的索引\r\n\t\t\t\tright = mid - 1;\r\n\t\t\t} else {\r\n\t\t\t\t// 查找终点，继续在右半边查找可能更大的索引\r\n\t\t\t\tleft = mid + 1;\r\n\t\t\t}\r\n\t\t} else if ((inputArr[mid][key] as number) < target) {\r\n\t\t\tleft = mid + 1;\r\n\t\t} else {\r\n\t\t\tright = mid - 1;\r\n\t\t}\r\n\t}\r\n\r\n\t// 根据targetType确定返回值\r\n\tif (targetType === \"forStart\") {\r\n\t\t// 如果是查找起点，返回第一个大于等于target的索引\r\n\t\treturn left;\r\n\t} else {\r\n\t\t// 如果是查找终点，由于循环结束时left已经越过了目标，所以返回right\r\n\t\treturn right;\r\n\t}\r\n}\r\n\r\n/**\r\n * 二分查找法求交集\r\n * @param inputArr 输入数组\r\n * @param scope 范围\r\n * @param key 目标字段\r\n * @returns 返回找到的数组范围\r\n */\r\nexport const findIntersectionByKey = function (\r\n\tinputArr: jsonObjectType[],\r\n\tscope: numberScope,\r\n\tkey: string\r\n): jsonObjectType[] {\r\n\tlet startIndex = binarySearchByKey(inputArr, scope.start, key, \"forStart\");\r\n\tlet endIndex = binarySearchByKey(inputArr, scope.end, key, \"forEnd\");\r\n\r\n\t// 确保索引有效\r\n\tstartIndex = startIndex === null ? 0 : startIndex;\r\n\tendIndex = endIndex === null ? inputArr.length - 1 : endIndex;\r\n\tif (typeof inputArr[endIndex] === \"undefined\") {\r\n\t\treturn [];\r\n\t}\r\n\tif (endIndex < inputArr.length && (inputArr[endIndex][key] as number) < scope.end) {\r\n\t\t// 调整endIndex以确保包含等于scope.end的元素\r\n\t\tendIndex++;\r\n\t}\r\n\r\n\treturn inputArr.slice(startIndex, endIndex);\r\n};\r\n\r\n/**\r\n * 获得正确的时间\r\n */\r\nexport const getRightDate = function (dateTime: number | string) {\r\n\tif (typeof dateTime === \"number\") {\r\n\t\treturn dateTime;\r\n\t}\r\n\treturn +new Date(dateTime);\r\n};\r\n\r\n//千分位分割\r\nexport const thousandsSplit = function (num: number): string {\r\n\tvar numStr = num.toString().trim().split(\".\")[0].split(\"\");\r\n\tvar output = \"\";\r\n\r\n\tvar j = 0;\r\n\tfor (var i = numStr.length - 1; i > -1; i--) {\r\n\t\tif (j % 3 == 0 && j != 0) {\r\n\t\t\toutput = numStr[i] + \",\" + output;\r\n\t\t} else {\r\n\t\t\toutput = numStr[i] + output;\r\n\t\t}\r\n\t\tj++;\r\n\t}\r\n\tif (num.toString().split(\".\")[1]) {\r\n\t\toutput += \".\" + num.toString().split(\".\")[1];\r\n\t}\r\n\treturn output;\r\n};\r\n\r\n//通过语言信息获得单位换算\r\nexport const getUnitNumber = function (_num: number, _lan: string, _fix: number): string {\r\n\tif (typeof _lan === \"undefined\") {\r\n\t\t_lan = \"en\";\r\n\t}\r\n\r\n\tif (typeof _fix === \"undefined\") {\r\n\t\t_fix = 0;\r\n\t}\r\n\r\n\tvar result: string = _num.toString();\r\n\r\n\tswitch (_lan) {\r\n\t\tcase \"en\":\r\n\t\t\tresult = translateNumberT(_num, _fix);\r\n\t\t\tbreak;\r\n\t\tcase \"ja\":\r\n\t\t\tresult = translateNumberF(_num, _fix);\r\n\t\t\tbreak;\r\n\t\tcase \"ko\":\r\n\t\t\tresult = translateNumberK(_num, _fix);\r\n\t\t\tbreak;\r\n\t\tcase \"zh\":\r\n\t\t\tresult = translateNumberF(_num, _fix);\r\n\t\t\tbreak;\r\n\t\tcase \"ru\":\r\n\t\t\tresult = translateNumberT(_num, _fix);\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn result;\r\n};\r\n\r\n//韩文\r\nexport const translateNumberK = function (_num: number, _fix: number): string {\r\n\tif (typeof _fix === \"undefined\") {\r\n\t\t_fix = 0;\r\n\t}\r\n\tvar num = new _bigNumber(_num).toFixed().split(\".\");\r\n\tvar nIARR = num[0].split(\"\");\r\n\tvar nFARR = [];\r\n\tif (typeof num[1] !== \"undefined\") {\r\n\t\tnFARR = num[1].split(\"\");\r\n\t}\r\n\r\n\t/**\r\n\t * 万 = 10000\r\n\t * 亿 = 100000000\r\n\t * 兆 = 1000000000000\r\n\t */\r\n\r\n\t//兆 = 1000000000000\r\n\tif (nIARR.length >= 13) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(12).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"조\";\r\n\t}\r\n\r\n\t//亿 = 100000000\r\n\tif (nIARR.length >= 9) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(8).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"억\";\r\n\t}\r\n\r\n\t//万 = 10000\r\n\tif (nIARR.length >= 5) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(4).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"만\";\r\n\t}\r\n\r\n\treturn new _bigNumber(_num).toFixed(_fix);\r\n};\r\n\r\n//中文\r\nexport const translateNumberF = function (_num: number, _fix: number): string {\r\n\tif (typeof _fix === \"undefined\") {\r\n\t\t_fix = 0;\r\n\t}\r\n\tvar num = new _bigNumber(_num).toFixed().split(\".\");\r\n\tvar nIARR = num[0].split(\"\");\r\n\tvar nFARR = [];\r\n\tif (typeof num[1] !== \"undefined\") {\r\n\t\tnFARR = num[1].split(\"\");\r\n\t}\r\n\r\n\t/**\r\n\t * 百 = 100\r\n\t * 千 = 1000\r\n\t * 万 = 10000\r\n\t * 百万 = 1000000\r\n\t * 千万 = 10000000\r\n\t * 亿 = 100000000\r\n\t * 兆 = 1000000000000\r\n\t */\r\n\r\n\t//兆 = 1000000000000\r\n\tif (nIARR.length >= 13) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(12).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"兆\";\r\n\t}\r\n\r\n\t//亿 = 100000000\r\n\tif (nIARR.length >= 9) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(8).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"亿\";\r\n\t}\r\n\r\n\t//千万 = 10000000\r\n\tif (nIARR.length >= 8) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(7).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"千萬\";\r\n\t}\r\n\r\n\t//百万 = 1000000\r\n\tif (nIARR.length >= 7) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(6).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"百萬\";\r\n\t}\r\n\r\n\t//万 = 10000\r\n\tif (nIARR.length >= 5) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(4).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"萬\";\r\n\t}\r\n\r\n\treturn new _bigNumber(_num).toFixed(_fix);\r\n};\r\n\r\n//换算单位英文\r\nexport const translateNumberT = function (_num: number, _fix: number): string {\r\n\tif (typeof _fix === \"undefined\") {\r\n\t\t_fix = 0;\r\n\t}\r\n\tvar num = new _bigNumber(_num).toFixed().split(\".\");\r\n\tvar nIARR = num[0].split(\"\");\r\n\tvar nFARR = [];\r\n\tif (typeof num[1] !== \"undefined\") {\r\n\t\tnFARR = num[1].split(\"\");\r\n\t}\r\n\r\n\t/**\r\n\t * k = 1000\r\n\t * m = 10000000\r\n\t * b = 1000000000\r\n\t * t = 10000000000\r\n\t */\r\n\r\n\t//t = 10000000000\r\n\tif (nIARR.length >= 11) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(10).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"T\";\r\n\t}\r\n\r\n\t//b = 1000000000\r\n\tif (nIARR.length >= 10) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(9).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"B\";\r\n\t}\r\n\r\n\t//m = 1000000\r\n\tif (nIARR.length >= 7) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(6).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"M\";\r\n\t}\r\n\r\n\t//k = 1000\r\n\tif (nIARR.length >= 4) {\r\n\t\tlet num = new _bigNumber(_num).dividedBy(new _bigNumber(10).exponentiatedBy(3).toFixed()).toFixed(_fix, 1);\r\n\t\treturn num + \"K\";\r\n\t}\r\n\treturn new _bigNumber(_num).toFixed(_fix);\r\n};\r\n\r\n/**\r\n * 求等差数列的个数\r\n * @param length 数组的长度\r\n * @param step 每隔几个元素取一个元素\r\n * @returns 返回共可取多少元素\r\n */\r\nexport const countSelectedElements = function (length: number, step: number): number {\r\n\t// 计算数组长度\r\n\tconst arrayLength = length;\r\n\tstep = step + 1;\r\n\r\n\t// 如果步长大于数组长度，则没有元素可以挑选\r\n\tif (step >= arrayLength) {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t// 计算挑选的元素数量\r\n\t// 使用整数除法向下取整\r\n\tconst count = Math.floor((arrayLength - 1) / step) + 1;\r\n\r\n\treturn count;\r\n};\r\n\r\n/**\r\n * 检查数组里的元素是否有重复\r\n */\r\nexport const hasDuplicates = function (arr: any) {\r\n\t// 创建一个Set对象，它会自动去除重复的元素\r\n\tconst uniqueSet = new Set(arr);\r\n\r\n\t// 如果Set的大小小于数组的长度，说明数组中有重复元素\r\n\treturn uniqueSet.size !== arr.length;\r\n};\r\n\r\n//获得两点之间的距离\r\nexport const getLength = function (p1: pointCoord, p2: pointCoord): number {\r\n\treturn Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\r\n};\r\n","import { createContext, useState, useContext, useRef, useCallback, useEffect, FC, ReactElement } from \"react\";\r\n\r\n/**\r\n * 节流钩子\r\n */\r\nconst useThrottle = function () {\r\n\t/**\r\n\t * ============================state===========================\r\n\t */\r\n\tconst [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n\tconst ThrottleFunction = useRef<(() => void) | null>(null);\r\n\tconst ThrottleTimeOut = useRef<NodeJS.Timeout | null>(null);\r\n\r\n\t/**\r\n\t * ==========================函数==============================\r\n\t */\r\n\r\n\tconst Throttle = function (_func: () => void, _time: number) {\r\n\t\tif (typeof _time === \"undefined\") {\r\n\t\t\t_time = 500;\r\n\t\t}\r\n\t\tif (_time === 0) {\r\n\t\t\t_func();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tThrottleFunction.current = _func;\r\n\t\tif (ThrottleTimeOut.current === null) {\r\n\t\t\tThrottleTimeOut.current = setTimeout(function () {\r\n\t\t\t\tif (ThrottleFunction.current !== null) {\r\n\t\t\t\t\tThrottleFunction.current!();\r\n\t\t\t\t\tThrottleFunction.current = null;\r\n\t\t\t\t\tThrottleTimeOut.current = null;\r\n\t\t\t\t}\r\n\t\t\t}, _time);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * ==================================Effects===============================\r\n\t */\r\n\tuseEffect(function (): ReturnType<React.EffectCallback> {\r\n\t\tif (isMounted === false) {\r\n\t\t\tsetIsMounted(true);\r\n\t\t}\r\n\t\treturn function (): void {\r\n\t\t\tsetIsMounted(false);\r\n\t\t};\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\treturn Throttle;\r\n};\r\n\r\nexport default useThrottle;\r\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import { IPixiShapeRectangle } from \"../interface/basicShapesInterFace\";\r\nimport { ITooltipConfig, Iaxis, IdataConfig, IuseCandleView, Tlanguage } from \"../interface/configInterFaces\";\r\nimport { IToolTipItem, tickItem } from \"../interface/itemsInterFace\";\r\nimport { formatDate, getUnitNumber } from \"./consts\";\r\nimport * as PIXI from \"pixi.js\";\r\n\r\n/**\r\n *tooltip的初始值\r\n */\r\nexport const DEFAULTTOOLTIPVALUES: ITooltipConfig = {\r\n\tenabled: true,\r\n\tcolor: \"#02121c\",\r\n\tlineSize: 0.5,\r\n\tdashLength: 4,\r\n\tspaceLength: 3,\r\n\tlabel: {\r\n\t\tfontsize: 12,\r\n\t\tcolor: \"#ffffff\",\r\n\t\tbackGroundColor: \"#454545\",\r\n\t\tbackGroundAlpha: 1,\r\n\t\tformatter: function (axisItem: tickItem | IToolTipItem) {\r\n\t\t\t//yyyy-MM-dd HH:mm:ss\r\n\t\t\treturn formatDate(new Date(axisItem.value), \"yyyy-MM-dd HH:mm:ss\");\r\n\t\t},\r\n\t},\r\n};\r\n\r\n/**\r\n *轴组件的初始值\r\n */\r\nexport const DEFAULTAXISVALUES: Iaxis = {\r\n\tlabelSpace: \"90px\",\r\n\tfontColor: \"#454545\",\r\n\tfontSize: \"12px\",\r\n\tnetLineColor: \"#dedede\",\r\n\tlineColor: \"#454545\",\r\n\ttickColor: \"#454545\",\r\n\ttickLength: \"3px\",\r\n\tnetLineMaxCount: 34,\r\n\tnetLineMinCount: 3,\r\n\tnetLineSize: 1,\r\n\tlineSize: 1,\r\n\ttickSize: 1,\r\n\tbackgroundColor: \"#ffffff\",\r\n\ttooltip: DEFAULTTOOLTIPVALUES,\r\n\tinitTimePoint: \"now\",\r\n\tdisplayPadding: 0.1,\r\n};\r\n\r\n/**\r\n *数据组件的初始值\r\n */\r\nexport const DEFAULTDATAVALUES: IdataConfig = {\r\n\tstaticData: [],\r\n\tdynamicData: {\r\n\t\tenabled: false,\r\n\t\tshowLoading: false,\r\n\t\tstopUserOperateWhenLoading: false,\r\n\t\tdataFetchCountPreTime: 160,\r\n\t\tdataFetchCallback: async function (time, start, end) {\r\n\t\t\treturn [];\r\n\t\t},\r\n\t},\r\n\tcandleStyles: {\r\n\t\tcandleWidth: \"80%\",\r\n\t\twickWidth: \"1px\",\r\n\t\tcandleRiseColor: \"#7de17c\",\r\n\t\tcandleFallColor: \"#c85656\",\r\n\t\twickRiseColor: \"#7de17c\",\r\n\t\twickFallColor: \"#c85656\",\r\n\t\t//当前最末尾价格的tooltip设置\r\n\t\tcurrentPriceTooltip: {\r\n\t\t\tenabled: true,\r\n\t\t\tcolor: \"#b9b42c\",\r\n\t\t\tlineSize: 0.5,\r\n\t\t\tdashLength: 8,\r\n\t\t\tspaceLength: 3,\r\n\t\t\tlabel: {\r\n\t\t\t\tfontsize: 12,\r\n\t\t\t\tcolor: \"#ffffff\",\r\n\t\t\t\tbackGroundColor: \"#b9b42c\",\r\n\t\t\t\tbackGroundAlpha: 1,\r\n\t\t\t\tformatter: function (axisItem: tickItem | IToolTipItem) {\r\n\t\t\t\t\taxisItem = axisItem as IToolTipItem;\r\n\t\t\t\t\t//yyyy-MM-dd HH:mm:ss\r\n\t\t\t\t\treturn axisItem.displayValue!;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\t//当前显示范围的最末尾的tooltip设置\r\n\t\tviewLastPriceTooltip: {\r\n\t\t\tenabled: true,\r\n\t\t\tcolor: \"#b9b42c\",\r\n\t\t\tlineSize: 0.5,\r\n\t\t\tdashLength: 8,\r\n\t\t\tspaceLength: 3,\r\n\t\t\tlabel: {\r\n\t\t\t\tfontsize: 12,\r\n\t\t\t\tcolor: \"#ffffff\",\r\n\t\t\t\tbackGroundColor: \"#826abe\",\r\n\t\t\t\tbackGroundAlpha: 0.5,\r\n\t\t\t\tformatter: function (axisItem: tickItem | IToolTipItem) {\r\n\t\t\t\t\taxisItem = axisItem as IToolTipItem;\r\n\t\t\t\t\t//yyyy-MM-dd HH:mm:ss\r\n\t\t\t\t\treturn axisItem.displayValue!;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\t/**\r\n\t\t *交易量\r\n\t\t */\r\n\t\tvolumChart: {\r\n\t\t\t/**\r\n\t\t\t *是否显示交易量\r\n\t\t\t */\r\n\t\t\tenabled: true,\r\n\r\n\t\t\t/**\r\n\t\t\t *交易量图表高度\r\n\t\t\t */\r\n\t\t\tvolumeChartHeight: \"30%\",\r\n\r\n\t\t\t/**\r\n\t\t\t *交易量图表透明度\r\n\t\t\t */\r\n\t\t\talpha: 0.6,\r\n\t\t\t/**\r\n\t\t\t *上升时显示的颜色\r\n\t\t\t */\r\n\t\t\triseColor: \"#d6dfc5\",\r\n\t\t\t/**\r\n\t\t\t *下降时显示的颜色\r\n\t\t\t */\r\n\t\t\tfallColor: \"#c7c7c7\",\r\n\r\n\t\t\t//当前最末尾价格的tooltip设置\r\n\t\t\tcurrentPriceTooltip: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tcolor: \"#b9b42c\",\r\n\t\t\t\tlineSize: 0.5,\r\n\t\t\t\tdashLength: 8,\r\n\t\t\t\tspaceLength: 3,\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\tfontsize: 12,\r\n\t\t\t\t\tcolor: \"#ffffff\",\r\n\t\t\t\t\tbackGroundColor: \"#b9b42c\",\r\n\t\t\t\t\tbackGroundAlpha: 1,\r\n\t\t\t\t\tformatter: function (axisItem: tickItem | IToolTipItem, language: Tlanguage = \"en\") {\r\n\t\t\t\t\t\taxisItem = axisItem as IToolTipItem;\r\n\t\t\t\t\t\t//yyyy-MM-dd HH:mm:ss\r\n\t\t\t\t\t\treturn getUnitNumber(Number(axisItem.displayValue), language, 5);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t//当前显示范围的最末尾的tooltip设置\r\n\t\t\tviewLastPriceTooltip: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tcolor: \"#b9b42c\",\r\n\t\t\t\tlineSize: 0.5,\r\n\t\t\t\tdashLength: 8,\r\n\t\t\t\tspaceLength: 3,\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\tfontsize: 12,\r\n\t\t\t\t\tcolor: \"#ffffff\",\r\n\t\t\t\t\tbackGroundColor: \"#826abe\",\r\n\t\t\t\t\tbackGroundAlpha: 0.5,\r\n\t\t\t\t\tformatter: function (axisItem: tickItem | IToolTipItem, language: Tlanguage = \"en\") {\r\n\t\t\t\t\t\taxisItem = axisItem as IToolTipItem;\r\n\t\t\t\t\t\t//yyyy-MM-dd HH:mm:ss\r\n\t\t\t\t\t\treturn getUnitNumber(Number(axisItem.displayValue), language, 5);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n};\r\n\r\n/**\r\n *组件的初始值\r\n 初始值的定义和注释和可以去参看接口定义\r\n */\r\nexport const DEFAULTVALUES: IuseCandleView = {\r\n\ttitle: \"交易对:🚀BNB/USDT🚀这是CandleView组件示例V2⚡闪电版⚡\",\r\n\tenableTitle: true,\r\n\tenableinfo: true,\r\n\ttimeFormat: \"1h\",\r\n\twidth: \"auto\",\r\n\theight: \"500px\",\r\n\tbackgroundColor: \"#fff\",\r\n\tresizeDebounceTime: 100,\r\n\tlanguage: \"zh\",\r\n\ttimeZone: {\r\n\t\tdataSourceTimeZone: 0,\r\n\t\tfetchConditionTimeZone: 0,\r\n\t\tdisplayTimeZone: 0,\r\n\t},\r\n\tyAxis: {\r\n\t\tlabelSpace: \"90px\",\r\n\t\tformatter: function (axisItem: tickItem) {\r\n\t\t\treturn axisItem.displayValue!.toString();\r\n\t\t},\r\n\t\tfontColor: \"#454545\",\r\n\t\tfontSize: \"12px\",\r\n\t\tnetLineColor: \"#dedede\",\r\n\t\tlineColor: \"#454545\",\r\n\t\ttickColor: \"#454545\",\r\n\t\ttickLength: \"3px\",\r\n\t\tnetLineMaxCount: 14,\r\n\t\tnetLineMinCount: 3,\r\n\t\tdisplayPadding: 0.3,\r\n\t\ttooltip: {\r\n\t\t\tenabled: true,\r\n\t\t\tcolor: \"#02121c\",\r\n\t\t\tlineSize: 0.5,\r\n\t\t\tdashLength: 4,\r\n\t\t\tspaceLength: 3,\r\n\t\t\tlabel: {\r\n\t\t\t\tfontsize: 12,\r\n\t\t\t\tcolor: \"#ffffff\",\r\n\t\t\t\tbackGroundColor: \"#454545\",\r\n\t\t\t\tbackGroundAlpha: 1,\r\n\t\t\t\tformatter: function (axisItem: tickItem | IToolTipItem) {\r\n\t\t\t\t\taxisItem = axisItem as IToolTipItem;\r\n\t\t\t\t\t//yyyy-MM-dd HH:mm:ss\r\n\t\t\t\t\treturn axisItem.displayValue!;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\txAxis: {\r\n\t\tlabelSpace: \"30px\",\r\n\t\tfontColor: \"#454545\",\r\n\t\tfontSize: \"12px\",\r\n\t\tnetLineColor: \"#dedede\",\r\n\t\tlineColor: \"#454545\",\r\n\t\ttickColor: \"#454545\",\r\n\t\ttickLength: \"4px\",\r\n\t\tnetLineMaxCount: 30,\r\n\t\tnetLineMinCount: 0,\r\n\t\tnetLineSize: 0.5,\r\n\t\tinitTimePoint: \"now\",\r\n\t\tdisplayPadding: 0,\r\n\t\ttooltip: {\r\n\t\t\tenabled: true,\r\n\t\t\tcolor: \"#02121c\",\r\n\t\t\tlineSize: 0.5,\r\n\t\t\tdashLength: 4,\r\n\t\t\tspaceLength: 3,\r\n\t\t\tlabel: {\r\n\t\t\t\tfontsize: 12,\r\n\t\t\t\tcolor: \"#ffffff\",\r\n\t\t\t\tbackGroundColor: \"#454545\",\r\n\t\t\t\tbackGroundAlpha: 1,\r\n\t\t\t\tformatter: function (axisItem: tickItem | IToolTipItem) {\r\n\t\t\t\t\t//yyyy-MM-dd HH:mm:ss\r\n\t\t\t\t\treturn formatDate(new Date(axisItem.value), \"yyyy-MM-dd HH:mm:ss\");\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tdata: DEFAULTDATAVALUES,\r\n};\r\n","export const LANGUAGES: any = {\r\n\tzh: {\r\n\t\ttimeFormat: {\r\n\t\t\ttoday: \"今天\",\r\n\t\t\tyesterday: \"昨天\",\r\n\t\t\tunitsecond: \"秒\",\r\n\t\t\tunitminute: \"分\",\r\n\t\t\tunithour: \"点\",\r\n\t\t\tunithalfOur: \"点半\",\r\n\t\t\tunitoclock: \"点整\",\r\n\t\t\tunitday: \"号\",\r\n\t\t\tunitdayst: \"号\",\r\n\t\t\tunitdaynd: \"号\",\r\n\t\t\tunitdayrd: \"号\",\r\n\t\t\tthisMonth: \"这个月\",\r\n\t\t\tnextMonth: \"上个月\",\r\n\t\t\tJanuary: \"一月份\",\r\n\t\t\tFebruary: \"二月份\",\r\n\t\t\tMarch: \"三月份\",\r\n\t\t\tApril: \"四月份\",\r\n\t\t\tMay: \"五月份\",\r\n\t\t\tJune: \"六月份\",\r\n\t\t\tJuly: \"七月份\",\r\n\t\t\tAugust: \"八月份\",\r\n\t\t\tSeptember: \"九月份\",\r\n\t\t\tOctober: \"十月份\",\r\n\t\t\tNovember: \"十一月份\",\r\n\t\t\tDecember: \"十二月份\",\r\n\t\t\tyear: \"年\",\r\n\t\t\tthisyear: \"今年\",\r\n\t\t\tlastyear: \"去年\",\r\n\t\t\toneMin: \"1分钟\",\r\n\t\t\ttwoMin: \"2分钟\",\r\n\t\t\tthreeMin: \"3分钟\",\r\n\t\t\tfiveMin: \"5分钟\",\r\n\t\t\ttenMin: \"10分钟\",\r\n\t\t\tfifteenMin: \"15分钟\",\r\n\t\t\thalfhour: \"半小时\",\r\n\t\t\toneHour: \"1小时\",\r\n\t\t\toneday: \"1天\",\r\n\t\t\toneWeek: \"1周\",\r\n\t\t\tonemonth: \"1个月\",\r\n\t\t\toneYear: \"1年\",\r\n\t\t},\r\n\t},\r\n\ten: {\r\n\t\ttimeFormat: {\r\n\t\t\ttoday: \"Today\",\r\n\t\t\tyesterday: \"Yesterday\",\r\n\t\t\tunitsecond: \"sec\",\r\n\t\t\tunitminute: \"min\",\r\n\t\t\tunithour: \"\",\r\n\t\t\tunithalfOur: \" O'clock past half\",\r\n\t\t\tunitoclock: \" O'clock\",\r\n\t\t\tunitday: \"th\",\r\n\t\t\tunitdayst: \"st\",\r\n\t\t\tunitdaynd: \"nd\",\r\n\t\t\tunitdayrd: \"rd\",\r\n\t\t\tthisMonth: \"This month\",\r\n\t\t\tnextMonth: \"Last month\",\r\n\t\t\tJanuary: \"Jan\",\r\n\t\t\tFebruary: \"Feb\",\r\n\t\t\tMarch: \"Mar\",\r\n\t\t\tApril: \"Apr\",\r\n\t\t\tMay: \"May\",\r\n\t\t\tJune: \"Jun\",\r\n\t\t\tJuly: \"Jul\",\r\n\t\t\tAugust: \"Aug\",\r\n\t\t\tSeptember: \"Sep\",\r\n\t\t\tOctober: \"Oct\",\r\n\t\t\tNovember: \"Nov\",\r\n\t\t\tDecember: \"Dec\",\r\n\t\t\tyear: \"\",\r\n\t\t\tthisyear: \"This year\",\r\n\t\t\tlastyear: \"Last year\",\r\n\t\t\toneMin: \"1 Minute\",\r\n\t\t\ttwoMin: \"2 Minute\",\r\n\t\t\tthreeMin: \"3 Minute\",\r\n\t\t\tfiveMin: \"5 Minute\",\r\n\t\t\ttenMin: \"10 Minute\",\r\n\t\t\tfifteenMin: \"15 Minute\",\r\n\t\t\thalfhour: \"Half Hour\",\r\n\t\t\toneHour: \"One Hour\",\r\n\t\t\toneday: \"One Day\",\r\n\t\t\toneWeek: \"One Week\",\r\n\t\t\tonemonth: \"One Month\",\r\n\t\t\toneYear: \"One Year\",\r\n\t\t},\r\n\t},\r\n};\r\n","import { findRoundTimeCountFromArrayDataItem, jsonObjectType } from \"../interface/itemsInterFace\";\r\nimport { ItimeFormat, TtimeType } from \"../interface/timeDefineInterFace\";\r\nimport { binarySearchByKeyStrictlyEqual, countSelectedElements } from \"./consts\";\r\nimport { LANGUAGES } from \"./languages\";\r\n\r\nexport const getshifttime = function (hourShift?: number | \"local\") {\r\n\tif (typeof hourShift === \"undefined\" || hourShift === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\tlet date = new Date();\r\n\tlet localtimeZone = Math.abs(date.getTimezoneOffset() / 60);\r\n\tif (hourShift === \"local\") {\r\n\t\thourShift = localtimeZone;\r\n\t}\r\n\treturn 1000 * 60 * 60 * hourShift;\r\n};\r\n\r\n/**\r\n *1分钟\r\n */\r\nexport const ONEMIN: ItimeFormat = {\r\n\tname: \"1min\",\r\n\tlang: \"oneMin\",\r\n\ttimeGap: 1000 * 60,\r\n\t/* 取整 */\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst now = new Date(timeStamp);\r\n\t\t// 求整\r\n\t\tnow.setSeconds(0);\r\n\t\tnow.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = now.getTime();\r\n\t\treturn result;\r\n\t},\r\n\t/* 往未来查找一个单位 */\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 1);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找一个单位 */\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 1);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 1 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 1 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\r\n\t/* 获得初始化的时间范围 */\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn { start: +new Date() - 1000 * 60 * 20, end: +new Date() + 1000 * 60 * 10 };\r\n\t\t} else {\r\n\t\t\treturn { start: +new Date(initTime) - 1000 * 60 * 20, end: +new Date(initTime) + 1000 * 60 * 10 };\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\t\t//date.setHours(date.getHours() + plusTimeArea);\r\n\r\n\t\treturn date.getMinutes() + LANGUAGES[lan]!.timeFormat.unitminute;\r\n\t},\r\n};\r\n\r\n/**\r\n *2分钟\r\n */\r\nexport const TWO: ItimeFormat = {\r\n\tname: \"2min\",\r\n\tlang: \"twoMin\",\r\n\ttimeGap: 1000 * 60 * 2,\r\n\t/* 取整 */\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst now = new Date(timeStamp);\r\n\r\n\t\tfor (let time = 0; time < 60; time += 2) {\r\n\t\t\tif (now.getMinutes() >= time) {\r\n\t\t\t\tnow.setMinutes(time);\r\n\t\t\t}\r\n\t\t}\r\n\t\tnow.setSeconds(0);\r\n\t\tnow.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = now.getTime();\r\n\t\treturn result;\r\n\t},\r\n\t/* 往未来查找一个单位 */\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 2);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找一个单位 */\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 2);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 2 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 2 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\r\n\t/* 获得初始化的时间范围 */\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn { start: +new Date() - 1000 * 60 * 2 * 2, end: +new Date() + 1000 * 60 * 10 * 2 };\r\n\t\t} else {\r\n\t\t\treturn { start: +new Date(initTime) - 1000 * 60 * 20 * 2, end: +new Date(initTime) + 1000 * 60 * 10 * 2 };\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\t\t//date.setHours(date.getHours() + plusTimeArea);\r\n\r\n\t\treturn date.getMinutes() + LANGUAGES[lan]!.timeFormat.unitminute;\r\n\t},\r\n};\r\n\r\n/**\r\n *3分钟\r\n */\r\nexport const THREE: ItimeFormat = {\r\n\tname: \"3min\",\r\n\tlang: \"threeMin\",\r\n\ttimeGap: 1000 * 60 * 3,\r\n\t/* 取整 */\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst now = new Date(timeStamp);\r\n\r\n\t\tfor (let time = 0; time < 60; time += 3) {\r\n\t\t\tif (now.getMinutes() >= time) {\r\n\t\t\t\tnow.setMinutes(time);\r\n\t\t\t}\r\n\t\t}\r\n\t\tnow.setSeconds(0);\r\n\t\tnow.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = now.getTime();\r\n\t\treturn result;\r\n\t},\r\n\t/* 往未来查找一个单位 */\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 3);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找一个单位 */\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 3);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 3 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 3 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\r\n\t/* 获得初始化的时间范围 */\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn { start: +new Date() - 1000 * 60 * 2 * 3, end: +new Date() + 1000 * 60 * 10 * 3 };\r\n\t\t} else {\r\n\t\t\treturn { start: +new Date(initTime) - 1000 * 60 * 20 * 3, end: +new Date(initTime) + 1000 * 60 * 10 * 3 };\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\t\t//date.setHours(date.getHours() + plusTimeArea);\r\n\r\n\t\treturn date.getMinutes() + LANGUAGES[lan]!.timeFormat.unitminute;\r\n\t},\r\n};\r\n\r\n/**\r\n *5分钟\r\n */\r\nexport const FMIN: ItimeFormat = {\r\n\tname: \"5min\",\r\n\tlang: \"fiveMin\",\r\n\ttimeGap: 1000 * 60 * 5,\r\n\t/* 取整 */\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst now = new Date(timeStamp);\r\n\t\t// 求整\r\n\t\tif (now.getMinutes() >= 55) {\r\n\t\t\tnow.setMinutes(55);\r\n\t\t} else if (now.getMinutes() >= 50) {\r\n\t\t\tnow.setMinutes(50);\r\n\t\t} else if (now.getMinutes() >= 45) {\r\n\t\t\tnow.setMinutes(45);\r\n\t\t} else if (now.getMinutes() >= 40) {\r\n\t\t\tnow.setMinutes(40);\r\n\t\t} else if (now.getMinutes() >= 35) {\r\n\t\t\tnow.setMinutes(35);\r\n\t\t} else if (now.getMinutes() >= 30) {\r\n\t\t\tnow.setMinutes(30);\r\n\t\t} else if (now.getMinutes() >= 25) {\r\n\t\t\tnow.setMinutes(25);\r\n\t\t} else if (now.getMinutes() >= 20) {\r\n\t\t\tnow.setMinutes(20);\r\n\t\t} else if (now.getMinutes() >= 15) {\r\n\t\t\tnow.setMinutes(15);\r\n\t\t} else if (now.getMinutes() >= 10) {\r\n\t\t\tnow.setMinutes(10);\r\n\t\t} else if (now.getMinutes() >= 5) {\r\n\t\t\tnow.setMinutes(5);\r\n\t\t} else if (now.getMinutes() >= 0) {\r\n\t\t\tnow.setMinutes(0);\r\n\t\t}\r\n\t\tnow.setSeconds(0);\r\n\t\tnow.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = now.getTime();\r\n\t\treturn result;\r\n\t},\r\n\t/* 往未来查找一个单位 */\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 5);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找一个单位 */\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 5);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 5 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 5 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\r\n\t/* 获得初始化的时间范围 */\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn { start: +new Date() - 1000 * 60 * 2 * 5, end: +new Date() + 1000 * 60 * 10 * 5 };\r\n\t\t} else {\r\n\t\t\treturn { start: +new Date(initTime) - 1000 * 60 * 20 * 5, end: +new Date(initTime) + 1000 * 60 * 10 * 5 };\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\t\t//date.setHours(date.getHours() + plusTimeArea);\r\n\r\n\t\treturn date.getMinutes() + LANGUAGES[lan]!.timeFormat.unitminute;\r\n\t},\r\n};\r\n\r\n/**\r\n *10分钟\r\n */\r\nexport const TENMIN: ItimeFormat = {\r\n\tname: \"10min\",\r\n\tlang: \"tenMin\",\r\n\ttimeGap: 1000 * 60 * 10,\r\n\t/* 取整 */\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst now = new Date(timeStamp);\r\n\t\t// 求整\r\n\t\tif (now.getMinutes() >= 50) {\r\n\t\t\tnow.setMinutes(50);\r\n\t\t} else if (now.getMinutes() >= 40) {\r\n\t\t\tnow.setMinutes(40);\r\n\t\t} else if (now.getMinutes() >= 30) {\r\n\t\t\tnow.setMinutes(30);\r\n\t\t} else if (now.getMinutes() >= 20) {\r\n\t\t\tnow.setMinutes(20);\r\n\t\t} else if (now.getMinutes() >= 10) {\r\n\t\t\tnow.setMinutes(10);\r\n\t\t} else if (now.getMinutes() >= 0) {\r\n\t\t\tnow.setMinutes(0);\r\n\t\t}\r\n\t\tnow.setSeconds(0);\r\n\t\tnow.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = now.getTime();\r\n\t\treturn result;\r\n\t},\r\n\t/* 往未来查找一个单位 */\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 10);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找一个单位 */\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 10);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 10 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 10 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\r\n\t/* 获得初始化的时间范围 */\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn { start: +new Date() - 1000 * 60 * 2 * 10, end: +new Date() + 1000 * 60 * 10 * 10 };\r\n\t\t} else {\r\n\t\t\treturn { start: +new Date(initTime) - 1000 * 60 * 20 * 10, end: +new Date(initTime) + 1000 * 60 * 10 * 10 };\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\t\t//date.setHours(date.getHours() + plusTimeArea);\r\n\r\n\t\treturn date.getMinutes() + LANGUAGES[lan]!.timeFormat.unitminute;\r\n\t},\r\n};\r\n\r\n/**\r\n *15分钟\r\n */\r\nexport const FIFMIN: ItimeFormat = {\r\n\tname: \"15min\",\r\n\tlang: \"fifteenMin\",\r\n\ttimeGap: 1000 * 60 * 15,\r\n\t/* 取整 */\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst now = new Date(timeStamp);\r\n\t\t// 求整\r\n\t\tif (now.getMinutes() >= 45) {\r\n\t\t\tnow.setMinutes(45);\r\n\t\t} else if (now.getMinutes() >= 30) {\r\n\t\t\tnow.setMinutes(30);\r\n\t\t} else if (now.getMinutes() >= 15) {\r\n\t\t\tnow.setMinutes(15);\r\n\t\t} else if (now.getMinutes() >= 0) {\r\n\t\t\tnow.setMinutes(0);\r\n\t\t}\r\n\t\tnow.setSeconds(0);\r\n\t\tnow.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = now.getTime();\r\n\t\treturn result;\r\n\t},\r\n\t/* 往未来查找一个单位 */\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 15);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找一个单位 */\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 15);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加15分钟\r\n\t\tdate.setMinutes(date.getMinutes() + 15 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减15分钟\r\n\t\tdate.setMinutes(date.getMinutes() - 15 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 获得初始化的时间范围 */\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn { start: +new Date() - 1000 * 60 * 15 * 18, end: +new Date() + 1000 * 60 * 15 * 6 };\r\n\t\t} else {\r\n\t\t\treturn { start: +new Date(initTime) - 1000 * 60 * 15 * 18, end: +new Date(initTime) + 1000 * 60 * 15 * 6 };\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\t\t//date.setHours(date.getHours() + plusTimeArea);\r\n\r\n\t\treturn date.getMinutes() + LANGUAGES[lan]!.timeFormat.unitminute;\r\n\t},\r\n};\r\n\r\n/**\r\n *30分钟\r\n */\r\nexport const HALFHOUR: ItimeFormat = {\r\n\tname: \"30min\",\r\n\tlang: \"halfhour\",\r\n\ttimeGap: 1000 * 60 * 30,\r\n\t/* 取整 */\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst now = new Date(timeStamp);\r\n\t\t// 设置分钟和秒数为0\r\n\t\tif (now.getMinutes() > 30) {\r\n\t\t\tnow.setMinutes(30);\r\n\t\t} else {\r\n\t\t\tnow.setMinutes(0);\r\n\t\t}\r\n\t\tnow.setSeconds(0);\r\n\t\tnow.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = now.getTime();\r\n\t\treturn result;\r\n\t},\r\n\t/* 往未来查找一个单位 */\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加半小时\r\n\t\tdate.setMinutes(date.getMinutes() + 30);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找一个单位 */\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减半小时\r\n\t\tdate.setMinutes(date.getMinutes() - 30);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 加半小时\r\n\t\tdate.setMinutes(date.getMinutes() + 30 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减半小时\r\n\t\tdate.setMinutes(date.getMinutes() - 30 * times);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 获得初始化的时间范围 */\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn { start: +new Date() - 1000 * 60 * 30 * 18, end: +new Date() + 1000 * 60 * 30 * 6 };\r\n\t\t} else {\r\n\t\t\treturn { start: +new Date(initTime) - 1000 * 60 * 30 * 18, end: +new Date(initTime) + 1000 * 60 * 30 * 6 };\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\t\t//date.setHours(date.getHours() + plusTimeArea);\r\n\r\n\t\tif (date.getMinutes() === 30) {\r\n\t\t\treturn date.getHours() + LANGUAGES[lan]!.timeFormat.unithalfOur;\r\n\t\t}\r\n\r\n\t\treturn date.getHours() + LANGUAGES[lan]!.timeFormat.unitoclock;\r\n\t},\r\n};\r\n\r\n/**\r\n *x小时\r\n */\r\nexport const HOUR: ItimeFormat = {\r\n\tname: \"1h\",\r\n\tlang: \"oneHour\",\r\n\ttimeGap: 1000 * 60 * 60,\r\n\t/* 取整 */\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst now = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tnow.setMinutes(0);\r\n\t\tnow.setSeconds(0);\r\n\t\tnow.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = now.getTime();\r\n\t\treturn result;\r\n\t},\r\n\t/* 往未来查找一个单位 */\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减去一个小时的毫秒数\r\n\t\tdate.setHours(date.getHours() + 1);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找一个单位 */\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减去一个小时的毫秒数\r\n\t\tdate.setHours(date.getHours() - 1);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减去一个小时的毫秒数\r\n\t\tdate.setHours(date.getHours() + 1 * times);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(timeStamp);\r\n\t\t// 减去一个小时的毫秒数\r\n\t\tdate.setHours(date.getHours() - 1 * times);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 返回上一个小时的时间戳（毫秒）\r\n\t\treturn date.getTime();\r\n\t},\r\n\t/* 获得初始化的时间范围 */\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn { start: +new Date() - 1000 * 60 * 60 * 18, end: +new Date() + 1000 * 60 * 60 * 6 };\r\n\t\t} else {\r\n\t\t\treturn { start: +new Date(initTime) - 1000 * 60 * 60 * 18, end: +new Date(initTime) + 1000 * 60 * 60 * 6 };\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\t\t//date.setHours(date.getHours() + plusTimeArea);\r\n\r\n\t\treturn date.getHours() + LANGUAGES[lan]!.timeFormat.unithour;\r\n\t},\r\n};\r\n\r\n/**\r\n *天\r\n */\r\nexport const DAY: ItimeFormat = {\r\n\tname: \"1d\",\r\n\tlang: \"oneday\",\r\n\ttimeGap: 1000 * 60 * 60 * 24,\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst now = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tnow.setHours(0);\r\n\t\tnow.setMinutes(0);\r\n\t\tnow.setSeconds(0);\r\n\t\tnow.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = now.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setDate(date.getDate() + 1);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setDate(date.getDate() - 1);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setDate(date.getDate() + 1 * times);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setDate(date.getDate() - 1 * times);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn { start: +new Date() - 1000 * 60 * 60 * 24 * 20, end: +new Date() + 1000 * 60 * 60 * 24 * 10 };\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tstart: +new Date(initTime) - 1000 * 60 * 60 * 24 * 20,\r\n\t\t\t\tend: +new Date(initTime) + 1000 * 60 * 60 * 24 * 10,\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\t\t//date.setHours(date.getHours() + plusTimeArea);\r\n\r\n\t\tif (date.getDate() === 1) {\r\n\t\t\treturn date.getDate() + LANGUAGES[lan]!.timeFormat.unitdayst;\r\n\t\t}\r\n\t\tif (date.getDate() === 2) {\r\n\t\t\treturn date.getDate() + LANGUAGES[lan]!.timeFormat.unitdaynd;\r\n\t\t}\r\n\t\tif (date.getDate() === 3) {\r\n\t\t\treturn date.getDate() + LANGUAGES[lan]!.timeFormat.unitdayrd;\r\n\t\t}\r\n\t\treturn date.getDate() + LANGUAGES[lan]!.timeFormat.unitday;\r\n\t},\r\n};\r\n\r\n/**\r\n *周\r\n */\r\nexport const WEEK: ItimeFormat = {\r\n\tname: \"1w\",\r\n\tlang: \"oneWeek\",\r\n\ttimeGap: 1000 * 60 * 60 * 24 * 7,\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\tconst today = new Date(timeStamp);\r\n\t\tconst currentDay = today.getDay(); // 获取今天是周几（0-6，0代表周日）\r\n\t\tconst offsetDays = currentDay === 0 ? -6 : 1 - currentDay; // 计算偏移天数，如果周日则减6天，其他情况加1减去当前天数\r\n\t\tconst monday = new Date(today.setDate(today.getDate() + offsetDays));\r\n\t\treturn monday.getTime() + getshifttime(hourShift);\r\n\t},\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 将时间戳转换为Date对象\r\n\t\tconst date = new Date(timeStamp); // 注意：JavaScript时间戳是毫秒级，所以乘以1000\r\n\r\n\t\t// 设置日期到下周一\r\n\t\tdate.setDate(date.getDate() + 7);\r\n\t\t// 设置时间为下周一的凌晨0点\r\n\t\tdate.setHours(0, 0, 0, 0);\r\n\t\t// 返回下周一时间戳（转换回秒级时间戳）\r\n\t\treturn Math.floor(date.getTime()) + getshifttime(hourShift);\r\n\t},\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 将时间戳转换为Date对象\r\n\t\tconst date = new Date(timeStamp); // 注意：JavaScript时间戳是毫秒级，所以乘以1000\r\n\r\n\t\t// 设置日期到上周一\r\n\t\tdate.setDate(date.getDate() - 7);\r\n\t\t// 设置时间为上周一的凌晨0点\r\n\t\tdate.setHours(0, 0, 0, 0);\r\n\t\t// 返回上周一时间戳（转换回秒级时间戳）\r\n\t\treturn Math.floor(date.getTime()) + getshifttime(hourShift);\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 将时间戳转换为Date对象\r\n\t\tconst date = new Date(timeStamp); // 注意：JavaScript时间戳是毫秒级，所以乘以1000\r\n\r\n\t\t// 设置日期到下周一\r\n\t\tdate.setDate(date.getDate() + 7 * times);\r\n\t\t// 设置时间为下周一的凌晨0点\r\n\t\tdate.setHours(0, 0, 0, 0);\r\n\t\t// 返回下周一时间戳（转换回秒级时间戳）\r\n\t\treturn Math.floor(date.getTime()) + getshifttime(hourShift);\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 将时间戳转换为Date对象\r\n\t\tconst date = new Date(timeStamp); // 注意：JavaScript时间戳是毫秒级，所以乘以1000\r\n\r\n\t\t// 设置日期到上周一\r\n\t\tdate.setDate(date.getDate() - 7 * times);\r\n\t\t// 设置时间为上周一的凌晨0点\r\n\t\tdate.setHours(0, 0, 0, 0);\r\n\t\t// 返回上周一时间戳（转换回秒级时间戳）\r\n\t\treturn Math.floor(date.getTime()) + getshifttime(hourShift);\r\n\t},\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn { start: +new Date() - 1000 * 60 * 60 * 24 * 7 * 5, end: +new Date() + 1000 * 60 * 60 * 24 * 7 * 5 };\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tstart: +new Date(initTime) - 1000 * 60 * 60 * 24 * 7 * 5,\r\n\t\t\t\tend: +new Date(initTime) + 1000 * 60 * 60 * 24 * 7 * 5,\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\r\n\t\tif (date.getDate() === 1) {\r\n\t\t\treturn date.getDate() + LANGUAGES[lan]!.timeFormat.unitdayst;\r\n\t\t}\r\n\t\tif (date.getDate() === 2) {\r\n\t\t\treturn date.getDate() + LANGUAGES[lan]!.timeFormat.unitdaynd;\r\n\t\t}\r\n\t\tif (date.getDate() === 3) {\r\n\t\t\treturn date.getDate() + LANGUAGES[lan]!.timeFormat.unitdayrd;\r\n\t\t}\r\n\t\treturn date.getDate() + LANGUAGES[lan]!.timeFormat.unitday;\r\n\t},\r\n};\r\n\r\n/**\r\n *月\r\n */\r\nexport const MONTH: ItimeFormat = {\r\n\tname: \"1m\",\r\n\tlang: \"onemonth\",\r\n\ttimeGap: 1000 * 60 * 60 * 24 * 30,\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst now = new Date(timeStamp);\r\n\r\n\t\t// 设置日期为1\r\n\t\tnow.setDate(1);\r\n\t\tnow.setHours(0);\r\n\t\tnow.setMinutes(0);\r\n\t\tnow.setSeconds(0);\r\n\t\tnow.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = now.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setMonth(date.getMonth() + 1);\r\n\t\tdate.setDate(1);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setMonth(date.getMonth() - 1);\r\n\t\tdate.setDate(1);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setMonth(date.getMonth() + 1 * times);\r\n\t\tdate.setDate(1);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setMonth(date.getMonth() - 1 * times);\r\n\t\tdate.setDate(1);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn {\r\n\t\t\t\tstart: +new Date() - 1000 * 60 * 60 * 24 * 30 * 8,\r\n\t\t\t\tend: +new Date() + 1000 * 60 * 60 * 24 * 30 * 4,\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tstart: +new Date(initTime) - 1000 * 60 * 60 * 24 * 30 * 8,\r\n\t\t\t\tend: +new Date(initTime) + 1000 * 60 * 60 * 24 * 30 * 4,\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\r\n\t\tswitch (date.getMonth()) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.January;\r\n\t\t\tcase 1:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.February;\r\n\t\t\tcase 2:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.March;\r\n\t\t\tcase 3:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.April;\r\n\t\t\tcase 4:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.May;\r\n\t\t\tcase 5:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.June;\r\n\t\t\tcase 6:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.July;\r\n\t\t\tcase 7:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.August;\r\n\t\t\tcase 8:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.September;\r\n\t\t\tcase 9:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.October;\r\n\t\t\tcase 10:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.November;\r\n\t\t\tcase 11:\r\n\t\t\t\treturn LANGUAGES[lan]!.timeFormat.December;\r\n\t\t}\r\n\t},\r\n};\r\n\r\n/**\r\n *年\r\n */\r\nexport const YEAR: ItimeFormat = {\r\n\tname: \"1y\",\r\n\tlang: \"oneYear\",\r\n\ttimeGap: 1000 * 60 * 60 * 24 * 30 * 12,\r\n\troundingFunction: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst now = new Date(timeStamp);\r\n\r\n\t\t// 设置日期为1\r\n\t\tnow.setMonth(0);\r\n\t\tnow.setDate(1);\r\n\t\tnow.setHours(0);\r\n\t\tnow.setMinutes(0);\r\n\t\tnow.setSeconds(0);\r\n\t\tnow.setMilliseconds(0);\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = now.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\tforwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setFullYear(date.getFullYear() + 1);\r\n\t\tdate.setMonth(0);\r\n\t\tdate.setDate(1);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\tbackwardSingleUnit: function (timeStamp, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setFullYear(date.getFullYear() - 1);\r\n\t\tdate.setMonth(0);\r\n\t\tdate.setDate(1);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\t/* 往未来查找n个单位 */\r\n\tforwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setFullYear(date.getFullYear() + 1 * times);\r\n\t\tdate.setMonth(0);\r\n\t\tdate.setDate(1);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\t/* 往过去查找n个单位 */\r\n\tbackwardTimeUnit: function (timeStamp, times, hourShift) {\r\n\t\t// 获取当前时间\r\n\t\tconst date = new Date(timeStamp);\r\n\r\n\t\t// 设置分钟和秒数为0\r\n\t\tdate.setFullYear(date.getFullYear() - 1 * times);\r\n\t\tdate.setMonth(0);\r\n\t\tdate.setDate(1);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\r\n\t\t// 获取当前整小时的时间戳（毫秒）\r\n\t\tlet result = date.getTime() + getshifttime(hourShift);\r\n\t\treturn result;\r\n\t},\r\n\tgetInitTimeScope: function (initTime: string) {\r\n\t\tif (initTime === \"now\") {\r\n\t\t\treturn {\r\n\t\t\t\tstart: +new Date() - 1000 * 60 * 60 * 24 * 30 * 12 * 3,\r\n\t\t\t\tend: +new Date() + 1000 * 60 * 60 * 24 * 30 * 12 * 3,\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tstart: +new Date(initTime) - 1000 * 60 * 60 * 24 * 30 * 12 * 3,\r\n\t\t\t\tend: +new Date(initTime) + 1000 * 60 * 60 * 24 * 30 * 12 * 3,\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tformatter: function (value, lan, hourShift) {\r\n\t\t// 获取时间对象\r\n\t\tconst date = new Date(value);\r\n\r\n\t\treturn date.getFullYear() + LANGUAGES[lan]!.timeFormat.year;\r\n\t},\r\n};\r\n\r\n/**\r\n * 时间类型对应表\r\n */\r\nexport const timeTypeMap: { [propName: string]: ItimeFormat } = {\r\n\t\"1min\": ONEMIN,\r\n\t\"2min\": TWO,\r\n\t\"3min\": THREE,\r\n\t\"5min\": FMIN,\r\n\t\"10min\": TENMIN,\r\n\t\"15min\": FIFMIN,\r\n\t\"30min\": HALFHOUR,\r\n\t\"1h\": HOUR,\r\n\t\"1d\": DAY,\r\n\t\"1w\": WEEK,\r\n\t\"1m\": MONTH,\r\n\t\"1y\": YEAR,\r\n};\r\n\r\n/**\r\n *通过时间对象查找某个数组里的时间为特定时间对象的整数的个数\r\n */\r\nexport const findRoundTimeCountFromArray = function (\r\n\tarray: jsonObjectType[] | number[],\r\n\ttimeShift: number | \"local\",\r\n\tcurrentType: TtimeType,\r\n\tkey?: string\r\n): findRoundTimeCountFromArrayDataItem[] | null {\r\n\tlet getItemTime = function (arr: any[], index: any): number {\r\n\t\tif (typeof array[index] === \"object\" || typeof key !== \"undefined\") {\r\n\t\t\treturn Number(arr[index][key!]);\r\n\t\t}\r\n\t\treturn Number(arr[index]);\r\n\t};\r\n\r\n\t//获得当前的显示时间时区\r\n\t//某些情况下需要错位时间\r\n\t//例如当前时间间隔设置的是1d 那么数据时间可能指示到了08:00:00 而不是0点，所以\r\n\t//这种情况下需要计算这个查找位移\r\n\t//像1d以下的时间就不用计算\r\n\tlet getTimeShift = function () {\r\n\t\tif (currentType === \"1d\" || currentType === \"1w\" || currentType === \"1m\" || currentType === \"1y\") {\r\n\t\t\treturn timeShift;\r\n\t\t}\r\n\t\treturn 0;\r\n\t};\r\n\r\n\tif (array.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tlet result: findRoundTimeCountFromArrayDataItem[] = [];\r\n\tlet start = getItemTime(array, 0);\r\n\tlet end = getItemTime(array, array.length - 1);\r\n\r\n\tlet gap = end - start;\r\n\r\n\tlet _timeTypeMap: { [propName: string]: ItimeFormat } = {};\r\n\r\n\t//小于一小时\r\n\tif (gap < 1000 * 60 * 60) {\r\n\t\t_timeTypeMap = { \"1min\": ONEMIN, \"5min\": FIFMIN, \"10min\": TENMIN };\r\n\t}\r\n\r\n\t//大于1小时，但是小于5小时\r\n\tif (gap >= 1000 * 60 * 60 && gap < 1000 * 60 * 60 * 5) {\r\n\t\t_timeTypeMap = { \"15min\": FIFMIN, \"30min\": HALFHOUR, \"1h\": HOUR };\r\n\t}\r\n\r\n\t//大于5小时，但是小于35小时\r\n\tif (gap >= 1000 * 60 * 60 * 5 && gap < 1000 * 60 * 60 * 35) {\r\n\t\t_timeTypeMap = { \"30min\": HALFHOUR, \"1h\": HOUR };\r\n\t}\r\n\r\n\t//大于35小时，但是小于15天\r\n\tif (gap >= 1000 * 60 * 60 * 35 && gap < 1000 * 60 * 60 * 24 * 15) {\r\n\t\t_timeTypeMap = { \"1h\": HOUR, \"1d\": DAY };\r\n\t}\r\n\r\n\t//大于15天，但是小于55天\r\n\tif (gap >= 1000 * 60 * 60 * 24 * 15 && gap < 1000 * 60 * 60 * 24 * 55) {\r\n\t\t_timeTypeMap = { \"1d\": DAY, \"1m\": MONTH };\r\n\t}\r\n\r\n\t//大于55天，但是小于1年\r\n\tif (gap >= 1000 * 60 * 60 * 24 * 35 && gap < 1000 * 60 * 60 * 24 * 365) {\r\n\t\t_timeTypeMap = { \"1d\": DAY, \"1m\": MONTH, \"1y\": YEAR };\r\n\t}\r\n\r\n\t//大于1年\r\n\tif (gap >= 1000 * 60 * 60 * 24 * 365) {\r\n\t\t_timeTypeMap = { \"1m\": MONTH, \"1y\": YEAR };\r\n\t}\r\n\t//查找数量\r\n\tlet findRoundTimeCount = function (timeType: ItimeFormat): { count: number; startIndex: number; step: number } {\r\n\t\tlet result_c = { count: 0, startIndex: 0, step: 0 };\r\n\t\t//先取整\r\n\t\tlet round = timeType.roundingFunction(end, getTimeShift());\r\n\t\t//然后从后往前找，看看有没有这个时间\r\n\t\tlet latestEqualIndex = binarySearchByKeyStrictlyEqual(array, round, \"forEnd\", key);\r\n\t\t//如果找到的这个下标都已经在数组里过半了，就直接返回0 ，说明这种时间格式不合适\r\n\t\tif (latestEqualIndex === null || latestEqualIndex === -1) {\r\n\t\t\treturn result_c;\r\n\t\t}\r\n\t\tif (latestEqualIndex <= array.length / 2) {\r\n\t\t\tresult_c.count = 1;\r\n\t\t\tresult_c.startIndex = latestEqualIndex!;\r\n\t\t\tresult_c.step = 99999999999999999;\r\n\t\t\treturn result_c;\r\n\t\t}\r\n\t\t//找到了它就根据它继续找下一个，获得跨度\r\n\t\tlet nextRound = timeType.backwardSingleUnit(getItemTime(array, latestEqualIndex), getTimeShift());\r\n\t\t//找到下一个这个时间类型的整数点\r\n\t\tlet nextEqualIndex = binarySearchByKeyStrictlyEqual(array.slice(0, latestEqualIndex), nextRound, \"forEnd\", key);\r\n\t\tif (nextEqualIndex === null || nextEqualIndex === -1) {\r\n\t\t\tresult_c.count = 1;\r\n\t\t\tresult_c.startIndex = latestEqualIndex!;\r\n\t\t\tresult_c.step = 99999999999999999;\r\n\t\t\treturn result_c;\r\n\t\t}\r\n\t\t//计算两个时间下标点之间的差，获得step\r\n\t\tlet step = latestEqualIndex - 1 - nextEqualIndex;\r\n\t\t//计算按照这种时间格式进行排列时的个数\r\n\t\tlet stepCount = countSelectedElements(latestEqualIndex + 1, step);\r\n\r\n\t\tresult_c.count = stepCount;\r\n\t\tresult_c.startIndex = latestEqualIndex;\r\n\t\tresult_c.step = step;\r\n\t\treturn result_c;\r\n\t};\r\n\r\n\tfor (let timeTypeItem in _timeTypeMap) {\r\n\t\tif (\r\n\t\t\t_timeTypeMap.hasOwnProperty(timeTypeItem) &&\r\n\t\t\ttimeTypeItem !== \"1w\" &&\r\n\t\t\ttimeTypeItem !== \"2min\" &&\r\n\t\t\ttimeTypeItem !== \"3min\"\r\n\t\t) {\r\n\t\t\tlet item = _timeTypeMap[timeTypeItem];\r\n\t\t\tresult.push({ ...findRoundTimeCount(item), type: item });\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n};\r\n","import {\r\n  createContext,\r\n  useState,\r\n  useContext,\r\n  useRef,\r\n  useCallback,\r\n  useEffect,\r\n  FC,\r\n  ReactElement,\r\n} from 'react';\r\n\r\nimport { pointCoord } from '../interface/itemsInterFace';\r\nimport {\r\n  anyTimeToGMT0000ToTarget,\r\n  arrayToHash,\r\n  findIntersection,\r\n  getRangePosition,\r\n  getSpaceSize,\r\n  hasDuplicates,\r\n  localTimeToGMT0000,\r\n} from '../utils/consts';\r\nimport useThrottle from './throttleHook';\r\nimport { IAxisobj, IuseCandleHook, TAxis } from '../interface/hooksInterFace';\r\nimport { Iaxis } from '../interface/configInterFaces';\r\nimport { DEFAULTAXISVALUES } from '../utils/defaultValues';\r\nimport {\r\n  DAY,\r\n  FIFMIN,\r\n  FMIN,\r\n  HALFHOUR,\r\n  HOUR,\r\n  MONTH,\r\n  ONEMIN,\r\n  TENMIN,\r\n  THREE,\r\n  TWO,\r\n  WEEK,\r\n  YEAR,\r\n  findRoundTimeCountFromArray,\r\n  timeTypeMap,\r\n} from '../utils/timeFormatDefine';\r\nimport {\r\n  IToolTipItem,\r\n  findRoundTimeCountFromArrayDataItem,\r\n  jsonObjectType,\r\n  netLineItem,\r\n  numberScope,\r\n  tickItem,\r\n} from '../interface/itemsInterFace';\r\nimport { ItimeFormat, TtimeType } from '../interface/timeDefineInterFace';\r\n\r\n/**\r\n * x轴钩子\r\n */\r\nconst usexAxis: TAxis = function(args, igorn, config): IAxisobj {\r\n  const moveThrettor = useThrottle();\r\n\r\n  /**\r\n   *默认参数状态\r\n   */\r\n  const [initArgs, setinitArgs] = useState<Iaxis>(\r\n    Object.assign(true, DEFAULTAXISVALUES, args)\r\n  );\r\n  const [initArgsChange, setinitArgsChange] = useState<number>(-1);\r\n\r\n  //鼠标移动速度检测\r\n  const [mousePosition, setmousePosition] = useState<number>(0);\r\n  const [lastmousePosition, setlastmousePosition] = useState<number>(0);\r\n  const [mouseSpeedSec, setmouseSpeedSec] = useState<number>(0);\r\n  const [mouseSpeedTemp, setmouseSpeedTemp] = useState<number>(0);\r\n  const [mouseSpeedTimmer, setmouseSpeedTimmer] = useState<NodeJS.Timeout>();\r\n\r\n  /**\r\n   * ============================state===========================\r\n   */\r\n  const [isMounted, setIsMounted] = useState<boolean>(false);\r\n  /**\r\n   * 是否已完成初始化\r\n   */\r\n  const [isFinishedInit, setisFinishedInit] = useState<boolean>(false);\r\n  /**\r\n   * 普通的更新状态（位移，缩放）\r\n   */\r\n  const [xAxisUpdateTimeStamp, setxAxisUpdateTimeStamp] = useState<number>(-1);\r\n  const [\r\n    xAxisUpdateMoveMentTimeStamp,\r\n    setxAxisUpdateMoveMentTimeStamp,\r\n  ] = useState<number>(-1);\r\n  const [xAxisUpdateScaleTimeStamp, setxAxisUpdateScaleTimeStamp] = useState<\r\n    number\r\n  >(-1);\r\n\r\n  /**\r\n   * ============================tooltip state===========================\r\n   */\r\n\r\n  /**\r\n   * tooltip状态\r\n   */\r\n  const [tooltipState, setTooltipState] = useState<IToolTipItem | null>(\r\n    {} as IToolTipItem\r\n  );\r\n  /**\r\n   * tooltip显示状态\r\n   */\r\n  const [tooltipIsShow, settooltipIsShow] = useState<boolean>(false);\r\n\r\n  /**\r\n   * ============================缩放 state===========================\r\n   */\r\n\r\n  //总位移量\r\n  const [moveAmount, setmoveAmount] = useState<number>(0);\r\n  const [x, setx] = useState<number>(0);\r\n\r\n  //缩放量\r\n  const [scaleValue, setscaleValue] = useState<number>(1);\r\n  const [orgScope, setorgScope] = useState<numberScope>({ start: 0, end: 0 });\r\n\r\n  /**\r\n   * 每次缩放的增减值\r\n   */\r\n  const [scaleStep, setscaleStep] = useState<number>(0.1);\r\n\r\n  /**\r\n   * 计算显示tick时跳过tick的数量\r\n   */\r\n  const [tickStep, settickStep] = useState<number>(0);\r\n\r\n  /**\r\n   * ============================时间 state===========================\r\n   */\r\n\r\n  /**\r\n   * 当前时间类型\r\n   */\r\n  const [currentTimeType, setcurrentTimeType] = useState<ItimeFormat | null>(\r\n    null\r\n  );\r\n\r\n  /**\r\n   * 初始时间范围 (上次的时间范围 )\r\n   */\r\n  const [lastTimeScope, setlastTimeScope] = useState<{\r\n    /**\r\n     * 最左边的时间\r\n     */\r\n    start: number;\r\n    /**\r\n     * 最右边的时间\r\n     */\r\n    end: number;\r\n  }>({\r\n    start: 0,\r\n    end: 0,\r\n  });\r\n\r\n  /**\r\n   * 当前时间范围\r\n   */\r\n  const [currentTimeScope, setcurrentTimeScope] = useState<numberScope>({\r\n    /**\r\n     * 最左边的时间\r\n     */\r\n    start: 0,\r\n    /**\r\n     * 最右边的时间\r\n     */\r\n    end: 0,\r\n  });\r\n\r\n  /**\r\n   * view的全量尺寸\r\n   */\r\n  const [viewSize, setviewSize] = useState<{ width: number; height: number }>({\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n\r\n  /**\r\n   * ============================line 属性state===========================\r\n   */\r\n\r\n  /**\r\n   * y轴的label空间\r\n   */\r\n  const [yAxisSpace, setyAxisSpace] = useState<number>(0);\r\n\r\n  /**\r\n   * line的位置（上左定位）\r\n   *内容区和label区的分割线的位置\r\n   */\r\n  const [linePosition, setlinePosition] = useState<pointCoord>({ x: 0, y: 0 });\r\n  const [labelSpace, setlabelSpace] = useState<number>(0);\r\n\r\n  /**\r\n   * line的尺寸\r\n   */\r\n  const [lineSize, setlineSize] = useState<{\r\n    /**\r\n     * line的长度\r\n     */\r\n    width: number;\r\n    /**\r\n     * line的粗细\r\n     */\r\n    size: number;\r\n  }>({\r\n    width: 0,\r\n    size: 0,\r\n  });\r\n\r\n  /**\r\n   * line的颜色\r\n   */\r\n  const [lineColor, setlineColor] = useState<string>('');\r\n\r\n  /**\r\n   * ============================网格线 属性state===========================\r\n   */\r\n\r\n  /**\r\n   * 网格线组\r\n   */\r\n  const [netLineArr, setnetLineArr] = useState<Array<netLineItem>>([]);\r\n\r\n  /**\r\n   * 网格线的最大数量\r\n   */\r\n  const [netLineMaxCount, setnetLineMaxCount] = useState<number>(0);\r\n\r\n  /**\r\n   * 轴网格线最小数量\r\n   */\r\n  const [netLineMinCount, setnetLineMinCount] = useState<number>(0);\r\n\r\n  /**\r\n   * ============================tick 属性state===========================\r\n   */\r\n  /**\r\n   * 真实tick组（实际的tick组）\r\n   */\r\n  const [tickArr, settickArr] = useState<Array<tickItem>>([]);\r\n\r\n  /**\r\n   * 显示tick组（用于显示的tick）\r\n   */\r\n  const [displayTickArr, setdisplayTickArr] = useState<Array<tickItem>>([]);\r\n  /**\r\n   * tick的共有数据宽度\r\n   */\r\n  const [displayTickCommonWidth, setdisplayTickCommonWidth] = useState<number>(\r\n    0\r\n  );\r\n  /**\r\n   * tick的共有像素宽度\r\n   */\r\n  const [displayTickCommonpixWidth, setdisplayTickCommonpixWidth] = useState<\r\n    number\r\n  >(0);\r\n\r\n  /**\r\n   * ============================ref===========================\r\n   */\r\n  const [candleObj, setcandleObj] = useState<IuseCandleHook | null>(null);\r\n\r\n  /**\r\n   * ============================静态变量===========================\r\n   */\r\n\r\n  /**\r\n   * ==========================函数==============================\r\n   */\r\n\r\n  /**\r\n   * 初始化轴\r\n   *@param {TtimeType} timeType 时间类型\r\n   *@param  {number} viewWidth 界面的全量宽度\r\n   *@param  {number} viewHeight 界面的全量高度\r\n   *@param {number | string} yAxisLabelSpace y轴的label空间\r\n   *@returns {void}\r\n   */\r\n  const initAxisSates = function(\r\n    timeType: TtimeType,\r\n    viewWidth: number,\r\n    viewHeight: number,\r\n    yAxisLabelSpace: number | string\r\n  ) {\r\n    /* 设置各项属性 */\r\n    setviewSize({\r\n      width: viewWidth,\r\n      height: viewHeight,\r\n    });\r\n    setyAxisSpace(getSpaceSize(yAxisLabelSpace, viewWidth));\r\n\r\n    setlinePosition({\r\n      x: 0,\r\n      y: viewHeight - getSpaceSize(initArgs.labelSpace!, viewHeight),\r\n    });\r\n    setlineSize({\r\n      width: viewWidth - getSpaceSize(yAxisLabelSpace, viewWidth),\r\n      size: initArgs.lineSize!,\r\n    });\r\n    setlabelSpace(getSpaceSize(initArgs.labelSpace!, viewHeight));\r\n    setlineColor(initArgs.lineColor!);\r\n    setnetLineMaxCount(initArgs.netLineMaxCount!);\r\n    setnetLineMinCount(initArgs.netLineMinCount!);\r\n\r\n    /* 重置属性 */\r\n    setorgScope({ start: 0, end: 0 });\r\n    setlastTimeScope({ start: 0, end: 0 });\r\n    setcurrentTimeScope({ start: 0, end: 0 });\r\n    settickArr([]);\r\n    setnetLineArr([]);\r\n    setdisplayTickArr([]);\r\n    setx(0);\r\n    setmoveAmount(0);\r\n\r\n    let tiemType = timeTypeMap[timeType];\r\n    setcurrentTimeType(tiemType);\r\n  };\r\n\r\n  const update = function() {\r\n    setlineColor(initArgs.lineColor!);\r\n  };\r\n\r\n  /**\r\n   * 往以前推测时间\r\n   */\r\n  const timeSpeculation_backrward = function(\r\n    timeInteger: number,\r\n    initTimeScopeStart: number\r\n  ): Array<number> {\r\n    var currentTime = timeInteger;\r\n    let timeScopeArr = [timeInteger];\r\n    while (true) {\r\n      currentTime = currentTimeType!.backwardSingleUnit(\r\n        currentTime,\r\n        config!.timeZone!.displayTimeZone!\r\n      );\r\n      if (currentTime < initTimeScopeStart) {\r\n        break;\r\n      } else {\r\n        //从顶端往里推入\r\n        timeScopeArr.unshift(currentTime);\r\n      }\r\n    }\r\n    return timeScopeArr;\r\n  };\r\n\r\n  /**\r\n   * 往未来推测时间\r\n   */\r\n  const timeSpeculation_forward = function(\r\n    timeInteger: number,\r\n    initTimeScopeEnd: number\r\n  ): Array<number> {\r\n    var currentTime = timeInteger;\r\n    let timeScopeArr = [timeInteger];\r\n    while (true) {\r\n      currentTime = currentTimeType!.forwardSingleUnit(\r\n        currentTime,\r\n        config!.timeZone!.displayTimeZone!\r\n      );\r\n      if (currentTime > initTimeScopeEnd) {\r\n        break;\r\n      } else {\r\n        //从后面里推入\r\n        timeScopeArr.push(currentTime);\r\n      }\r\n    }\r\n    return timeScopeArr;\r\n  };\r\n\r\n  /**\r\n   * 扩展tick组\r\n   */\r\n  const updateTicks = function(\r\n    targetTickArr: tickItem[],\r\n    timeScope: numberScope,\r\n    isComputCommonProp: boolean,\r\n    _moveAmount: number,\r\n    moveDir: 'add' | 'min' | 'all'\r\n  ): tickItem[] {\r\n    if (moveDir === 'add' || moveDir === 'all') {\r\n      let forwardArr = timeSpeculation_forward(\r\n        targetTickArr[targetTickArr.length - 1].value as number,\r\n        timeScope.end\r\n      );\r\n\r\n      if (forwardArr.length > 1) {\r\n        let arr = createTickers(\r\n          forwardArr,\r\n          timeScope,\r\n          isComputCommonProp,\r\n          _moveAmount\r\n        );\r\n        for (var i = 1; i < arr.length; i++) {\r\n          targetTickArr.push(arr[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (moveDir === 'min' || moveDir === 'all') {\r\n      let backwardArr = timeSpeculation_backrward(\r\n        targetTickArr[0].value as number,\r\n        timeScope.start\r\n      );\r\n      if (backwardArr.length > 1) {\r\n        let arr = createTickers(\r\n          backwardArr,\r\n          timeScope,\r\n          isComputCommonProp,\r\n          _moveAmount\r\n        );\r\n        for (var i = arr.length - 2; i > -1; i--) {\r\n          targetTickArr.unshift(arr[i]);\r\n        }\r\n      }\r\n    }\r\n    let commonPixProperties;\r\n    if (isComputCommonProp) {\r\n      commonPixProperties = computTickCommonProp(\r\n        timeScope,\r\n        lineSize.width,\r\n        targetTickArr.length\r\n      );\r\n    } else {\r\n      commonPixProperties = {\r\n        dataWidth: displayTickCommonWidth,\r\n        pixWidth: displayTickCommonpixWidth,\r\n        incriseWidth: (function() {\r\n          return lineSize.width * initArgs.displayPadding!;\r\n        })(),\r\n      };\r\n    }\r\n\r\n    if (isComputCommonProp) {\r\n      //更新位置\r\n      let index = 0;\r\n      for (var item of targetTickArr) {\r\n        let width = lineSize.width + commonPixProperties.incriseWidth * 2;\r\n        //计算位置\r\n        item.cPosition = {\r\n          x:\r\n            getRangePosition(Number(item.value), timeScope, width) -\r\n            commonPixProperties.incriseWidth -\r\n            _moveAmount,\r\n          y: linePosition.y,\r\n        };\r\n        item.index = index;\r\n        index++;\r\n\r\n        item = computDataPixTick(\r\n          item,\r\n          timeScope,\r\n          index,\r\n          commonPixProperties.dataWidth,\r\n          commonPixProperties.pixWidth\r\n        );\r\n      }\r\n      targetTickArr = targetTickArr.sort(function(a: tickItem, b: tickItem) {\r\n        return (a.value as number) - (b.value as number);\r\n      });\r\n    }\r\n\r\n    return targetTickArr;\r\n  };\r\n\r\n  /**\r\n   * 扩展displaytick组\r\n   */\r\n  const updateDisplayTicks = function(\r\n    targetTickArr: tickItem[],\r\n    newTickArr: tickItem[]\r\n  ): tickItem[] {\r\n    //将tickArr转换成hash 方便查找\r\n    let newTickHash = arrayToHash(newTickArr, 'value');\r\n    //往前扩展\r\n    //取最早的值\r\n    let correspondItem;\r\n    let nextStep = 0;\r\n\r\n    correspondItem = newTickHash[targetTickArr[0].value];\r\n    nextStep = correspondItem.index;\r\n\r\n    while (true) {\r\n      //获得下一个 step\r\n      nextStep = nextStep - 1 - tickStep;\r\n      if (typeof newTickArr[nextStep] === 'undefined') {\r\n        break;\r\n      } else {\r\n        targetTickArr.unshift(newTickArr[nextStep]);\r\n      }\r\n    }\r\n    //往未来扩展\r\n    correspondItem = newTickHash[targetTickArr[targetTickArr.length - 1].value];\r\n    nextStep = correspondItem.index;\r\n    while (true) {\r\n      //获得下一个 step\r\n      nextStep = nextStep + 1 + tickStep;\r\n      if (typeof newTickArr[nextStep] === 'undefined') {\r\n        break;\r\n      } else {\r\n        targetTickArr.unshift(newTickArr[nextStep]);\r\n      }\r\n    }\r\n\r\n    //去重\r\n    return Array.from(new Set(targetTickArr));\r\n  };\r\n\r\n  //计算tick的共有属性\r\n  const computTickCommonProp = function(\r\n    range: numberScope,\r\n    width: number,\r\n    totalArrLength: number\r\n  ) {\r\n    //扩展宽度 增加数据显示边界 padding\r\n    let incriseWidth = width * initArgs.displayPadding!;\r\n    width = width + incriseWidth * 2;\r\n    //计算数据宽度\r\n    let dataWidth = (range.end - range.start) / totalArrLength;\r\n    //计算像素宽度\r\n    let pixWidth = width / totalArrLength;\r\n    setdisplayTickCommonWidth(dataWidth);\r\n    setdisplayTickCommonpixWidth(pixWidth);\r\n\r\n    return { dataWidth, pixWidth, incriseWidth };\r\n  };\r\n\r\n  /**\r\n   * 计算tick的位置和数据关系数据\r\n   */\r\n  const computDataPixTick = function(\r\n    item: tickItem,\r\n    range: numberScope,\r\n    index: number,\r\n    dataWidth: number,\r\n    pixWidth: number\r\n  ): tickItem {\r\n    item.dataSpace = {\r\n      start: index * dataWidth + range.start,\r\n      end: (index + 1) * dataWidth + range.start,\r\n    };\r\n\r\n    //计算占用像素范围\r\n    item.pixSpace = {\r\n      start: item.cPosition.x - pixWidth / 2,\r\n      end: item.cPosition.x + pixWidth / 2,\r\n    };\r\n\r\n    return item;\r\n  };\r\n\r\n  /**\r\n   * 创建真实tick组\r\n   */\r\n  const createTickers = function(\r\n    arr: number[],\r\n    range: numberScope,\r\n    isComputCommonProp: boolean,\r\n    moveAmount: number\r\n  ): Array<tickItem> {\r\n    let result: Array<tickItem> = [];\r\n\r\n    let commonPixProperties;\r\n\r\n    if (isComputCommonProp) {\r\n      commonPixProperties = computTickCommonProp(\r\n        range,\r\n        lineSize.width,\r\n        arr.length\r\n      );\r\n    } else {\r\n      commonPixProperties = {\r\n        dataWidth: displayTickCommonWidth,\r\n        pixWidth: displayTickCommonpixWidth,\r\n        incriseWidth: (function() {\r\n          return lineSize.width * initArgs.displayPadding!;\r\n        })(),\r\n      };\r\n    }\r\n    let index = 0;\r\n    for (var item of arr) {\r\n      let resultItem: tickItem = {\r\n        color: initArgs.tickColor!,\r\n        length: getSpaceSize(initArgs.tickLength!, viewSize.height),\r\n        size: getSpaceSize(initArgs.tickSize!, viewSize.height),\r\n        cPosition: { x: 0, y: linePosition.y },\r\n        value: item,\r\n      };\r\n      let width = lineSize.width + commonPixProperties.incriseWidth * 2;\r\n      //计算位置\r\n      resultItem.cPosition = {\r\n        x:\r\n          getRangePosition(Number(resultItem.value), range, width) -\r\n          commonPixProperties.incriseWidth -\r\n          moveAmount,\r\n        y: linePosition.y,\r\n      };\r\n      resultItem.index = index;\r\n\r\n      result.push(\r\n        computDataPixTick(\r\n          resultItem,\r\n          range,\r\n          index,\r\n          commonPixProperties.dataWidth,\r\n          commonPixProperties.pixWidth\r\n        )\r\n      );\r\n      index++;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * 创建显示Ticker\r\n   * 大于netLineMaxCount就每隔一个项目减半,减半还是大于netLineMaxCount,就再减半，模拟递归\r\n   */\r\n  const createDisplayTickers = function(arr: tickItem[]): tickItem[] {\r\n    let result = arr;\r\n    let _tickStep = 0;\r\n    while (true) {\r\n      if (result.length > netLineMaxCount) {\r\n        let cArr: tickItem[] = [];\r\n        let index = 0;\r\n        for (var item of result) {\r\n          if (index % 2) {\r\n            cArr.push(item);\r\n          }\r\n          index++;\r\n        }\r\n        result = cArr;\r\n\r\n        if (_tickStep < 1) {\r\n          _tickStep = _tickStep + 1;\r\n        } else {\r\n          _tickStep = _tickStep * 2 + 1;\r\n        }\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n    settickStep(_tickStep);\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * 通过像素位置查找目标tick\r\n   */\r\n  //const findTick = function (position: number, key: \"pixSpace\" | \"dataSpace\"): tickItem | null {\r\n  //\tvar _tickerArr = tickArr;\r\n  //\tvar _findArr: tickItem[] = [];\r\n  //\tvar centerPoint = 0;\r\n  //\twhile (true) {\r\n  //\t\tcenterPoint = Number(((_tickerArr.length - 1) / 2).toFixed(0));\r\n  //\t\tvar isFind = false;\r\n  //\r\n  //\t\tvar find = function (start: number, end: number) {\r\n  //\t\t\tif (_tickerArr[start][key]!.start <= position && _tickerArr[end][key]!.end >= position) {\r\n  //\t\t\t\tisFind = true;\r\n  //\t\t\t\t_findArr = _tickerArr.slice(start, end + 1);\r\n  //\t\t\t}\r\n  //\t\t};\r\n  //\r\n  //\t\tlet start = 0;\r\n  //\t\tlet end = centerPoint;\r\n  //\t\tif (_tickerArr.length === 2) {\r\n  //\t\t\tstart = 0;\r\n  //\t\t\tend = 0;\r\n  //\t\t}\r\n  //\t\t//在第一组范围里查找\r\n  //\t\tfind(start, end);\r\n  //\r\n  //\t\tif (_findArr.length === 1) {\r\n  //\t\t\treturn _findArr[0];\r\n  //\t\t}\r\n  //\t\tif (isFind) {\r\n  //\t\t\t_tickerArr = _findArr;\r\n  //\t\t\tcontinue;\r\n  //\t\t}\r\n  //\r\n  //\t\tstart = centerPoint;\r\n  //\t\tend = _tickerArr.length - 1;\r\n  //\t\tif (_tickerArr.length === 2) {\r\n  //\t\t\tstart = 1;\r\n  //\t\t\tend = 1;\r\n  //\t\t}\r\n  //\t\t//在第二组范围里查找\r\n  //\t\tfind(start, end);\r\n  //\r\n  //\t\tif (_findArr.length === 1) {\r\n  //\t\t\treturn _findArr[0];\r\n  //\t\t}\r\n  //\t\tif (isFind === false) {\r\n  //\t\t\treturn null;\r\n  //\t\t} else {\r\n  //\t\t\t_tickerArr = _findArr;\r\n  //\t\t}\r\n  //\t}\r\n  //};\r\n\r\n  //ai 优化后的版本\r\n  const findTick = function(\r\n    position: number,\r\n    key: 'pixSpace' | 'dataSpace'\r\n  ): tickItem | null {\r\n    let tickerArr = tickArr.slice(); // 复制数组以避免修改原数组\r\n    let centerIndex = 0;\r\n\r\n    while (tickerArr.length > 1) {\r\n      centerIndex = Math.floor(tickerArr.length / 2);\r\n      const midTick = tickerArr[centerIndex];\r\n\r\n      if (midTick[key]!.start <= position && midTick[key]!.end >= position) {\r\n        // 直接找到目标，无需继续查找\r\n        return midTick;\r\n      } else if (midTick[key]!.end < position) {\r\n        // 调整查找范围到右半部分\r\n        tickerArr = tickerArr.slice(centerIndex + 1);\r\n      } else {\r\n        // 调整查找范围到左半部分\r\n        tickerArr = tickerArr.slice(0, centerIndex);\r\n      }\r\n    }\r\n\r\n    // 若数组只剩一个元素且未直接命中，则判断该元素是否符合条件\r\n    return tickerArr.length === 1 && tickerArr[0][key]!.end >= position\r\n      ? tickerArr[0]\r\n      : null;\r\n  };\r\n\r\n  /**\r\n   * 创建x轴的网格 (纵向)\r\n   */\r\n  const createNetLines = function(displaytickItems: tickItem[]): netLineItem[] {\r\n    let results: netLineItem[] = [];\r\n    for (var item of displaytickItems) {\r\n      results.push({\r\n        /**\r\n         * 网格线颜色\r\n         */\r\n        color: initArgs.netLineColor!,\r\n        /**\r\n         * 网格线长度\r\n         */\r\n        length: linePosition.y,\r\n        /**\r\n         * 网格线粗细\r\n         */\r\n        size: initArgs.netLineSize!,\r\n        /**\r\n         * 网格线位置\r\n         * （上中定位）\r\n         */\r\n        cPosition: { x: item.cPosition.x, y: 0 },\r\n        /**\r\n         * 值\r\n         */\r\n        value: item.value,\r\n      });\r\n    }\r\n    return results;\r\n  };\r\n\r\n  //从所有等差数列的参数里算出具体的数列\r\n  //1.从数组里挑出合适数量的时间类型(最好两组一组时间稍多，一组稍少 )\r\n  //2.按照挑选的两个等差数列的参数，从tickArr中挑选出具体的数组\r\n  //2.合并两个数组\r\n  //3.输出\r\n  const createDisplayTickersByDate = function(\r\n    tickArr: tickItem[],\r\n    displayTickRoundValuesArray: findRoundTimeCountFromArrayDataItem[]\r\n  ) {\r\n    tickArr = [...tickArr];\r\n    let displayTickArr1: tickItem[] = [];\r\n    let displayTickArr2: tickItem[] = [];\r\n    let isFind = false;\r\n    for (let item of displayTickRoundValuesArray) {\r\n      if (isFind) {\r\n        if (item.count !== 0) {\r\n          displayTickArr2 = getTickWithFormated(tickArr, item);\r\n        }\r\n        break;\r\n      }\r\n      if (\r\n        item.count > initArgs.netLineMinCount! &&\r\n        item.count < initArgs.netLineMaxCount!\r\n      ) {\r\n        isFind = true;\r\n        displayTickArr1 = getTickWithFormated(tickArr, item);\r\n      }\r\n    }\r\n\r\n    let displayTickArr2Map = arrayToHash(displayTickArr2, 'value');\r\n    let result: tickItem[] = [];\r\n    for (var item of displayTickArr1) {\r\n      if (typeof displayTickArr2Map[item.value] !== 'undefined') {\r\n        result.push(displayTickArr2Map[item.value]);\r\n      } else {\r\n        result.push(item);\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const getTickWithFormated = function(\r\n    tickArr: tickItem[],\r\n    xCondition: findRoundTimeCountFromArrayDataItem\r\n  ): tickItem[] {\r\n    let result: tickItem[] = [];\r\n    //先取到第一个\r\n    let currentIndex = xCondition.startIndex;\r\n    let currentItem = tickArr[currentIndex];\r\n    currentItem.displayValue = xCondition.type.formatter(\r\n      Number(currentItem.value),\r\n      config?.language!,\r\n      config!.timeZone!.displayTimeZone\r\n    );\r\n    result.push(currentItem);\r\n    //然后再依次取剩下的\r\n    for (let i = xCondition.count; i > -1; i--) {\r\n      currentIndex = currentIndex - 1 - xCondition.step;\r\n      if (typeof tickArr[currentIndex] === 'undefined') {\r\n        break;\r\n      }\r\n      currentItem = tickArr[currentIndex];\r\n      currentItem.displayValue = xCondition.type.formatter(\r\n        Number(currentItem.value),\r\n        config?.language!,\r\n        config!.timeZone!.displayTimeZone\r\n      );\r\n      result.push(currentItem);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * 初始化时\r\n   * 制造轴数据\r\n   */\r\n  const createAxisData = function() {\r\n    /* \r\n            1.获得初始的时间范围\r\n            1.1 拟定时间范围，例如从当前时间往前推 24 小时，这是拟定的时间范围\r\n            1.2 确定标准时间范围，根据设置的时间类型 以当前时间进行取整+1 获得最末尾时间（最右边的时间），然后将时间往前推，每次一个单位（例如小时），直到超出“拟定时间范围” 得到最开始时间｛最左边的时间｝ 输出【｛最左边的时间｝，｛最左边的时间｝】时间范围； 真实 tick 数数组；\r\n            1.3 获得显示 tick 组 根据上面生成的 真实小时数数组；以及 最大 tick 显示数量，和最小显示 tick 数量；计算 显示 tick 组\r\n        */\r\n\r\n    /**\r\n     * 粗糙时间范围\r\n     */\r\n    let _flexTimeScope = currentTimeType!.getInitTimeScope(\r\n      initArgs.initTimePoint!\r\n    );\r\n    //如果设置了时间归零\r\n    //就需要把起始的时区算成GMT +0000\r\n    if (config!.timeZone!.displayTimeZone !== 'local') {\r\n      let date = new Date();\r\n      let localtimeZone = Math.abs(date.getTimezoneOffset() / 60);\r\n      _flexTimeScope.start = anyTimeToGMT0000ToTarget(\r\n        _flexTimeScope.start,\r\n        localtimeZone,\r\n        config!.timeZone!.displayTimeZone\r\n      );\r\n      _flexTimeScope.end = anyTimeToGMT0000ToTarget(\r\n        _flexTimeScope.end,\r\n        localtimeZone,\r\n        config!.timeZone!.displayTimeZone\r\n      );\r\n    }\r\n\r\n    /**\r\n     * 当前的整数时间\r\n     */\r\n    let _timeInteger = currentTimeType!.roundingFunction(\r\n      _flexTimeScope!.end!,\r\n      config!.timeZone!.displayTimeZone!\r\n    );\r\n    /* 对齐整数的时间组 */\r\n    let realTimeArr = timeSpeculation_backrward(\r\n      _timeInteger,\r\n      _flexTimeScope?.start!\r\n    );\r\n\r\n    /**\r\n     * 当前时间范围\r\n     */\r\n    let _currentTimeScope = _flexTimeScope;\r\n    /**\r\n     * 真实数据位置\r\n     */\r\n    let _tickerArr = createTickers(realTimeArr, _flexTimeScope, true, 0);\r\n\r\n    //挑选出所有按时间整数排列的等差数列的参数\r\n    let displayTickRoundValuesArray = findRoundTimeCountFromArray(\r\n      (_tickerArr as unknown) as jsonObjectType[],\r\n      config!.timeZone!.displayTimeZone!,\r\n      config!.timeFormat!,\r\n      'value'\r\n    );\r\n    let _displayTickerArr;\r\n    if (displayTickRoundValuesArray === null) {\r\n      /**\r\n       * 用于显示的ticker\r\n       */\r\n      _displayTickerArr = createDisplayTickers(_tickerArr);\r\n\r\n      _displayTickerArr = _displayTickerArr.sort(function(\r\n        a: tickItem,\r\n        b: tickItem\r\n      ) {\r\n        return (a.value as number) - (b.value as number);\r\n      });\r\n    } else {\r\n      //从所有等差数列的参数里算出具体的数列\r\n      _displayTickerArr = createDisplayTickersByDate(\r\n        _tickerArr,\r\n        displayTickRoundValuesArray\r\n      );\r\n    }\r\n\r\n    /**\r\n     * 网格线组\r\n     */\r\n    let _netLineArr = createNetLines(_displayTickerArr);\r\n\r\n    setorgScope(_flexTimeScope);\r\n    setlastTimeScope(_flexTimeScope);\r\n    setcurrentTimeScope(_currentTimeScope);\r\n    settickArr(_tickerArr);\r\n    setnetLineArr(_netLineArr);\r\n    setdisplayTickArr(_displayTickerArr);\r\n    setisFinishedInit(true);\r\n    setxAxisUpdateTimeStamp(+new Date());\r\n    //这里产生出来的指针会偏移一点，很正常 因为最末尾的时间是根据当前时间来的\r\n    //倒数第一个指针是根据最末尾时间取整得来的\r\n  };\r\n\r\n  /**\r\n   * 移动轴(鼠标拖拽)\r\n   */\r\n  const moveContainer = function(\r\n    start: number,\r\n    stop: number,\r\n    isSaveScope: boolean\r\n  ) {\r\n    if (isFinishedInit) {\r\n      let pureLength = stop - start;\r\n      let _moveAmount = pureLength + moveAmount;\r\n\r\n      //设置鼠标位置用于计算鼠标速度\r\n      setmousePosition(stop);\r\n\r\n      //设置x用于更新画面\r\n      setx(pureLength + moveAmount);\r\n      if (isSaveScope) {\r\n        setmoveAmount(_moveAmount);\r\n      }\r\n\r\n      //计算移动，并更新tick\r\n      window.requestAnimationFrame(function() {\r\n        moveAxis(start, stop, isSaveScope);\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 移动轴(鼠标拖拽)\r\n   */\r\n  const moveAxis = function(start: number, stop: number, isSaveScope: boolean) {\r\n    if (\r\n      candleObj?.data.isFetchingData &&\r\n      config?.data?.dynamicData?.stopUserOperateWhenLoading\r\n    ) {\r\n      return;\r\n    }\r\n    if (isFinishedInit) {\r\n      let width = lineSize.width;\r\n      //扩展宽度 增加数据显示边界 padding\r\n      let incriseWidth = width * initArgs.displayPadding!;\r\n      width = width + incriseWidth * 2;\r\n      //移动长度\r\n      let length = stop - start;\r\n      let pureLength = stop - start;\r\n      let _moveAmount = pureLength + moveAmount;\r\n      //加还是减\r\n      let sign: 'add' | 'min' = 'add';\r\n      if (length > 0) {\r\n        sign = 'min';\r\n      }\r\n\r\n      length = Math.abs(length);\r\n\r\n      //计算这段线在整个宽度里占有百分之多少\r\n      let prec = length / width;\r\n\r\n      //按比例计算出时间变化量\r\n      let changeScope = Number(\r\n        ((lastTimeScope.end - lastTimeScope.start) * prec).toFixed(0)\r\n      );\r\n      if (sign === 'min') {\r\n        changeScope = 0 - changeScope;\r\n      }\r\n\r\n      //从新计算currentTimeScope\r\n      let _currentTimeScope = {\r\n        start: lastTimeScope.start + changeScope,\r\n        end: lastTimeScope.end + changeScope,\r\n      };\r\n\r\n      //-----------------比例计算完成开始更新------------------\r\n      /**\r\n       * 用真实数组位置 以及当前取到的时间范围取交集\r\n       * 取所有tick的交集\r\n       */\r\n      let resultInterArr = findIntersection(tickArr, _currentTimeScope);\r\n\r\n      /**\r\n       * 用剩下的tick去进行扩展\r\n       */\r\n      let newTicks = updateTicks(\r\n        resultInterArr,\r\n        _currentTimeScope,\r\n        false,\r\n        _moveAmount,\r\n        (function() {\r\n          if (pureLength + moveAmount - x > 0) {\r\n            return 'min';\r\n          }\r\n\r\n          return 'add';\r\n        })()\r\n      );\r\n\r\n      /* let displayTickRoundValuesArray = findRoundTimeCountFromArray(\r\n\t\t\t\tnewTicks as unknown as jsonObjectType[],\r\n\t\t\t\t\"value\"\r\n\t\t\t); */\r\n\r\n      //挑选出所有按时间整数排列的等差数列的参数\r\n      let displayTickRoundValuesArray = findRoundTimeCountFromArray(\r\n        (newTicks as unknown) as jsonObjectType[],\r\n        config!.timeZone!.displayTimeZone!,\r\n        config!.timeFormat!,\r\n        'value'\r\n      );\r\n      let _displayTickerArr;\r\n      if (displayTickRoundValuesArray === null) {\r\n        /**\r\n         * 求新时间范围和旧显示tick的交集\r\n         * 旧显示tick的交集\r\n         */\r\n        let resultInterDisplayArr = findIntersection(\r\n          displayTickArr,\r\n          _currentTimeScope\r\n        );\r\n\r\n        if (resultInterDisplayArr.length === 0) {\r\n          _displayTickerArr = createDisplayTickers(newTicks);\r\n        } else {\r\n          _displayTickerArr = updateDisplayTicks(\r\n            resultInterDisplayArr,\r\n            newTicks\r\n          );\r\n        }\r\n        _displayTickerArr = _displayTickerArr.sort(function(\r\n          a: tickItem,\r\n          b: tickItem\r\n        ) {\r\n          return (a.value as number) - (b.value as number);\r\n        });\r\n      } else {\r\n        //从所有等差数列的参数里算出具体的数列\r\n        _displayTickerArr = createDisplayTickersByDate(\r\n          newTicks,\r\n          displayTickRoundValuesArray\r\n        );\r\n      }\r\n\r\n      /**\r\n       * 网格线组\r\n       */\r\n      let _netLineArr = createNetLines(_displayTickerArr);\r\n      setxAxisUpdateMoveMentTimeStamp(+new Date());\r\n      setcurrentTimeScope(_currentTimeScope);\r\n      settickArr(newTicks);\r\n      setnetLineArr(_netLineArr);\r\n      setdisplayTickArr(_displayTickerArr);\r\n      if (isSaveScope) {\r\n        setlastTimeScope(_currentTimeScope);\r\n      }\r\n      setxAxisUpdateTimeStamp(+new Date());\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 缩放\r\n   */\r\n  const scale = function(\r\n    point: number,\r\n    precent: number,\r\n    movement: 'zoomIn' | 'zoomOut' | 'keep'\r\n  ) {\r\n    if (\r\n      candleObj?.data.isFetchingData &&\r\n      config?.data?.dynamicData?.stopUserOperateWhenLoading\r\n    ) {\r\n      return;\r\n    }\r\n    if (tickArr.length > 24 * 60 * 2 && movement === 'zoomOut') {\r\n      return;\r\n    }\r\n\r\n    //最小缩放\r\n    if (tickArr.length <= netLineMinCount && movement === 'zoomIn') {\r\n      return;\r\n    }\r\n\r\n    if (isFinishedInit) {\r\n      let leftPrecent = point / lineSize.width;\r\n      let rightPrecent = 1 - leftPrecent;\r\n      leftPrecent = (precent * 100 * leftPrecent) / 100;\r\n      rightPrecent = (precent * 100 * rightPrecent) / 100;\r\n\r\n      /**\r\n       * 粗糙时间范围\r\n       */\r\n      let _currentTimeScope = lastTimeScope;\r\n      let total = _currentTimeScope.end - _currentTimeScope.start;\r\n      let q = {\r\n        start: total * leftPrecent,\r\n        end: total * rightPrecent,\r\n      };\r\n\r\n      if (movement === 'zoomIn') {\r\n        _currentTimeScope = {\r\n          start: _currentTimeScope.start + q.start,\r\n          end: _currentTimeScope.end - q.end,\r\n        };\r\n      }\r\n\r\n      if (movement === 'zoomOut') {\r\n        _currentTimeScope = {\r\n          start: _currentTimeScope.start - q.start,\r\n          end: _currentTimeScope.end + q.end,\r\n        };\r\n      }\r\n\r\n      let _tickArr = [...tickArr];\r\n\r\n      /**\r\n       * 当前的整数时间\r\n       */\r\n      /**\r\n       * 用真实数组位置 以及当前取到的时间范围取交集\r\n       * 取所有tick的交集\r\n       */\r\n      let resultInterArr = findIntersection(_tickArr, _currentTimeScope);\r\n      if (resultInterArr.length === 0) {\r\n        return;\r\n      }\r\n\r\n      /**\r\n       * 用剩下的tick去进行扩展\r\n       */\r\n      let newTicks = updateTicks(\r\n        resultInterArr,\r\n        _currentTimeScope,\r\n        true,\r\n        0,\r\n        'all'\r\n      );\r\n\r\n      //挑选出所有按时间整数排列的等差数列的参数\r\n      let displayTickRoundValuesArray = findRoundTimeCountFromArray(\r\n        (newTicks as unknown) as jsonObjectType[],\r\n        config!.timeZone!.displayTimeZone!,\r\n        config!.timeFormat!,\r\n        'value'\r\n      );\r\n\r\n      let _displayTickerArr;\r\n      if (displayTickRoundValuesArray === null) {\r\n        /**\r\n         * 用于显示的ticker\r\n         */\r\n        _displayTickerArr = createDisplayTickers(newTicks);\r\n        _displayTickerArr = _displayTickerArr.sort(function(\r\n          a: tickItem,\r\n          b: tickItem\r\n        ) {\r\n          return (a.value as number) - (b.value as number);\r\n        });\r\n      } else {\r\n        //从所有等差数列的参数里算出具体的数列\r\n        _displayTickerArr = createDisplayTickersByDate(\r\n          newTicks,\r\n          displayTickRoundValuesArray\r\n        );\r\n      }\r\n\r\n      /**\r\n       * 网格线组\r\n       */\r\n      let _netLineArr = createNetLines(_displayTickerArr);\r\n\r\n      //缩放量计算\r\n      let scale =\r\n        (_currentTimeScope.end - _currentTimeScope.start) /\r\n        (orgScope.end - orgScope.start);\r\n\r\n      setscaleValue(scale);\r\n      setlastTimeScope(_currentTimeScope);\r\n      setcurrentTimeScope(_currentTimeScope);\r\n      settickArr(newTicks);\r\n      setnetLineArr(_netLineArr);\r\n      setdisplayTickArr(_displayTickerArr);\r\n      setxAxisUpdateTimeStamp(+new Date());\r\n      setxAxisUpdateScaleTimeStamp(+new Date());\r\n      //setx(0);在数据钩子里设置这个，免得页面跳动\r\n      setmoveAmount(0);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * tooltip更新\r\n   */\r\n  const tooltipUpdate = function() {\r\n    if (isFinishedInit && tooltipIsShow) {\r\n      let _tooltipState: IToolTipItem | null = tooltipState;\r\n      if (_tooltipState === null) {\r\n        return;\r\n      }\r\n      _tooltipState.position.x =\r\n        _tooltipState.relatedTickItem?.cPosition.x! + x;\r\n      setTooltipState(_tooltipState);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * tooltip移动\r\n   */\r\n  const tooltipMove = function(position: pointCoord, isShowTooltip: boolean) {\r\n    if (isFinishedInit) {\r\n      let tooltipX = position.x;\r\n      if (tooltipX > lineSize.width) {\r\n        isShowTooltip = false;\r\n      }\r\n\r\n      settooltipIsShow(isShowTooltip);\r\n      if (isShowTooltip === false) {\r\n        return;\r\n      }\r\n\r\n      //通过像素位置进行二分法查找目标tick\r\n      let _tickItem: tickItem | null = findTick(\r\n        tooltipX - moveAmount,\r\n        'pixSpace'\r\n      );\r\n      if (_tickItem === null) {\r\n        setTooltipState(null);\r\n        return;\r\n      }\r\n      let _tooltipState: IToolTipItem = {\r\n        position: {\r\n          x: _tickItem.cPosition.x + moveAmount,\r\n          y: 0,\r\n        },\r\n        length: linePosition.y,\r\n        value: _tickItem.value as number,\r\n        relatedTickItem: _tickItem,\r\n        size: getSpaceSize(initArgs.tooltip!.lineSize!, viewSize.width),\r\n      };\r\n\r\n      setTooltipState(_tooltipState);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 更新轴\r\n   *@param  {number} viewWidth 界面的全量宽度\r\n   *@param  {number} viewHeight 界面的全量高度\r\n   *@param {number | string} yAxisLabelSpace y轴的label空间\r\n   *@returns {void}\r\n   */\r\n  const updateAxisSates = function(\r\n    viewWidth: number,\r\n    viewHeight: number,\r\n    yAxisLabelSpace: number | string\r\n  ) {\r\n    setviewSize({\r\n      width: viewWidth,\r\n      height: viewHeight,\r\n    });\r\n    setyAxisSpace(getSpaceSize(yAxisLabelSpace, viewWidth));\r\n    setlinePosition({\r\n      x: 0,\r\n      y: viewHeight - getSpaceSize(initArgs.labelSpace!, viewHeight),\r\n    });\r\n    setlineSize({\r\n      width: viewWidth - getSpaceSize(yAxisLabelSpace, viewWidth),\r\n      size: initArgs.lineSize!,\r\n    });\r\n  };\r\n\r\n  /* 重新计算大小 */\r\n  const resize = function() {\r\n    if (isFinishedInit) {\r\n      window.requestAnimationFrame(function() {\r\n        scale(viewSize.width / 2, 0, 'keep');\r\n      });\r\n    }\r\n  };\r\n\r\n  /* 鼠标移动速度检测器 */\r\n  const mouseSpeedDetecor = function() {\r\n    let speed = mousePosition - lastmousePosition;\r\n    setmouseSpeedSec(speed);\r\n    setlastmousePosition(mousePosition);\r\n    setUpMouseSpeedDetecor();\r\n  };\r\n\r\n  /* 打开鼠标移动速度检测器 */\r\n  const setUpMouseSpeedDetecor = function() {\r\n    let timeOut = setTimeout(() => {\r\n      setmouseSpeedTemp(+new Date());\r\n    }, 24);\r\n    setmouseSpeedTimmer(timeOut);\r\n  };\r\n\r\n  /* 销毁速度检测器 */\r\n  const destroyMouseSpeedDetecor = function() {\r\n    if (typeof mouseSpeedTimmer !== undefined) {\r\n      setmouseSpeedTemp(0);\r\n      clearTimeout(mouseSpeedTimmer);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * ==================================Effects===============================\r\n   */\r\n  useEffect(function(): ReturnType<React.EffectCallback> {\r\n    if (isMounted === false) {\r\n      setIsMounted(true);\r\n      setUpMouseSpeedDetecor();\r\n    }\r\n    return function(): void {\r\n      setIsMounted(false);\r\n      destroyMouseSpeedDetecor();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  //侧鼠标速度\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (mouseSpeedTemp !== 0) {\r\n        mouseSpeedDetecor();\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [mouseSpeedTemp]\r\n  );\r\n\r\n  //初始化状态以后初始化数轴\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (currentTimeType !== null) {\r\n        createAxisData();\r\n      }\r\n\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [currentTimeType]\r\n  );\r\n\r\n  //初始化状态以后初始化数轴\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      resize();\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [viewSize]\r\n  );\r\n\r\n  //初始化状态以后初始化数轴\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      tooltipUpdate();\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [x]\r\n  );\r\n\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (initArgsChange !== -1) {\r\n        update();\r\n      }\r\n    },\r\n    [initArgsChange]\r\n  );\r\n\r\n  return {\r\n    data: {\r\n      /**\r\n       * 当前时间类型\r\n       */\r\n      currentTimeType,\r\n      /**\r\n       * 初始时间范围\r\n       */\r\n      lastTimeScope,\r\n      /**\r\n       * 当前时间范围\r\n       */\r\n      currentTimeScope,\r\n      /**\r\n       * line的位置（上左定位）\r\n       *内容区和label区的分割线的位置\r\n       */\r\n      linePosition,\r\n      /**\r\n       * line的尺寸\r\n       */\r\n      lineSize,\r\n      /**\r\n       * line的颜色\r\n       */\r\n      lineColor,\r\n      /**\r\n       * 网格线的最大数量\r\n       */\r\n      netLineMaxCount,\r\n      /**\r\n       * 网格线组\r\n       */\r\n      netLineArr,\r\n      /**\r\n       * 轴网格线最小数量\r\n       */\r\n      netLineMinCount,\r\n      /**\r\n       * 真实tick组（实际的tick空间）\r\n       */\r\n      tickArr,\r\n      /**\r\n       * 显示tick组（用于显示的tick）\r\n       */\r\n      displayTickArr,\r\n      /**\r\n       * 是否已完成初始化\r\n       */\r\n      isFinishedInit,\r\n      /**\r\n       * 每次缩放的增减值\r\n       */\r\n      scaleStep,\r\n      /**\r\n       * tooltip\r\n       */\r\n      tooltipState,\r\n      /**\r\n       * tooltip是否显示\r\n       */\r\n      tooltipIsShow,\r\n      labelSpace,\r\n      xAxisUpdateTimeStamp,\r\n      viewSize,\r\n      displayTickCommonWidth,\r\n      displayTickCommonpixWidth,\r\n      /* 移动量 */\r\n      moveAmount,\r\n      x,\r\n      xAxisUpdateMoveMentTimeStamp,\r\n      xAxisUpdateScaleTimeStamp,\r\n      mouseSpeedSec,\r\n    },\r\n    funcs: {\r\n      /**\r\n       * 设置初始时间范围\r\n       */\r\n      setlastTimeScope,\r\n      /**\r\n       * 设置当前时间范围\r\n       */\r\n      setcurrentTimeScope,\r\n      /**\r\n       * 设置line的位置（上左定位）\r\n       *内容区和label区的分割线的位置\r\n       */\r\n      setlinePosition,\r\n      /**\r\n       * 设置line的尺寸\r\n       */\r\n      setlineSize,\r\n      /**\r\n       * 设置line的颜色\r\n       */\r\n      setlineColor,\r\n      /**\r\n       * 设置网格线的最大数量\r\n       */\r\n      setnetLineMaxCount,\r\n      /**\r\n       * 设置网格线组\r\n       */\r\n      setnetLineArr,\r\n      /**\r\n       * 设置轴网格线最小数量\r\n       */\r\n      setnetLineMinCount,\r\n      /**\r\n       * 设置真实tick组（实际的tick空间）\r\n       */\r\n      settickArr,\r\n      /**\r\n       * 设置显示tick组（用于显示的tick）\r\n       */\r\n      setdisplayTickArr,\r\n      /**\r\n       * 初始化轴\r\n       *@param {TtimeType} timeType 时间类型\r\n       *@param  {number} viewWidth 界面的全量宽度\r\n       *@param  {number} viewHeight 界面的全量高度\r\n       *@param {number | string} yAxisLabelSpace y轴的label空间\r\n       *@returns {void}\r\n       */\r\n      initAxisSates,\r\n      /**\r\n       * 更新轴\r\n       *@param  {number} viewWidth 界面的全量宽度\r\n       *@param  {number} viewHeight 界面的全量高度\r\n       *@param {number | string} yAxisLabelSpace y轴的label空间\r\n       *@returns {void}\r\n       */\r\n      updateAxisSates,\r\n      /**\r\n       * 移动轴\r\n       */\r\n      moveAxis,\r\n      moveContainer,\r\n      /**\r\n       * 缩放轴\r\n       */\r\n      scale,\r\n      /**\r\n       * tooltip移动\r\n       */\r\n      tooltipMove,\r\n      setx,\r\n      setcandleObj,\r\n      setinitArgs: function(arg: Iaxis) {\r\n        setinitArgs(Object.assign(true, initArgs, arg));\r\n        setinitArgsChange(+new Date());\r\n      },\r\n    },\r\n\r\n    /**\r\n     *初始化时用到的参数\r\n     */\r\n    initArgs,\r\n  };\r\n};\r\n\r\nexport default usexAxis;\r\n","import { createContext, useState, useContext, useRef, useCallback, useEffect, FC, ReactElement } from \"react\";\r\n\r\nimport {} from \"../interface/contextInterFace\";\r\nimport { pointCoord } from \"../interface/itemsInterFace\";\r\nimport {\r\n\tgetDecimalOfLength,\r\n\tgetIntOfLength,\r\n\tgetSpaceSize,\r\n\troundToNearestTenBigNumber,\r\n\tshiftNumber,\r\n} from \"../utils/consts\";\r\nimport _bigNumber from \"bignumber.js\";\r\nimport { Iaxis } from \"../interface/configInterFaces\";\r\nimport { IAxisobj, IyAxisobj } from \"../interface/hooksInterFace\";\r\nimport { DEFAULTAXISVALUES } from \"../utils/defaultValues\";\r\nimport { IToolTipItem, netLineItem, numberScope, numberScopeString, tickItem } from \"../interface/itemsInterFace\";\r\n\r\n/**\r\n * y轴钩子\r\n */\r\nconst useyAxis = function (args: Iaxis, xAxis?: IAxisobj): IyAxisobj {\r\n\txAxis = xAxis!;\r\n\t/**\r\n\t *默认参数状态\r\n\t */\r\n\tconst [initArgs, setinitArgs] = useState<Iaxis>(Object.assign(true, DEFAULTAXISVALUES, args));\r\n\tconst [initArgsChange, setinitArgsChange] = useState<number>(-1);\r\n\t/**\r\n\t * ============================state===========================\r\n\t */\r\n\tconst [isMounted, setIsMounted] = useState<boolean>(false);\r\n\t/**\r\n\t * 是否已完成初始化\r\n\t */\r\n\tconst [isFinishedInit, setisFinishedInit] = useState<boolean>(false);\r\n\t/**\r\n\t * y轴的更新\r\n\t */\r\n\tconst [yAxisUpdateTimeStamp, setyAxisUpdateTimeStamp] = useState<number>(-1);\r\n\r\n\t/**\r\n\t * ============================tooltip state===========================\r\n\t */\r\n\r\n\t/**\r\n\t * tooltip状态\r\n\t */\r\n\tconst [tooltipState, setTooltipState] = useState<IToolTipItem | null>({} as IToolTipItem);\r\n\t/**\r\n\t * tooltip显示状态\r\n\t */\r\n\tconst [tooltipIsShow, settooltipIsShow] = useState<boolean>(false);\r\n\r\n\t/**\r\n\t * ============================数据 state===========================\r\n\t */\r\n\r\n\t/**\r\n\t * 当前数据范围\r\n\t */\r\n\tconst [currentDataScope, setcurrentDataScope] = useState<numberScopeString>({\r\n\t\t/**\r\n\t\t * 最下面的值\r\n\t\t */\r\n\t\tstart: \"0\",\r\n\t\t/**\r\n\t\t * 最上面的值\r\n\t\t */\r\n\t\tend: \"0\",\r\n\t});\r\n\r\n\t/**\r\n\t * 当前数据整体长度（从0开始）\r\n\t */\r\n\tconst [currentDataSpace, setcurrentDataSpace] = useState<string>(\"0\");\r\n\r\n\t/**\r\n\t * 当前数据相对0的位置(以start为基准 )\r\n\t */\r\n\tconst [currentDataPositionOfStart, setcurrentDataPositionofStart] = useState<string>(\"0\");\r\n\r\n\t/**\r\n\t * ============================line 属性state===========================\r\n\t */\r\n\r\n\t/**\r\n\t * view的全量尺寸\r\n\t */\r\n\tconst [viewSize, setviewSize] = useState<{ width: number; height: number }>({\r\n\t\twidth: 0,\r\n\t\theight: 0,\r\n\t});\r\n\r\n\t/**\r\n\t * line的位置（上左定位）\r\n\t *内容区和label区的分割线的位置\r\n\t */\r\n\tconst [linePosition, setlinePosition] = useState<pointCoord>({ x: 0, y: 0 });\r\n\tconst [labelSpace, setlabelSpace] = useState<number>(0);\r\n\r\n\t/**\r\n\t * line的尺寸\r\n\t */\r\n\tconst [lineSize, setlineSize] = useState<{\r\n\t\t/**\r\n\t\t * line的长度\r\n\t\t */\r\n\t\theight: number;\r\n\t\t/**\r\n\t\t * line的粗细\r\n\t\t */\r\n\t\tsize: number;\r\n\t}>({\r\n\t\theight: 0,\r\n\t\tsize: 0,\r\n\t});\r\n\r\n\t/**\r\n\t * line的颜色\r\n\t */\r\n\tconst [lineColor, setlineColor] = useState<string>(\"\");\r\n\r\n\t/**\r\n\t * ============================网格线 属性state===========================\r\n\t */\r\n\r\n\t/**\r\n\t * 网格线组\r\n\t */\r\n\tconst [netLineArr, setnetLineArr] = useState<Array<netLineItem>>([]);\r\n\r\n\t/**\r\n\t * 网格线的最大数量\r\n\t */\r\n\tconst [netLineMaxCount, setnetLineMaxCount] = useState<number>(0);\r\n\r\n\t/**\r\n\t * 轴网格线最小数量\r\n\t */\r\n\tconst [netLineMinCount, setnetLineMinCount] = useState<number>(0);\r\n\r\n\t/**\r\n\t * ============================tick 属性state===========================\r\n\t */\r\n\r\n\t/**\r\n\t * 显示tick组（用于显示的tick）\r\n\t */\r\n\tconst [displayTickArr, setdisplayTickArr] = useState<Array<tickItem>>([]);\r\n\tconst [tickLength, settickLength] = useState<number>(0);\r\n\r\n\t/**\r\n\t * ==========================静态常量==============================\r\n\t */\r\n\r\n\t//计算用的缩进\r\n\tconst _shiftLength = 18;\r\n\t//显示时取小数点后几位\r\n\tconst displayFix = 7;\r\n\t/**\r\n\t * ==========================函数==============================\r\n\t */\r\n\r\n\t/**\r\n\t * 更新轴 (所有数字都依据_shiftLength转换成大数字用BigNumber.js进行计算 )\r\n\t *@param  {number} viewWidth 界面的全量宽度\r\n\t *@param  {number} viewHeight 界面的全量高度\r\n\t *@param {numberScope} dataScope 数据范围\r\n\t *@returns {void}\r\n\t */\r\n\tconst updateAxisSates = function (viewWidth: number, viewHeight: number, dataScope: numberScope) {\r\n\t\tconsole.log(dataScope);\r\n\t\tlet _dataScope: numberScopeString = {\r\n\t\t\tstart: new _bigNumber(dataScope.start)\r\n\t\t\t\t.times(new _bigNumber(10).exponentiatedBy(_shiftLength).toFixed())\r\n\t\t\t\t.toFixed(0),\r\n\t\t\tend: new _bigNumber(dataScope.end)\r\n\t\t\t\t.times(new _bigNumber(10).exponentiatedBy(_shiftLength).toFixed())\r\n\t\t\t\t.toFixed(0),\r\n\t\t};\r\n\t\tlet scopeResult = expandDataSpanceEdge(_dataScope);\r\n\r\n\t\tif (\r\n\t\t\tviewWidth === viewSize.width &&\r\n\t\t\tviewHeight === viewSize.height &&\r\n\t\t\tscopeResult.dataScope === currentDataScope\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t/* 设置各项属性 */\r\n\t\tsetviewSize({\r\n\t\t\twidth: viewWidth,\r\n\t\t\theight: viewHeight,\r\n\t\t});\r\n\r\n\t\tsetlinePosition({\r\n\t\t\tx: viewWidth - getSpaceSize(initArgs.labelSpace!, viewWidth),\r\n\t\t\ty: 0,\r\n\t\t});\r\n\t\tsetlineSize({\r\n\t\t\theight: viewHeight - getSpaceSize(xAxis.initArgs.labelSpace!, viewHeight) + 1,\r\n\t\t\tsize: initArgs.lineSize!,\r\n\t\t});\r\n\t\tsetlabelSpace(getSpaceSize(initArgs.labelSpace!, viewHeight));\r\n\r\n\t\t//计算数据边距\r\n\t\t//let _currentDataSpace = new _bigNumber(shiftNumber(dataScope.end - dataScope.start, _shiftLength)).toString();\r\n\r\n\t\t////\r\n\t\t// dataScope.start - _currentDataSpace * initArgs.displayPadding!,\r\n\t\tsetcurrentDataScope(scopeResult.dataScope);\r\n\t\tsetcurrentDataSpace(scopeResult.currentDataSpace);\r\n\t\tsetcurrentDataPositionofStart(new _bigNumber(dataScope.start).minus(\"0\").toString());\r\n\t\tsettickLength(getSpaceSize(initArgs.tickLength!, viewWidth));\r\n\t\tsetlineColor(initArgs.lineColor!);\r\n\t\tsetnetLineMaxCount(initArgs.netLineMaxCount!);\r\n\t\tsetnetLineMinCount(initArgs.netLineMinCount!);\r\n\t};\r\n\r\n\tconst update = function (viewWidth: number, viewHeight: number) {\r\n\t\t/* 设置各项属性 */\r\n\t\tsetviewSize({\r\n\t\t\twidth: viewWidth,\r\n\t\t\theight: viewHeight,\r\n\t\t});\r\n\t\tsetlinePosition({\r\n\t\t\tx: viewWidth - getSpaceSize(initArgs.labelSpace!, viewWidth),\r\n\t\t\ty: 0,\r\n\t\t});\r\n\t\tsetlineSize({\r\n\t\t\theight: viewHeight - getSpaceSize(xAxis.initArgs.labelSpace!, viewHeight) + 1,\r\n\t\t\tsize: initArgs.lineSize!,\r\n\t\t});\r\n\t\tsetlabelSpace(getSpaceSize(initArgs.labelSpace!, viewHeight));\r\n\t\tsettickLength(getSpaceSize(initArgs.tickLength!, viewWidth));\r\n\t\tsetlineColor(initArgs.lineColor!);\r\n\t\tsetnetLineMaxCount(initArgs.netLineMaxCount!);\r\n\t\tsetnetLineMinCount(initArgs.netLineMinCount!);\r\n\t};\r\n\r\n\t//扩展数据范围边界（使得显示范围不显得局促）\r\n\tconst expandDataSpanceEdge = function <T extends numberScopeString>(\r\n\t\tinput: T\r\n\t): {\r\n\t\tdataScope: T;\r\n\t\tcurrentDataSpace: string;\r\n\t} {\r\n\t\tlet result = { ...input };\r\n\t\tlet currentDataSpace = new _bigNumber(input.end).minus(input.start).toString();\r\n\r\n\t\tlet _expandAmount = new _bigNumber(currentDataSpace).times(initArgs.displayPadding!);\r\n\r\n\t\tcurrentDataSpace = new _bigNumber(currentDataSpace).plus(_expandAmount).toString();\r\n\r\n\t\tresult.start = new _bigNumber(input.start).minus(new _bigNumber(_expandAmount).div(2)).toString();\r\n\t\tresult.end = new _bigNumber(input.end).plus(new _bigNumber(_expandAmount).div(2)).toString();\r\n\t\treturn { dataScope: result, currentDataSpace };\r\n\t};\r\n\r\n\t//扩展像素范围边界（使得显示范围不显得局促）\r\n\tconst expandDataSpanceEdgePIX = function <T extends numberScope>(\r\n\t\tinput: T\r\n\t): {\r\n\t\tdataScope: T;\r\n\t\tcurrentDataSpace: string;\r\n\t} {\r\n\t\tlet result = { ...input };\r\n\t\tlet currentDataSpace = new _bigNumber(input.start).minus(input.end).toString();\r\n\r\n\t\tlet _expandAmount = new _bigNumber(currentDataSpace).times(initArgs.displayPadding!);\r\n\r\n\t\tcurrentDataSpace = new _bigNumber(currentDataSpace).plus(_expandAmount).toString();\r\n\r\n\t\tresult.start = Number(new _bigNumber(input.start).plus(new _bigNumber(_expandAmount).div(2)).toString());\r\n\t\tresult.end = Number(new _bigNumber(input.end).minus(new _bigNumber(_expandAmount).div(2)).toString());\r\n\t\treturn { dataScope: result, currentDataSpace };\r\n\t};\r\n\r\n\t/**\r\n\t * tick种子计算\r\n\t * 给定一个区间【开始，结束】，这是一段范围，需要在这个范围里找到8~4个tick\r\n\t * 这个tick需要满足以下条件\r\n\t * 1.显示tick的空间只能显示7位数字加一个小数点\r\n\t * 2.需要考虑到大于7位数字显示的情况\r\n\t * 3.需要考虑1位数字+6位小数的情况\r\n\t * (所有数字都依据_shiftLength转换成大数字用BigNumber.js进行计算 )\r\n\t *\r\n\t *\r\n\t * 解决思路：\r\n\t * 1.【开始，结束】【1.123456，4.215463】里的数字都*1000000 就算碰到1.123456遮掩的数字，也能进行整除处理 =》 【1123456，4215463】\r\n\t * 2.给“开始”数字例如 1123456 进行取整，从10位开始，先取成1123460,先计算跨度 4215463 - 1123460 =3092003 然后计算3092003/10 得到309200.3 我们的目标是<8，所以继续以此类推...\r\n\t * 3.上一个数字继续取整 1123460 进行取整，但是这次 10*2=20，那么先取成 1123480 ,先计算跨度 4215463 - 1123480 =3091983,然后计算3091983/20 得到154599.15 我们的目标是<8，所以继续以此类推...\r\n\t * 4.上一个数字继续取整 1123480 进行取整，但是这次 20*2=40，那么先取成 1123520 ,先计算跨度 4215463 - 1123520 =3091943,然后计算3091943/40 得到77298.575 我们的目标是<8，所以继续以此类推...\r\n\t * 5.上一个数字继续取整 1123520 进行取整，但是这次 40*2=80，那么先取成 1123600 ,先计算跨度 4215463 - 1123600 =3091863,然后计算3091863/80 得到38648.2875 我们的目标是<8，所以继续以此类推...\r\n\t * 6.上一个数字继续取整 1123600 进行取整，但是这次 80*2=160，那么先取成 1123760 ,先计算跨度 4215463 - 1123760 =3091703,然后计算3091703/160 得到19323.14375 我们的目标是<8，所以继续以此类推...\r\n\t * 7.上一个数字继续取整 1123760 进行取整，但是这次 160*2=380，那么先取成 1121140 ,先计算跨度 4215463 - 1121140 =3094323,然后计算 3094323/380 得到8142.9552631578945 我们的目标是<8，所以继续以此类推...\r\n\t * 8.上一个数字继续取整 1121140 进行取整，但是这次 380*2=760，那么先取成 1121800 ,先计算跨度 4215463 - 1121800 =3093663,然后计算 3093663/760 得到4070.6092105263156 我们的目标是<8，所以继续以此类推...\r\n\t * 9.上一个数字继续取整 1121800 进行取整，但是这次 760*2=1520，那么先取成 1123300 ,先计算跨度 4215463 - 1123300 =3092163,然后计算 3092163/1520 得到2034.3177631578947 我们的目标是<8，所以继续以此类推...\r\n\t * 10.上一个数字继续取整 1123300 进行取整，但是这次 1520*2=3040，那么先取成 1126340 ,先计算跨度 4215463 - 1126340 =3089123,然后计算 3089123/3040 得到1016.1588815789473 我们的目标是<8，所以继续以此类推...\r\n\t * 11.上一个数字继续取整 1126340 进行取整，但是这次 3040*2=6080，那么先取成 1132420 ,先计算跨度 4215463 - 1132420 =3083043,然后计算 3083043/6080 得到507.07944078947367 我们的目标是<8，所以继续以此类推...\r\n\t * 12.上一个数字继续取整 1132420 进行取整，但是这次 6080*2=12160，那么先取成 1144580 ,先计算跨度 4215463 - 1144580 =3070883,然后计算 3070883/12160 得到252.53972039473683 我们的目标是<8，所以继续以此类推...\r\n\t * 13.上一个数字继续取整 1144580 进行取整，但是这次 12160*2=24320，那么先取成 1168900 ,先计算跨度 4215463 - 1168900 =3046563,然后计算 3046563/24320 得到125.26986019736842 我们的目标是<8，所以继续以此类推...\r\n\t * 14.上一个数字继续取整 1168900 进行取整，但是这次 24320*2=48640，那么先取成 1217540 ,先计算跨度 4215463 - 1217540 =2997923,然后计算 2997923/48640 得到61.63493009868421 我们的目标是<8，所以继续以此类推...\r\n\t * 15.上一个数字继续取整 1217540 进行取整，但是这次 48640*2=97280，那么先取成 1217540 ,先计算跨度 4215463 - 1314820 =2900643,然后计算 2900643/97280 得到61.63493009868421 我们的目标是<8，所以继续以此类推...\r\n\t * 16.上一个数字继续取整 1217540 进行取整，但是这次 97280*2=194560 ，那么先取成 1412100 ,先计算跨度 4215463 - 1412100 =2803363,然后计算 2803363/194560 得到14.408732524671052 我们的目标是<8，所以继续以此类推...\r\n\t * 17.上一个数字继续取整 1412100 进行取整，但是这次 194560*2=389120 ，那么先取成 1801220 ,先计算跨度 4215463 - 1801220 =2414243,然后计算 2414243/389120 得到6.204366262335526 我们的目标是<8，任务完成；\r\n\t * 1801220 / 6.204366262335526 得到每步\r\n\t * 然后再用 【每步的数字】 / 1000000\r\n\t *\r\n\t * 实际计算和上面写的算法有一点点不太一样，每次计算完成后不再是step * 2  而是 step + “0” 也就是加一位数\r\n\t *\r\n\t */\r\n\tconst getTickSeed = function (): string[] {\r\n\t\tlet dataScope = { ...currentDataScope };\r\n\r\n\t\tlet resultTickArr: string[] = [];\r\n\r\n\t\t//范围的计算数值(直接加权7位数进行运算，算完再换算回来 )\r\n\t\tlet scope = {\r\n\t\t\tstart: dataScope.start,\r\n\t\t\tend: dataScope.end,\r\n\t\t};\r\n\r\n\t\t//步数\r\n\t\tlet step = \"10\";\r\n\t\tlet stepAdd = \"10\";\r\n\t\t//取整范围\r\n\t\tlet intGetPar = \"10\";\r\n\t\tvar tickCount = \"8\";\r\n\t\tvar startInteger: string = roundToNearestTenBigNumber(scope.start, Number(intGetPar));\r\n\t\tvar integerTimes = 0;\r\n\t\twhile (true) {\r\n\t\t\t//算跨度\r\n\t\t\t//scope.end - startInteger\r\n\t\t\tlet scDf = new _bigNumber(scope.end).minus(startInteger).toString();\r\n\t\t\t//算数量\r\n\t\t\t//scDf / step\r\n\t\t\ttickCount = new _bigNumber(scDf).div(step).toFixed().toString();\r\n\r\n\t\t\t//看算出来的数量是否大于最大数量，大于的话就继续算\r\n\t\t\tif (new _bigNumber(tickCount).gt(initArgs.netLineMaxCount!)) {\r\n\t\t\t\t//把step 加一个0\r\n\t\t\t\tlet postStep = (Number(step) + Number(stepAdd)).toString();\r\n\t\t\t\t/**\r\n\t\t\t\t * 这里的思路较原思路有所改变\r\n\t\t\t\t * 当step每多一个位 就将每个step的步进多加一位 例如原来的步进是10 如果现在step是100 那么步进就要来到100\r\n\t\t\t\t * 取整范围也是，比如之前是个位数取整，步进多了一位就要变成十位取整，以此类推\r\n\t\t\t\t */\r\n\t\t\t\tif (postStep.length > step.length) {\r\n\t\t\t\t\tstepAdd = stepAdd + \"0\";\r\n\t\t\t\t\tintGetPar = intGetPar + \"0\";\r\n\t\t\t\t\tstartInteger = roundToNearestTenBigNumber(scope.start, Number(intGetPar));\r\n\t\t\t\t\tintegerTimes = integerTimes + 1;\r\n\t\t\t\t}\r\n\t\t\t\tstep = postStep;\r\n\t\t\t} else {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//算出每个tick的数据\r\n\t\tfor (var i = 0; i < Number(tickCount); i++) {\r\n\t\t\t//startInteger + (step * i)\r\n\t\t\tresultTickArr.push(new _bigNumber(startInteger).plus(new _bigNumber(step).times(i)).toString());\r\n\t\t}\r\n\r\n\t\treturn resultTickArr;\r\n\t};\r\n\r\n\t/**\r\n\t * 取得显示tick\r\n\t */\r\n\tconst computDisplayTicks = function (tickSeed: string[]): tickItem[] {\r\n\t\tlet result: tickItem[] = [];\r\n\t\tlet index = 0;\r\n\t\tfor (var item of tickSeed) {\r\n\t\t\tresult.push({\r\n\t\t\t\tindex: index,\r\n\t\t\t\tcolor: initArgs.tickColor!,\r\n\t\t\t\tlength: getSpaceSize(initArgs.tickLength!, viewSize.width),\r\n\t\t\t\tsize: initArgs.tickSize!,\r\n\t\t\t\tcPosition: {\r\n\t\t\t\t\tx: linePosition.x,\r\n\t\t\t\t\ty: (function () {\r\n\t\t\t\t\t\tlet pre = Number(\r\n\t\t\t\t\t\t\tnew _bigNumber(item)\r\n\t\t\t\t\t\t\t\t.minus(currentDataScope.start)\r\n\t\t\t\t\t\t\t\t.div(currentDataSpace)\r\n\t\t\t\t\t\t\t\t.toFixed(_shiftLength)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\treturn lineSize.height - lineSize.height * pre;\r\n\t\t\t\t\t})(),\r\n\t\t\t\t},\r\n\t\t\t\tvalue: item,\r\n\t\t\t\tdisplayValue: new _bigNumber(shiftNumber(item, -_shiftLength)).toFixed(displayFix),\r\n\t\t\t});\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/**\r\n\t * 取得显示line\r\n\t */\r\n\tconst computDisplayLines = function (tickSeed: string[]): netLineItem[] {\r\n\t\tlet result: netLineItem[] = [];\r\n\t\tlet index = 0;\r\n\t\tfor (var item of tickSeed) {\r\n\t\t\tresult.push({\r\n\t\t\t\tcolor: initArgs.netLineColor!,\r\n\t\t\t\tlength: linePosition.x,\r\n\t\t\t\tsize: initArgs.netLineSize!,\r\n\t\t\t\tcPosition: {\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: (function () {\r\n\t\t\t\t\t\tlet pre = Number(\r\n\t\t\t\t\t\t\tnew _bigNumber(item)\r\n\t\t\t\t\t\t\t\t.minus(currentDataScope.start)\r\n\t\t\t\t\t\t\t\t.div(currentDataSpace)\r\n\t\t\t\t\t\t\t\t.toFixed(_shiftLength)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\treturn lineSize.height - lineSize.height * pre;\r\n\t\t\t\t\t})(),\r\n\t\t\t\t},\r\n\t\t\t\tvalue: item,\r\n\t\t\t});\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/**\r\n\t * 计算tick\r\n\t */\r\n\tconst computTicks = function () {\r\n\t\t//获得当前轴的整数列（种子）\r\n\t\tlet tickSeed: string[] = getTickSeed();\r\n\t\tlet _displayTickArr = computDisplayTicks(tickSeed);\r\n\t\tlet _netLineArr = computDisplayLines(tickSeed);\r\n\r\n\t\tsetdisplayTickArr(_displayTickArr);\r\n\t\tsetnetLineArr(_netLineArr);\r\n\t\tsetisFinishedInit(true);\r\n\t\tsetyAxisUpdateTimeStamp(+new Date());\r\n\t};\r\n\r\n\t/**\r\n\t * 计算tooltip\r\n\t */\r\n\tconst tooltipMove = function (position: pointCoord, isShowTooltip: boolean) {\r\n\t\tlet tooltipY = position.y;\r\n\t\tif (tooltipY > lineSize.height) {\r\n\t\t\tisShowTooltip = false;\r\n\t\t}\r\n\r\n\t\tsettooltipIsShow(isShowTooltip);\r\n\t\tif (isShowTooltip === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet pre = 1 - tooltipY / lineSize.height;\r\n\t\tlet value = new _bigNumber(currentDataScope.start).plus(new _bigNumber(currentDataSpace).times(pre)).toString();\r\n\r\n\t\tlet _tooltipState: IToolTipItem = {\r\n\t\t\tposition: {\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: tooltipY,\r\n\t\t\t},\r\n\t\t\tlength: linePosition.x,\r\n\t\t\tvalue: value,\r\n\t\t\tdisplayValue: new _bigNumber(shiftNumber(value, -_shiftLength)).toFixed(displayFix),\r\n\t\t\trelatedTickItem: null,\r\n\t\t\tsize: getSpaceSize(initArgs.tooltip!.lineSize!, viewSize.width),\r\n\t\t};\r\n\t\tsetTooltipState(_tooltipState);\r\n\t};\r\n\r\n\t/**\r\n\t * ==================================Effects===============================\r\n\t */\r\n\tuseEffect(function (): ReturnType<React.EffectCallback> {\r\n\t\tif (isMounted === false) {\r\n\t\t\tsetIsMounted(true);\r\n\t\t}\r\n\t\treturn function (): void {\r\n\t\t\tsetIsMounted(false);\r\n\t\t};\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\tfunction (): ReturnType<React.EffectCallback> {\r\n\t\t\tif (currentDataSpace !== \"0\") {\r\n\t\t\t\tcomputTicks();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[currentDataScope]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\tfunction (): ReturnType<React.EffectCallback> {\r\n\t\t\tif (initArgsChange !== -1) {\r\n\t\t\t\tupdate(viewSize.width, viewSize.height);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[initArgsChange]\r\n\t);\r\n\r\n\treturn {\r\n\t\tdata: {\r\n\t\t\tisFinishedInit,\r\n\t\t\ttooltipState,\r\n\t\t\ttooltipIsShow,\r\n\t\t\tcurrentDataScope,\r\n\t\t\tcurrentDataSpace,\r\n\t\t\tcurrentDataPositionOfStart,\r\n\t\t\tviewSize,\r\n\t\t\tlinePosition,\r\n\t\t\tlabelSpace,\r\n\t\t\tlineColor,\r\n\t\t\tnetLineArr,\r\n\t\t\tnetLineMaxCount,\r\n\t\t\tnetLineMinCount,\r\n\t\t\tdisplayTickArr,\r\n\t\t\tlineSize,\r\n\t\t\ttickLength,\r\n\t\t\tyAxisUpdateTimeStamp,\r\n\t\t},\r\n\t\tfuncs: {\r\n\t\t\tupdateAxisSates,\r\n\t\t\ttooltipMove,\r\n\t\t\texpandDataSpanceEdge,\r\n\t\t\texpandDataSpanceEdgePIX,\r\n\t\t\tsetinitArgs: function (arg: Iaxis) {\r\n\t\t\t\tsetinitArgs(Object.assign(true, initArgs, arg));\r\n\t\t\t\tsetinitArgsChange(+new Date());\r\n\t\t\t},\r\n\t\t},\r\n\t\tinitArgs,\r\n\t};\r\n};\r\n\r\nexport default useyAxis;\r\n","import {\r\n  createContext,\r\n  useState,\r\n  useContext,\r\n  useRef,\r\n  useCallback,\r\n  useEffect,\r\n  FC,\r\n  ReactElement,\r\n} from 'react';\r\n\r\nimport {\r\n  GMT0000TolocalTime,\r\n  anyTimeToGMT0000ToTarget,\r\n  findIntersectionByKey,\r\n  findIntersectionCandle,\r\n  getRightDate,\r\n  getSpaceSize,\r\n  localTimeToGMT0000,\r\n} from '../utils/consts';\r\nimport _bigNumber from 'bignumber.js';\r\nimport { merge } from 'lodash';\r\nimport useDebounce from './debounceHook';\r\nimport useThrottle from './throttleHook';\r\nimport { IdataConfig, IuseCandleView } from '../interface/configInterFaces';\r\nimport {\r\n  IAxisobj,\r\n  IuseCandleHook,\r\n  IyAxisobj,\r\n} from '../interface/hooksInterFace';\r\nimport { DEFAULTDATAVALUES } from '../utils/defaultValues';\r\nimport {\r\n  IToolTipItem,\r\n  IcandleData,\r\n  IcandleItem,\r\n  IcandleUpdateItem,\r\n  numberScope,\r\n  numberScopeString,\r\n  tickItem,\r\n} from '../interface/itemsInterFace';\r\nimport { TtimeType } from '../interface/timeDefineInterFace';\r\n\r\ninterface MessageEventInit<T = any> extends EventInit {\r\n  lastEventId?: string;\r\n  channel?: string;\r\n  data?: T;\r\n  origin?: string;\r\n  ports?: MessagePort[];\r\n  source?: Window;\r\n}\r\ninterface MessageEvent<T = any> extends Event {\r\n  readonly data: T;\r\n  readonly origin: string;\r\n  readonly ports: any;\r\n  readonly source: Window;\r\n  initMessageEvent(\r\n    typeArg: string,\r\n    canBubbleArg: boolean,\r\n    cancelableArg: boolean,\r\n    dataArg: T,\r\n    originArg: string,\r\n    lastEventIdArg: string,\r\n    sourceArg: Window\r\n  ): void;\r\n}\r\n\r\ndeclare var MessageEvent: {\r\n  prototype: MessageEvent;\r\n  new <T>(type: string, eventInitDict?: MessageEventInit<T>): MessageEvent<T>;\r\n};\r\n\r\n/**\r\n * 数据处理钩子\r\n *\r\n * 1.静态模式下拿到数据的处理步骤\r\n *   1.1 全部由过去到现在进行一遍排序\r\n *   1.2 检查 data[0] ~ data[1] 的时间范围是否为当前设置的时间类型的时间范围：\r\n *      1.2.1 如果比当前设置的时间范围小，就进行归并\r\n *      1.2.3 归并之后的数据放进allComputedCandleData堆里\r\n *      1.2.4 如果比当前设置的时间范围大，就不进行任何操作，直接停止更新。\r\n *      1.2.4 如果等于当前设置的时间范围，就不进行归并操作，放进allComputedCandleData堆里。\r\n *   1.3 根据x轴的tick 在 allComputedCandleData里找到的数据生成并计算完位置等信息后放进 displayCandleData\r\n *   1.4 根据上面1.3的计算更新y轴的范围\r\n *\r\n *\r\n * 2.静态模式下移动和缩放时响应的方式：\r\n *   2.1 根据x轴的tick 在 allComputedCandleData里找到的数据生成并计算完位置等信息后放进 displayCandleData\r\n *   2.2 根据上面1.3的计算更新y轴的范围\r\n *\r\n * 但不是每次移动都这样，需要一个响亮来进行控制，当拖动速度很快时只进行移动计算，不往 displayarr里加入任何东西 只计算视图内的数据，同时发起webworker离线计算接下来可能要更新的数据\r\n *当速度小于某个值的时候，就把webworker算好的数据更新进来\r\n */\r\nconst useCandleHook = function(\r\n  args: IdataConfig,\r\n  xAxis: IAxisobj,\r\n  yAxis: IyAxisobj,\r\n  baseConfig: IuseCandleView\r\n): IuseCandleHook {\r\n  xAxis = xAxis!;\r\n  yAxis = yAxis!;\r\n  const [initArgs, setinitArgs] = useState<IdataConfig>(\r\n    merge(DEFAULTDATAVALUES, args)\r\n  );\r\n  let updateThrottlereComputAllDisplayedCandleData = useThrottle();\r\n  let updateThrottle = useThrottle();\r\n  /**\r\n   * ============================state===========================\r\n   */\r\n  const [isMounted, setIsMounted] = useState<boolean>(false);\r\n  const [currentTimeTypeName, setcurrentTimeTypeName] = useState<string>('');\r\n  const [miny, setminy] = useState<number>(0);\r\n  const [isFetchingData, setisFetchingData] = useState<boolean>(true);\r\n  const [fetchDataStemp, setfetchDataStemp] = useState<number>(-1);\r\n  const [streamData, setstreamData] = useState<IcandleUpdateItem | null>(null);\r\n  const [stopDynamicFetching, setstopDynamicFetching] = useState<boolean>(\r\n    false\r\n  );\r\n  const [lastMaxMiny, setlastMaxMiny] = useState<numberScope>({\r\n    start: 0,\r\n    end: 0,\r\n  });\r\n\r\n  const [workMessage, seworkMessage] = useState<MessageEvent<any>>();\r\n  const [LastScopeddcData, setLastScopeddcData] = useState<IcandleData[]>([]);\r\n\r\n  /**\r\n   * 动态数据暂存处\r\n   */\r\n  const [TempDynamicData, setTempDynamicData] = useState<IcandleItem[] | null>(\r\n    null\r\n  );\r\n  const [isFirstTimeUpdate, setisFirstTimeUpdate] = useState<boolean>(false);\r\n\r\n  /**\r\n   * 是否已完成初始化\r\n   */\r\n  const [isFinishedInit, setisFinishedInit] = useState<boolean>(false);\r\n  const [isDQuickUpdateing, setisDQuickUpdateing] = useState<boolean>(false);\r\n\r\n  const [cursorCandleItem, setCursorCandleItem] = useState<IcandleData | null>(\r\n    null\r\n  );\r\n  const [latestCandleItem, setlatestCandleItem] = useState<IcandleData | null>(\r\n    null\r\n  );\r\n\r\n  /**\r\n   * 上次更新的X轴时间戳\r\n   */\r\n  const [lastTimexAsixStemp, setlastTimexAsixStemp] = useState<number>(798);\r\n\r\n  /**\r\n   * volume 数据图表的高度\r\n   */\r\n  const [volumChartPixHeight, setvolumChartPixHeight] = useState<number>(0);\r\n  /**\r\n   * volume 数据图表 当前视窗区域的最大值\r\n   */\r\n  const [volumChartViewMax, setvolumChartViewMax] = useState<number>(0);\r\n\r\n  /**\r\n   * 是否为静态数据模式\r\n   */\r\n  const [isStaticData, setisStaticData] = useState<boolean>(false);\r\n\r\n  /**\r\n   * 所有的candle数据（原始数据，未经过加工）\r\n   */\r\n  const [orgCandleData, setorgCandleData] = useState<IcandleItem[]>([]);\r\n\r\n  /**\r\n   * 用于显示的candle数据(经过加工和归并之后的数据 )\r\n   */\r\n  const [displayCandleData, setdisplayCandleData] = useState<IcandleData[]>([]);\r\n\r\n  /**\r\n   * 记录当前视窗内y轴数据的最大值和最小值\r\n   */\r\n  const [displayCandleMaxMin, setdisplayCandleMaxMin] = useState<\r\n    numberScopeString\r\n  >({ start: '0', end: '0' });\r\n  const [org_displayCandleMaxMin, setorg_displayCandleMaxMin] = useState<\r\n    numberScopeString\r\n  >({ start: '0', end: '0' });\r\n  const [yScale, setyScale] = useState<number>(1);\r\n\r\n  /**\r\n   * latestCandle\r\n   * 最新的candle\r\n   * 最末尾的Candle\r\n   */\r\n  const [latestCandle, setlatestCandle] = useState<IcandleData>();\r\n  const [\r\n    latestCandleToolTip,\r\n    setlatestCandleToolTip,\r\n  ] = useState<IToolTipItem | null>(null);\r\n  const [\r\n    latestVolumeToolTip,\r\n    setlatestVolumeToolTip,\r\n  ] = useState<IToolTipItem | null>(null);\r\n\r\n  /**\r\n   * 视图范围内最末尾的candle\r\n   * 最新的candle\r\n   */\r\n  const [\r\n    displayLatestCandle,\r\n    setdisplayLatestCandle,\r\n  ] = useState<IcandleData | null>(null);\r\n  const [\r\n    latestdisplayLatestCandle,\r\n    setlatestdisplayLatestCandle,\r\n  ] = useState<IToolTipItem | null>(null);\r\n  const [\r\n    latestdisplayLatestVolume,\r\n    setlatestdisplayLatestVolume,\r\n  ] = useState<IToolTipItem | null>(null);\r\n\r\n  /**\r\n   * view的全量尺寸\r\n   */\r\n  const [viewSize, setviewSize] = useState<{ width: number; height: number }>({\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n\r\n  const [updateStamp, setupdateStamp] = useState<number>(-1);\r\n  const [initDyStamp, setinitDyStamp] = useState<number>(-1);\r\n\r\n  /**\r\n   * ==================================Ref===============================\r\n   */\r\n\r\n  /**\r\n   * 所有的归并后的数据(数据来源于orgCandleData )\r\n   */\r\n  let allComputedCandleData = useRef<{ [propName: string]: IcandleItem }>(\r\n    {} as { [propName: string]: IcandleItem }\r\n  );\r\n  let isUpdateing = useRef<boolean>(false);\r\n  let isQuickUpdateing = useRef<boolean>(false);\r\n  let isEscapeItems = useRef<boolean>(false);\r\n  let mWorker = useRef<Worker>();\r\n\r\n  /**\r\n   * ==========================静态常量==============================\r\n   */\r\n  //显示时取小数点后几位\r\n  const displayFix = 7;\r\n\r\n  /**\r\n   * ==========================函数==============================\r\n   */\r\n\r\n  /**\r\n   * 判断数据的事件跨度是否和当前设置的时间跨度相符\r\n   */\r\n  const determineTimeSpaceConsistent = function(\r\n    data: IcandleItem[]\r\n  ): 'same' | 'bigger' | 'smaller' {\r\n    if (data.length === 1) {\r\n      return 'smaller';\r\n    }\r\n    let inputDataTimeSpace =\r\n      getRightDate(data[1].time) - getRightDate(data[0].time);\r\n    let configDataTimeSpace = xAxis.data.currentTimeType!.timeGap;\r\n    if (inputDataTimeSpace === configDataTimeSpace) {\r\n      return 'same';\r\n    } else if (inputDataTimeSpace > configDataTimeSpace) {\r\n      return 'bigger';\r\n    }\r\n    return 'smaller';\r\n  };\r\n\r\n  const getMin = function(item: IcandleItem, start: number): number {\r\n    let result: number = start;\r\n    if (result > Number(item.open)) {\r\n      result = Number(item.open);\r\n    }\r\n\r\n    if (result > Number(item.close)) {\r\n      result = Number(item.close);\r\n    }\r\n\r\n    if (result > Number(item.high)) {\r\n      result = Number(item.high);\r\n    }\r\n\r\n    if (result > Number(item.low)) {\r\n      result = Number(item.low);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const getMax = function(item: IcandleItem, end: number): number {\r\n    let result: number = end;\r\n    if (result < Number(item.open)) {\r\n      result = Number(item.open);\r\n    }\r\n\r\n    if (result < Number(item.close)) {\r\n      result = Number(item.close);\r\n    }\r\n\r\n    if (result < Number(item.high)) {\r\n      result = Number(item.high);\r\n    }\r\n\r\n    if (result < Number(item.low)) {\r\n      result = Number(item.low);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  //按照当前的时间刻度归并数据（确保数据已经排序）\r\n  //数据只支持比当前设置的最小单位小的\r\n  //合并完数据就直接把数据放进allComputedCandleData堆里去了\r\n  const mergeData = function(data: IcandleItem[]): numberScopeString {\r\n    //归并的方式是这样的，首先确保数据已经排序，排序顺序为从最早到最晚\r\n    //那么我们可以从数组的最晚数据开始进行归并\r\n    //拿取最后一个数据的时间，通过时间配置对象取到整数\r\n    //将这个整数进行保存。然后归并到一个新的IcandleData对象里\r\n    //继续下一个，\r\n    //拿取下一个数据的时间，通过时间配置对象取到整数\r\n    //通过当前的项目的整数时间和上一个对象的整数时间进行比对\r\n    //一致就归并到一起\r\n    //不一致就另起一个新的IcandleData 将数据放进去，以此类推到数组循环结束\r\n    let _currentCandleStick: IcandleData = ({\r\n      time: -1,\r\n      open: -1,\r\n      close: -1,\r\n      high: -1,\r\n      low: -1,\r\n      volume: 0,\r\n    } as unknown) as IcandleData;\r\n\r\n    let prevItem: IcandleItem = data[data.length - 1];\r\n    //let result: IcandleData[] = [];\r\n\r\n    let _displayCandleMaxMin: numberScopeString = {\r\n      /**\r\n       * 最低点\r\n       * */\r\n      start: '9999999999999999999999',\r\n      /**\r\n       * 最高点\r\n       * */\r\n      end: '-9999999999999999999999',\r\n    };\r\n    for (let i = data.length - 1; i > -1; i--) {\r\n      let item = data[i];\r\n      let time = xAxis.data.currentTimeType!.roundingFunction(\r\n        getRightDate(item.time),\r\n        baseConfig.timeZone!.displayTimeZone!\r\n      );\r\n\r\n      if (\r\n        _currentCandleStick.time === -1 ||\r\n        time !== _currentCandleStick.time\r\n      ) {\r\n        if (\r\n          time !== _currentCandleStick.time &&\r\n          _currentCandleStick.time !== -1 &&\r\n          typeof allComputedCandleData.current[_currentCandleStick.time] ===\r\n            'undefined'\r\n        ) {\r\n          allComputedCandleData.current[\r\n            _currentCandleStick.time\r\n          ] = _currentCandleStick;\r\n          //result.push(_currentCandleStick);\r\n        }\r\n\r\n        _currentCandleStick = {\r\n          time: time,\r\n          open: -1,\r\n          close: -1,\r\n          high: '-9999999999999999999999',\r\n          low: '9999999999999999999999',\r\n          volume: 0,\r\n        };\r\n      }\r\n\r\n      _currentCandleStick.open = item.open;\r\n      if (\r\n        time <\r\n          xAxis.data.currentTimeType!.roundingFunction(\r\n            getRightDate(prevItem.time),\r\n            baseConfig!.timeZone!.displayTimeZone!\r\n          ) ||\r\n        _currentCandleStick.close === -1\r\n      ) {\r\n        _currentCandleStick.close = item.close;\r\n      }\r\n      if (Number(_currentCandleStick.high) < Number(item.high)) {\r\n        _currentCandleStick.high = item.high;\r\n      }\r\n\r\n      if (Number(_currentCandleStick.low) > Number(item.low)) {\r\n        _currentCandleStick.low = item.low;\r\n      }\r\n\r\n      _displayCandleMaxMin.start = getMin(\r\n        item,\r\n        Number(_displayCandleMaxMin.start)\r\n      ).toString();\r\n      _displayCandleMaxMin.end = getMax(\r\n        item,\r\n        Number(_displayCandleMaxMin.end)\r\n      ).toString();\r\n\r\n      _currentCandleStick.volume =\r\n        Number(_currentCandleStick.volume) + Number(item.volume);\r\n      prevItem = item;\r\n\r\n      if (i === 0) {\r\n        allComputedCandleData.current[\r\n          _currentCandleStick.time\r\n        ] = _currentCandleStick;\r\n        //result.push(_currentCandleStick);\r\n      }\r\n    }\r\n\r\n    return _displayCandleMaxMin;\r\n  };\r\n\r\n  /**\r\n   * 将数据直接放进allComputedCandleData\r\n   * @param data 输入数据\r\n   */\r\n  const putDataIntoAllComputedCandleData = function(\r\n    data: IcandleItem[]\r\n  ): numberScopeString {\r\n    let _displayCandleMaxMin: numberScopeString = {\r\n      /**\r\n       * 最低点\r\n       * */\r\n      start: '9999999999999999999999',\r\n      /**\r\n       * 最高点\r\n       * */\r\n      end: '-9999999999999999999999',\r\n    };\r\n    for (var item of data) {\r\n      if (typeof allComputedCandleData.current[item.time] === 'undefined') {\r\n        _displayCandleMaxMin.start = getMin(\r\n          item,\r\n          Number(_displayCandleMaxMin.start)\r\n        ).toString();\r\n        _displayCandleMaxMin.end = getMax(\r\n          item,\r\n          Number(_displayCandleMaxMin.end)\r\n        ).toString();\r\n        allComputedCandleData.current[item.time] = { ...item };\r\n      }\r\n    }\r\n\r\n    return _displayCandleMaxMin;\r\n  };\r\n\r\n  const getCandleColor = function(\r\n    start: string,\r\n    end: string,\r\n    type: 'wick' | 'candle'\r\n  ): string {\r\n    if (Number(start) > Number(end)) {\r\n      if (type === 'wick') return initArgs.candleStyles!.wickFallColor!;\r\n      if (type === 'candle') return initArgs.candleStyles!.candleFallColor!;\r\n    }\r\n    if (type === 'wick') return initArgs.candleStyles!.wickRiseColor!;\r\n    if (type === 'candle') return initArgs.candleStyles!.candleRiseColor!;\r\n    return '#fff';\r\n  };\r\n\r\n  const getCandleStatus = function(\r\n    start: string,\r\n    end: string,\r\n    type: 'wick' | 'candle'\r\n  ): 'rise' | 'fall' {\r\n    if (Number(start) > Number(end)) {\r\n      if (type === 'wick') return 'fall';\r\n      if (type === 'candle') return 'fall';\r\n    }\r\n    if (type === 'wick') return 'rise';\r\n    if (type === 'candle') return 'rise';\r\n    return 'rise';\r\n  };\r\n\r\n  const getDataSpaceFromNumberScope = function(\r\n    dataScope: numberScopeString,\r\n    start: number,\r\n    end: number\r\n  ) {\r\n    let space = Number(dataScope.end) - Number(dataScope.start);\r\n    let cspace = end - start;\r\n    let precent = Number((cspace / space).toFixed(5));\r\n    let yHeight =\r\n      xAxis.data.viewSize.height -\r\n      getSpaceSize(xAxis.initArgs.labelSpace!, xAxis.data.viewSize.height);\r\n    return yHeight * precent;\r\n  };\r\n\r\n  const getDataY = function(\r\n    dataScope: numberScopeString,\r\n    dataPoint: string\r\n  ): number {\r\n    let space = Number(dataScope.end) - Number(dataScope.start);\r\n    let precent = Number(\r\n      ((Number(dataPoint) - Number(dataScope.start)) / space).toFixed(5)\r\n    );\r\n    let yHeight =\r\n      xAxis.data.viewSize.height -\r\n      getSpaceSize(xAxis.initArgs.labelSpace!, xAxis.data.viewSize.height);\r\n    return yHeight - yHeight * precent;\r\n  };\r\n\r\n  //用y轴数据计算单个指标的各种属性\r\n  const computSingalCandledata = function(\r\n    //进行计算的项目\r\n    dataitem: IcandleData,\r\n    //扩展后的范围（数据）\r\n    dataScope: numberScopeString,\r\n    //未扩展的范围（数据）\r\n    orgScope: numberScopeString\r\n  ): IcandleData {\r\n    dataitem.candleColor = getCandleColor(\r\n      dataitem.open as string,\r\n      dataitem.close as string,\r\n      'candle'\r\n    );\r\n    dataitem.wickColor = getCandleColor(\r\n      dataitem.open as string,\r\n      dataitem.close as string,\r\n      'wick'\r\n    );\r\n    dataitem.candleStateus = getCandleStatus(\r\n      dataitem.open as string,\r\n      dataitem.close as string,\r\n      'candle'\r\n    );\r\n    dataitem.wickStateus = getCandleStatus(\r\n      dataitem.open as string,\r\n      dataitem.close as string,\r\n      'wick'\r\n    );\r\n    //快速渲染\r\n    if (isQuickUpdateing.current == true) {\r\n      dataitem.wickWidth = 1.2;\r\n      dataitem.candlePixPosition = {\r\n        x: 0,\r\n        y: getDataY(\r\n          dataScope,\r\n          Math.max(Number(dataitem.close), Number(dataitem.open)).toString()\r\n        ),\r\n      };\r\n      dataitem.wickPixPosition = {\r\n        x: 0, //x在渲染时直接取currentTick这里就不用计算了\r\n        y: getDataY(dataScope, dataitem.high.toString()),\r\n      };\r\n      dataitem.wickLength = getDataSpaceFromNumberScope(\r\n        dataScope,\r\n        Number(dataitem.low),\r\n        Number(dataitem.high)\r\n      );\r\n      //全量渲染\r\n    } else {\r\n      try {\r\n        dataitem.candleWidth = getSpaceSize(\r\n          initArgs.candleStyles!.candleWidth!,\r\n          xAxis.data.displayTickCommonpixWidth!\r\n        );\r\n        dataitem.wickWidth = getSpaceSize(\r\n          initArgs.candleStyles!.wickWidth!,\r\n          xAxis.data.displayTickCommonpixWidth!\r\n        );\r\n      } catch (_e) {}\r\n\r\n      dataitem.candlePixPosition = {\r\n        x: 0, //x在渲染时直接取currentTick这里就不用计算了\r\n        y: getDataY(\r\n          dataScope,\r\n          Math.max(Number(dataitem.close), Number(dataitem.open)).toString()\r\n        ),\r\n      };\r\n      dataitem.wickPixPosition = {\r\n        x: 0, //x在渲染时直接取currentTick这里就不用计算了\r\n        y: getDataY(dataScope, dataitem.high.toString()),\r\n      };\r\n      dataitem.candleLength = getDataSpaceFromNumberScope(\r\n        dataScope,\r\n        Math.min(Number(dataitem.open), Number(dataitem.close)),\r\n        Math.max(Number(dataitem.open), Number(dataitem.close))\r\n      );\r\n      if (dataitem.candleLength < 1) {\r\n        dataitem.candleLength = 1;\r\n      }\r\n      dataitem.wickLength = getDataSpaceFromNumberScope(\r\n        dataScope,\r\n        Number(dataitem.low),\r\n        Number(dataitem.high)\r\n      );\r\n    }\r\n    try {\r\n      //顺便计算单个tick的数据空间是否在最左边边缘\r\n      //记录视图范围内最末尾的candle\r\n      if (\r\n        xAxis.data.lineSize.width -\r\n          xAxis.data.x -\r\n          dataitem.currentTick!.pixSpace!.start >=\r\n          0 &&\r\n        dataitem.currentTick!.pixSpace!.end -\r\n          (xAxis.data.lineSize.width - xAxis.data.x) <=\r\n          dataitem.currentTick!.pixSpace!.end -\r\n            dataitem.currentTick!.pixSpace!.start\r\n      ) {\r\n        setdisplayLatestCandle(dataitem);\r\n      }\r\n    } catch (_e) {}\r\n    dataitem.updateTag = orgScope.start + orgScope.end;\r\n    return dataitem;\r\n  };\r\n\r\n  //用y轴数据计算单个指标的各种属性\r\n  const computSingalCandledataMini = function(\r\n    //candle项目\r\n    dataitem: IcandleData,\r\n    //未扩展的范围（数据）\r\n    orgScope: numberScopeString\r\n  ): void {\r\n    try {\r\n      //顺便计算单个tick的数据空间是否在最左边边缘\r\n      //记录视图范围内最末尾的candle\r\n      if (\r\n        xAxis.data.lineSize.width -\r\n          xAxis.data.x -\r\n          dataitem.currentTick!.pixSpace!.start >=\r\n          0 &&\r\n        dataitem.currentTick!.pixSpace!.end -\r\n          (xAxis.data.lineSize.width - xAxis.data.x) <=\r\n          dataitem.currentTick!.pixSpace!.end -\r\n            dataitem.currentTick!.pixSpace!.start\r\n      ) {\r\n        setdisplayLatestCandle(dataitem);\r\n      }\r\n    } catch (_e) {}\r\n  };\r\n\r\n  /**\r\n   * 从x轴指针里查找数据\r\n   * @param tickArr x轴指针\r\n   * @param dataScope 范围\r\n   * @returns\r\n   */\r\n  const findDataByTicks = function(\r\n    tickArr: tickItem[]\r\n  ): IcandleData[] | { data: IcandleData[]; scope: numberScopeString } {\r\n    let result: IcandleData[] = [];\r\n    let _displayCandleMaxMin: numberScopeString = {\r\n      /**\r\n       * 最低点\r\n       * */\r\n      start: '9999999999999999999999',\r\n      /**\r\n       * 最高点\r\n       * */\r\n      end: '-9999999999999999999999',\r\n    };\r\n    let maxVolume: number = -99999999999999;\r\n    for (let inde_i = 0; inde_i < tickArr.length; inde_i++) {\r\n      let item = tickArr[inde_i];\r\n      if (typeof allComputedCandleData.current[item.value] !== 'undefined') {\r\n        let dataitem: IcandleData = allComputedCandleData.current[\r\n          item.value\r\n        ] as IcandleData;\r\n        dataitem!.currentTick! = item;\r\n\r\n        _displayCandleMaxMin.start = getMin(\r\n          dataitem,\r\n          Number(_displayCandleMaxMin.start)\r\n        ).toString();\r\n        _displayCandleMaxMin.end = getMax(\r\n          dataitem,\r\n          Number(_displayCandleMaxMin.end)\r\n        ).toString();\r\n\r\n        if (maxVolume < Number(dataitem.volume)) {\r\n          maxVolume = Number(dataitem.volume);\r\n        }\r\n\r\n        result.push(dataitem);\r\n      }\r\n    }\r\n    setvolumChartViewMax(maxVolume);\r\n\r\n    return { data: result, scope: _displayCandleMaxMin };\r\n  };\r\n\r\n  //将数据里所有的时间按照用户设置的数据源时区还原GMT +0000，然后再设置到显示时区\r\n  const seAllDataDateToUserConfigedGMT = function(data: IcandleData[]) {\r\n    for (let item of data) {\r\n      //如果填写的是\"本地时间\"，就不做任何操作\r\n      if (baseConfig.timeZone!.dataSourceTimeZone === 'local') {\r\n        item.time = Number(item.time);\r\n      } else {\r\n        //否则，先把时间按照用户设置的归零，然后再设置到显示时间\r\n        item.time = anyTimeToGMT0000ToTarget(\r\n          Number(item.time),\r\n          baseConfig.timeZone!.dataSourceTimeZone,\r\n          baseConfig.timeZone!.displayTimeZone\r\n        );\r\n      }\r\n    }\r\n\r\n    return data;\r\n  };\r\n\r\n  /**\r\n   * 初始化动态数据\r\n   */\r\n  const initDynamicData = async function() {\r\n    //清空堆数据\r\n    Object.keys(allComputedCandleData.current).forEach(\r\n      key => delete allComputedCandleData.current[key]\r\n    );\r\n    setupdateStamp(-1);\r\n    setorgCandleData([]);\r\n    setdisplayCandleData([]);\r\n    setyScale(1);\r\n    setminy(0);\r\n    setisFetchingData(true);\r\n    setCursorCandleItem(null);\r\n    setlatestCandleItem(null);\r\n    setvolumChartPixHeight(0);\r\n    setvolumChartViewMax(0);\r\n    setdisplayCandleMaxMin({ start: '0', end: '0' });\r\n    setorg_displayCandleMaxMin({ start: '0', end: '0' });\r\n    setlatestCandleToolTip(null);\r\n    setlatestVolumeToolTip(null);\r\n    setdisplayLatestCandle(null);\r\n    setlatestdisplayLatestCandle(null);\r\n    setlatestdisplayLatestVolume(null);\r\n    allComputedCandleData.current = {};\r\n    isUpdateing.current = false;\r\n    isQuickUpdateing.current = false;\r\n    isEscapeItems.current = false;\r\n    setisFinishedInit(false);\r\n    setstopDynamicFetching(false);\r\n    // TODO: 1.获得时间范围，获得当前x轴时间范围的end,然后往后推用户设置的数据条数（也就是时间单位）\r\n    let endTime = xAxis.data.currentTimeScope.end;\r\n    /**\r\n     * 当前的整数时间\r\n     */\r\n    let _timeInteger = xAxis.data.currentTimeType!.roundingFunction(\r\n      endTime,\r\n      baseConfig!.timeZone!.displayTimeZone!\r\n    );\r\n\r\n    /**\r\n     * 获得末尾时间\r\n     */\r\n    let startTime = xAxis.data.currentTimeType!.backwardTimeUnit!(\r\n      _timeInteger,\r\n      initArgs.dynamicData!.dataFetchCountPreTime!,\r\n      baseConfig!.timeZone!.displayTimeZone!\r\n    );\r\n    let result: IcandleItem[] = await initArgs.dynamicData!.dataFetchCallback!(\r\n      (xAxis.data.currentTimeType!.name as unknown) as TtimeType,\r\n      startTime,\r\n      endTime\r\n    );\r\n    if (result.length !== 0) {\r\n      setTempDynamicData(seAllDataDateToUserConfigedGMT(result));\r\n      setisFirstTimeUpdate(true);\r\n    }\r\n    //计算volum图的像素高度\r\n    let heightPixVolumArea = getSpaceSize(\r\n      initArgs.candleStyles?.volumChart?.volumeChartHeight!,\r\n      xAxis.data.linePosition.y\r\n    );\r\n    setvolumChartPixHeight(heightPixVolumArea);\r\n    setisFetchingData(false);\r\n\r\n    setisFinishedInit(true);\r\n  };\r\n\r\n  /**\r\n   * 在数据滚动或者缩放时发起的动态数据拉取\r\n   */\r\n  const lunchDynamicData = async function(endTime: number) {\r\n    if (isFetchingData) {\r\n      return;\r\n    }\r\n    setisFetchingData(true);\r\n    /**\r\n     * 获得末尾时间\r\n     */\r\n    let startTime = xAxis.data.currentTimeType!.backwardTimeUnit!(\r\n      endTime,\r\n      initArgs.dynamicData!.dataFetchCountPreTime!,\r\n      baseConfig!.timeZone!.displayTimeZone!\r\n    );\r\n\r\n    let timeZoneD = 0;\r\n\r\n    if (baseConfig.timeZone!.displayTimeZone === 'local') {\r\n      let date = new Date();\r\n      let localtimeZone = Math.abs(date.getTimezoneOffset() / 60);\r\n      timeZoneD = localtimeZone;\r\n    } else {\r\n      timeZoneD = baseConfig.timeZone!.displayTimeZone;\r\n    }\r\n    //如果设置了时间归零\r\n    //查询时间会被错开，所以查询的时候就再还原一下时间\r\n    startTime = anyTimeToGMT0000ToTarget(\r\n      startTime,\r\n      timeZoneD,\r\n      baseConfig.timeZone!.fetchConditionTimeZone\r\n    );\r\n    endTime = anyTimeToGMT0000ToTarget(\r\n      endTime,\r\n      timeZoneD,\r\n      baseConfig.timeZone!.fetchConditionTimeZone\r\n    );\r\n\r\n    let result: IcandleItem[] = await initArgs.dynamicData!.dataFetchCallback!(\r\n      (xAxis.data.currentTimeType!.name as unknown) as TtimeType,\r\n      startTime,\r\n      endTime\r\n    );\r\n\r\n    //返回数据为0或为空\r\n    //停止拉取数据了\r\n    if (typeof result === 'undefined' || result === null) {\r\n      setstopDynamicFetching(true);\r\n      return;\r\n    }\r\n\r\n    //如果result的结果等于1\r\n    //然后这个结果在显示candle集合里的最末尾\r\n    if (result.length === 1) {\r\n      let intTime = anyTimeToGMT0000ToTarget(\r\n        Number(result[0].time),\r\n        baseConfig.timeZone!.dataSourceTimeZone,\r\n        baseConfig.timeZone!.displayTimeZone\r\n      );\r\n      //说明数据已经到头了\r\n      if (intTime === displayCandleData[0].time) {\r\n        setstopDynamicFetching(true);\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (result.length !== 0) {\r\n      setTempDynamicData(seAllDataDateToUserConfigedGMT(result));\r\n    }\r\n    setisFetchingData(false);\r\n  };\r\n\r\n  /**\r\n   * 更新动态数据\r\n   */\r\n  const updateDynamicData = function(data: IcandleItem[]) {\r\n    if (isFetchingData) {\r\n      return;\r\n    }\r\n    if (!isFinishedInit) {\r\n      return;\r\n    }\r\n\r\n    //排序\r\n    let _data = data.sort(function(a, b) {\r\n      return getRightDate(a.time) - getRightDate(b.time);\r\n    });\r\n\r\n    //判断时间类型是不是一致，还是大了还是小了\r\n    var isConsistentOfDateType = determineTimeSpaceConsistent(data);\r\n\r\n    //大了就没办法了，直接return\r\n    if (isConsistentOfDateType === 'bigger') {\r\n      console.log(\r\n        'The time interval of the data is inconsistent with the given configured time interval!'\r\n      );\r\n      return;\r\n    }\r\n\r\n    //将新数据加入到当前现有的数据里去\r\n    //小了的话就按照配置的时间类型进行归并\r\n    if (isConsistentOfDateType === 'smaller') {\r\n      mergeData(_data);\r\n    } else {\r\n      //如果是一致的，就直接将这些数据放进堆里\r\n      putDataIntoAllComputedCandleData(_data);\r\n    }\r\n\r\n    //新老数据合并做个备份\r\n    let _orgCandleData = [..._data, ...orgCandleData];\r\n\r\n    setorgCandleData(_orgCandleData);\r\n    if (isFirstTimeUpdate) {\r\n      setisFirstTimeUpdate(false);\r\n      setinitDyStamp(+new Date());\r\n    } else {\r\n      setfetchDataStemp(+new Date());\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 初始化静态数据\r\n   */\r\n  const initStaticData = function() {\r\n    //清空堆数据\r\n    Object.keys(allComputedCandleData.current).forEach(\r\n      key => delete allComputedCandleData.current[key]\r\n    );\r\n    //排序\r\n    let _orgCandleData = seAllDataDateToUserConfigedGMT(\r\n      initArgs.staticData!.sort(function(a, b) {\r\n        return getRightDate(a.time) - getRightDate(b.time);\r\n      })\r\n    );\r\n\r\n    //判断时间类型是不是一致，还是大了还是小了\r\n    var isConsistentOfDateType = determineTimeSpaceConsistent(_orgCandleData);\r\n\r\n    //大了就没办法了，直接return\r\n    if (isConsistentOfDateType === 'bigger') {\r\n      console.log(\r\n        'The time interval of the data is inconsistent with the given configured time interval!'\r\n      );\r\n      return;\r\n    }\r\n\r\n    let dataScope: numberScopeString = { start: '500', end: '700' };\r\n    //小了的话就按照配置的时间类型进行归并\r\n    if (isConsistentOfDateType === 'smaller') {\r\n      dataScope = mergeData(_orgCandleData);\r\n    } else {\r\n      //如果是一致的，就直接将这些数据放进堆里\r\n      dataScope = putDataIntoAllComputedCandleData(_orgCandleData);\r\n    }\r\n\r\n    //dataScope  这个scope是指所有数据的scope,并不是当前屏幕显示范围的scope\r\n\r\n    //用于显示的数据\r\n    let result = findDataByTicks(xAxis.data.tickArr) as {\r\n      data: IcandleData[];\r\n      scope: numberScopeString;\r\n    };\r\n\r\n    for (let item of result.data) {\r\n      item = computSingalCandledata(item, result.scope, result.scope);\r\n    }\r\n    dataScope = result.scope;\r\n\r\n    //计算volum图的像素高度\r\n    let heightPixVolumArea = getSpaceSize(\r\n      initArgs.candleStyles?.volumChart?.volumeChartHeight!,\r\n      xAxis.data.linePosition.y\r\n    );\r\n\r\n    setvolumChartPixHeight(heightPixVolumArea);\r\n\r\n    setorgCandleData(_orgCandleData);\r\n    setdisplayCandleData(result.data);\r\n    setviewSize(xAxis.data.viewSize);\r\n    setisFinishedInit(true);\r\n    setorg_displayCandleMaxMin(result.scope);\r\n    setyScale(1);\r\n    setminy(0);\r\n    //更新y轴\r\n    yAxis.funcs.updateAxisSates(\r\n      xAxis.data.viewSize.width,\r\n      xAxis.data.viewSize.height,\r\n      {\r\n        start: Number(dataScope.start),\r\n        end: Number(dataScope.end),\r\n      }\r\n    );\r\n    setdisplayCandleMaxMin(dataScope);\r\n    setupdateStamp(+new Date());\r\n    setisFetchingData(false);\r\n  };\r\n\r\n  //只计算缩放和刚进来的数据，不进行全量更新\r\n  //这个算法主要的运算方式是：\r\n  //1.重新用xAxis.data.tickArr循环一遍，从哈希表里直接取到当前的显示canle组\r\n  //2.然后循环取出来的列表再循环一次计算位置，\r\n  //3.计算位置的时候判断这个列表里有哪些candle项目已经被计算过计算过的就不算了，没计算过的计算一下\r\n  const updatePartialCandleData = function() {\r\n    let _xAxisdatatickArr = [...xAxis.data.tickArr];\r\n    let _viewSize = { ...xAxis.data.viewSize };\r\n    let _org_displayCandleMaxMin = { ...org_displayCandleMaxMin };\r\n    let isEscapeItems_current = isEscapeItems.current;\r\n    let isQuickUpdateing_current = isQuickUpdateing.current;\r\n\r\n    //用于显示的数据\r\n    let result = findDataByTicks(_xAxisdatatickArr) as {\r\n      data: IcandleData[];\r\n      scope: numberScopeString;\r\n    };\r\n\r\n    //result.data 为 和目前x轴tick的交集displaycandles\r\n    //result.scope 为扩展之前的数据范围 真实的数据范围\r\n    if (result.data.length === 0) {\r\n      //没找到\r\n      setdisplayCandleData([]);\r\n      checkDynamicData();\r\n      return;\r\n    }\r\n\r\n    //先通知y轴更新了\r\n    requestAnimationFrame(function() {\r\n      //更新y轴\r\n      yAxis.funcs.updateAxisSates(_viewSize.width, _viewSize.height, {\r\n        start: Number(result.scope.start),\r\n        end: Number(result.scope.end),\r\n      });\r\n    });\r\n\r\n    //上次缩放或重置后使用的最大值最小值(数据范围，不是像素 )\r\n    //而且是未经扩展过的数据范围（素）的\r\n\r\n    let currentTag =\r\n      _org_displayCandleMaxMin.start + _org_displayCandleMaxMin.end;\r\n    let orgMaxMiny: numberScope = {\r\n      //start 找 y+length 最大的\r\n      start: -9999999999999999,\r\n      //end找y最小的\r\n      end: 99999999999999,\r\n    };\r\n    //进行数据计算\r\n    let index = 0;\r\n\r\n    for (var item of result.data) {\r\n      //如果已经打开了省略模式\r\n\r\n      //如果已经打开了省略模式\r\n      if (isEscapeItems_current) {\r\n        if (Number(index) % 2) {\r\n          //全部进行全量计算\r\n          //如果上次更新的tag和现在当前的值不一致，说明是上次缩放后还没来得及计算的元素\r\n          //这样的元素就需要重新进行计算，\r\n          //否则就不需要进行计算\r\n          if (\r\n            typeof item.updateTag === 'undefined' ||\r\n            item.updateTag !== currentTag\r\n          ) {\r\n            item = computSingalCandledata(\r\n              item,\r\n              _org_displayCandleMaxMin,\r\n              _org_displayCandleMaxMin\r\n            );\r\n          } else {\r\n            computSingalCandledataMini(item, _org_displayCandleMaxMin);\r\n          }\r\n          item.isEscaped = false;\r\n        } else {\r\n          //省略过的只收集数据\r\n          computSingalCandledataMini(item, result.scope);\r\n          item.isEscaped = true;\r\n        }\r\n      } else {\r\n        //全部进行全量计算\r\n        //如果上次更新的tag和现在当前的值不一致，说明是上次缩放后还没来得及计算的元素\r\n        //这样的元素就需要重新进行计算，\r\n        //否则就不需要进行计算\r\n        if (\r\n          typeof item.updateTag === 'undefined' ||\r\n          item.updateTag !== currentTag\r\n        ) {\r\n          item = computSingalCandledata(\r\n            item,\r\n            _org_displayCandleMaxMin,\r\n            _org_displayCandleMaxMin\r\n          );\r\n        } else {\r\n          computSingalCandledataMini(item, _org_displayCandleMaxMin);\r\n        }\r\n        item.isEscaped = false;\r\n      }\r\n\r\n      if (isQuickUpdateing_current) {\r\n        if (\r\n          Number(item.wickPixPosition?.y) + Number(item.wickLength) >\r\n          orgMaxMiny.start\r\n        ) {\r\n          //求（像素）y最大值\r\n          orgMaxMiny.start =\r\n            Number(item.wickPixPosition?.y) + Number(item.wickLength);\r\n        }\r\n        //求（像素）y最小值\r\n        if (Number(item.wickPixPosition?.y) < orgMaxMiny.end) {\r\n          orgMaxMiny.end = Number(item.wickPixPosition?.y);\r\n        }\r\n      } else {\r\n        if (\r\n          Math.max(\r\n            Number(item.candlePixPosition?.y) + Number(item.candleLength),\r\n            Number(item.wickPixPosition?.y) + Number(item.wickLength)\r\n          ) > orgMaxMiny.start\r\n        ) {\r\n          //求（像素）y最大值\r\n          orgMaxMiny.start = Math.max(\r\n            Number(item.candlePixPosition?.y) + Number(item.candleLength),\r\n            Number(item.wickPixPosition?.y) + Number(item.wickLength)\r\n          );\r\n        }\r\n        //求（像素）y最小值\r\n        if (\r\n          Math.min(\r\n            Number(item.candlePixPosition?.y),\r\n            Number(item.wickPixPosition?.y)\r\n          ) < orgMaxMiny.end\r\n        ) {\r\n          orgMaxMiny.end = Math.min(\r\n            Number(item.candlePixPosition?.y),\r\n            Number(item.wickPixPosition?.y)\r\n          );\r\n        }\r\n      }\r\n\r\n      index++;\r\n    }\r\n\r\n    //对查找出来的边界进行扩展\r\n    ///let expandedMaxMin = yAxis.funcs.expandDataSpanceEdgePIX(orgMaxMiny);\r\n\r\n    let currentheight = orgMaxMiny.start - orgMaxMiny.end;\r\n    let expendHeight =\r\n      currentheight + currentheight * yAxis.initArgs.displayPadding!;\r\n    let scale = yAxis.data.lineSize.height / expendHeight;\r\n    let y =\r\n      -orgMaxMiny.end + (currentheight * yAxis.initArgs.displayPadding!) / 2;\r\n\r\n    setdisplayCandleData(result.data);\r\n\r\n    setdisplayCandleMaxMin(result.scope);\r\n\r\n    if (result.data.length !== 0) {\r\n      setminy(y * scale);\r\n      setyScale(scale);\r\n      checkDynamicData(result.data);\r\n      setupdateStamp(+new Date());\r\n    }\r\n  };\r\n\r\n  /*\r\n\t第三版结合所有优点根据情况决定是计算还是更新\r\n\t*/\r\n  const updatePartialCandleDataV3 = function() {\r\n    let onlyUpdatePositionAndScale = function(_cArr?: IcandleData[]) {\r\n      let isFromAppend = false;\r\n      if (typeof _cArr === 'undefined') {\r\n        _cArr = [...displayCandleData];\r\n        _cArr = _cArr.sort(function(a, b) {\r\n          return Number(a.time) - Number(b.time);\r\n        });\r\n      } else {\r\n        isFromAppend = true;\r\n      }\r\n      if (_cArr.length === 0) {\r\n        return;\r\n      }\r\n      let _LastScopeddcData = [...LastScopeddcData];\r\n      let barr = [];\r\n      /* if (_LastScopeddcData.length !== 0) {\r\n\t\t\t\tbarr = _LastScopeddcData;\r\n\t\t\t} else { */\r\n      barr = _cArr;\r\n      /* } */\r\n      let currentScopeDisplayCandleData = findIntersectionCandle(\r\n        barr,\r\n        xAxis.data.currentTimeScope\r\n      );\r\n      if (isFromAppend) {\r\n        currentScopeDisplayCandleData = _cArr;\r\n      } else {\r\n        currentScopeDisplayCandleData = findIntersectionCandle(\r\n          barr,\r\n          xAxis.data.currentTimeScope\r\n        );\r\n      }\r\n      let orgMaxMiny: numberScope = {\r\n        //start 找 y+length 最大的\r\n        start: -9999999999999999,\r\n        //end找y最小的\r\n        end: 99999999999999,\r\n      };\r\n      let _displayCandleMaxMin: numberScopeString = {\r\n        /**\r\n         * 最低点\r\n         * */\r\n        start: '9999999999999999999999',\r\n        /**\r\n         * 最高点\r\n         * */\r\n        end: '-9999999999999999999999',\r\n      };\r\n      let maxVolume: number = -99999999999999;\r\n\r\n      let i = 0;\r\n      while (i < currentScopeDisplayCandleData.length) {\r\n        let item = currentScopeDisplayCandleData[i];\r\n        if (isQuickUpdateing.current) {\r\n          if (\r\n            Number(item.wickPixPosition?.y) + Number(item.wickLength) >\r\n            orgMaxMiny.start\r\n          ) {\r\n            //求（像素）y最大值\r\n            orgMaxMiny.start =\r\n              Number(item.wickPixPosition?.y) + Number(item.wickLength);\r\n          }\r\n          //求（像素）y最小值\r\n          if (Number(item.wickPixPosition?.y) < orgMaxMiny.end) {\r\n            orgMaxMiny.end = Number(item.wickPixPosition?.y);\r\n          }\r\n        } else {\r\n          if (\r\n            Math.max(\r\n              Number(item.candlePixPosition?.y) + Number(item.candleLength),\r\n              Number(item.wickPixPosition?.y) + Number(item.wickLength)\r\n            ) > orgMaxMiny.start\r\n          ) {\r\n            //求（像素）y最大值\r\n            orgMaxMiny.start = Math.max(\r\n              Number(item.candlePixPosition?.y) + Number(item.candleLength),\r\n              Number(item.wickPixPosition?.y) + Number(item.wickLength)\r\n            );\r\n          }\r\n          //求（像素）y最小值\r\n          if (\r\n            Math.min(\r\n              Number(item.candlePixPosition?.y),\r\n              Number(item.wickPixPosition?.y)\r\n            ) < orgMaxMiny.end\r\n          ) {\r\n            orgMaxMiny.end = Math.min(\r\n              Number(item.candlePixPosition?.y),\r\n              Number(item.wickPixPosition?.y)\r\n            );\r\n          }\r\n        }\r\n        i++;\r\n      }\r\n\r\n      let currentheight = orgMaxMiny.start - orgMaxMiny.end;\r\n      let expendHeight =\r\n        currentheight + currentheight * yAxis.initArgs.displayPadding!;\r\n      let scale = yAxis.data.lineSize.height / expendHeight;\r\n      let y =\r\n        -orgMaxMiny.end + (currentheight * yAxis.initArgs.displayPadding!) / 2;\r\n\r\n      setminy(y * scale);\r\n      setyScale(scale);\r\n      /* setLastScopeddcData(() => currentScopeDisplayCandleData); */\r\n\r\n      for (let i = 0; i < currentScopeDisplayCandleData.length; i++) {\r\n        let item = currentScopeDisplayCandleData[i];\r\n        computSingalCandledataMini(item, org_displayCandleMaxMin);\r\n\r\n        _displayCandleMaxMin.start = getMin(\r\n          item,\r\n          Number(_displayCandleMaxMin.start)\r\n        ).toString();\r\n        _displayCandleMaxMin.end = getMax(\r\n          item,\r\n          Number(_displayCandleMaxMin.end)\r\n        ).toString();\r\n        if (maxVolume < Number(item.volume)) {\r\n          maxVolume = Number(item.volume);\r\n        }\r\n      }\r\n\r\n      //先通知y轴更新了\r\n      requestAnimationFrame(function() {\r\n        if (currentScopeDisplayCandleData.length === 0) {\r\n          return;\r\n        }\r\n        //更新y轴\r\n        yAxis.funcs.updateAxisSates(viewSize.width, viewSize.height, {\r\n          start: Number(_displayCandleMaxMin.start),\r\n          end: Number(_displayCandleMaxMin.end),\r\n        });\r\n      });\r\n\r\n      setdisplayCandleMaxMin(_displayCandleMaxMin);\r\n      setvolumChartViewMax(maxVolume);\r\n      setupdateStamp(+new Date());\r\n    };\r\n\r\n    let updateAndAppendNewCandle = function() {\r\n      let _totalCandleDisplayArr = [...displayCandleData];\r\n      if (_totalCandleDisplayArr.length === 0) {\r\n        return;\r\n      }\r\n      let orgMaxMiny: numberScope = {\r\n        //start 找 y+length 最大的\r\n        start: -9999999999999999,\r\n        //end找y最小的\r\n        end: 99999999999999,\r\n      };\r\n      let backwardDCArr: IcandleData[] = [];\r\n      //判断是前面少了还是后面少了\r\n      if (xAxis.data.tickArr[0].value !== _totalCandleDisplayArr[0].time) {\r\n        let index = 0;\r\n        while (\r\n          typeof xAxis.data.tickArr[index] !== 'undefined' &&\r\n          xAxis.data.tickArr[index].value < _totalCandleDisplayArr[0].time\r\n        ) {\r\n          let item = (allComputedCandleData.current[\r\n            xAxis.data.tickArr[index].value\r\n          ] as unknown) as IcandleData;\r\n          if (typeof item !== 'undefined') {\r\n            item.currentTick = xAxis.data.tickArr[index];\r\n            backwardDCArr.push(item);\r\n          }\r\n          index++;\r\n        }\r\n      }\r\n\r\n      let forwardDCArr: IcandleData[] = [];\r\n      if (\r\n        xAxis.data.tickArr[xAxis.data.tickArr.length - 1].value !==\r\n        _totalCandleDisplayArr[_totalCandleDisplayArr.length - 1].time\r\n      ) {\r\n        let index = xAxis.data.tickArr.length - 1;\r\n        while (\r\n          typeof xAxis.data.tickArr[index] !== 'undefined' &&\r\n          xAxis.data.tickArr[index].value >\r\n            _totalCandleDisplayArr[_totalCandleDisplayArr.length - 1].time\r\n        ) {\r\n          let item = (allComputedCandleData.current[\r\n            xAxis.data.tickArr[index].value\r\n          ] as unknown) as IcandleData;\r\n          if (typeof item !== 'undefined') {\r\n            item.currentTick = xAxis.data.tickArr[index];\r\n            forwardDCArr.unshift(item);\r\n          }\r\n          index--;\r\n        }\r\n      }\r\n\r\n      let _displayCandleData = [\r\n        ...backwardDCArr,\r\n        ..._totalCandleDisplayArr,\r\n        ...forwardDCArr,\r\n      ];\r\n\r\n      let currentScopeDisplayCandleData = findIntersectionCandle(\r\n        _displayCandleData,\r\n        xAxis.data.currentTimeScope\r\n      );\r\n\r\n      let _org_displayCandleMaxMin = org_displayCandleMaxMin;\r\n      let currentTag =\r\n        _org_displayCandleMaxMin.start + _org_displayCandleMaxMin.end;\r\n\r\n      for (var item of currentScopeDisplayCandleData) {\r\n        if (\r\n          typeof item.updateTag === 'undefined' ||\r\n          item.updateTag !== currentTag\r\n        ) {\r\n          item = computSingalCandledata(\r\n            item,\r\n            _org_displayCandleMaxMin,\r\n            _org_displayCandleMaxMin\r\n          );\r\n        } else {\r\n          computSingalCandledataMini(item, _org_displayCandleMaxMin);\r\n        }\r\n      }\r\n      setdisplayCandleData(_displayCandleData);\r\n      checkDynamicData(_displayCandleData);\r\n      return currentScopeDisplayCandleData;\r\n    };\r\n    window.requestAnimationFrame(function() {\r\n      if (xAxis.data.tickArr.length > 120) {\r\n        let inputArr: IcandleData[] | undefined = undefined;\r\n        if (\r\n          xAxis.data.lastTimeScope.start !==\r\n            xAxis.data.currentTimeScope.start &&\r\n          xAxis.data.lastTimeScope.end !== xAxis.data.currentTimeScope.end\r\n        ) {\r\n          if (Math.abs(xAxis.data.mouseSpeedSec) < 3) {\r\n            inputArr = updateAndAppendNewCandle();\r\n          }\r\n        } else {\r\n          inputArr = updateAndAppendNewCandle();\r\n        }\r\n\r\n        onlyUpdatePositionAndScale(inputArr);\r\n      } else {\r\n        updatePartialCandleData();\r\n      }\r\n    });\r\n  };\r\n\r\n  //只计算缩放和刚进来的数据，不进行全量更新\r\n  //这个算法主要的运算方式是：\r\n  //1.重新用xAxis.data.tickArr循环一遍，从哈希表里直接取到当前的显示canle组\r\n  //2.然后循环取出来的列表再循环一次计算位置，\r\n  //3.计算位置的时候判断这个列表里有哪些candle项目已经被计算过计算过的就不算了，没计算过的计算一下\r\n  //多线程版本\r\n  const updatePartialCandleDataWorker = function() {\r\n    let _xAxisdatatickArr = [...xAxis.data.tickArr];\r\n    let _viewSize = { ...xAxis.data.viewSize };\r\n    let _org_displayCandleMaxMin = { ...org_displayCandleMaxMin };\r\n    let isEscapeItems_current = isEscapeItems.current;\r\n    let isQuickUpdateing_current = isQuickUpdateing.current;\r\n    let allComputedCandleData_current = allComputedCandleData.current;\r\n    let xAxis_initArgs_labelSpace = xAxis.initArgs.labelSpace;\r\n    let initArgs_candleStyles_wickFallColor = initArgs.candleStyles!\r\n      .wickFallColor!;\r\n    let initArgs_candleStyles_candleFallColor = initArgs.candleStyles!\r\n      .candleFallColor!;\r\n    let initArgs_candleStyles_wickRiseColor = initArgs.candleStyles!\r\n      .wickRiseColor!;\r\n    let initArgs_candleStyles_candleRiseColor = initArgs.candleStyles!\r\n      .candleRiseColor!;\r\n    let initArgs_candleStyles_candleWidth = initArgs.candleStyles!.candleWidth!;\r\n    let initArgs_candleStyles_wickWidth = initArgs.candleStyles!.wickWidth!;\r\n    let xAxis_data_displayTickCommonpixWidth = xAxis.data\r\n      .displayTickCommonpixWidth!;\r\n    let xAxis_data_lineSize_width = xAxis.data.lineSize.width;\r\n    let xAxis_data_x = xAxis.data.x;\r\n\r\n    mWorker.current?.postMessage({\r\n      message: 'move',\r\n      _xAxisdatatickArr: _xAxisdatatickArr,\r\n      _viewSize: _viewSize,\r\n      _org_displayCandleMaxMin: _org_displayCandleMaxMin,\r\n      isEscapeItems_current: isEscapeItems_current,\r\n      isQuickUpdateing_current: isQuickUpdateing_current,\r\n      allComputedCandleData_current: allComputedCandleData_current,\r\n      xAxis_initArgs_labelSpace: xAxis_initArgs_labelSpace,\r\n      initArgs_candleStyles_wickFallColor: initArgs_candleStyles_wickFallColor,\r\n      initArgs_candleStyles_candleFallColor: initArgs_candleStyles_candleFallColor,\r\n      initArgs_candleStyles_wickRiseColor: initArgs_candleStyles_wickRiseColor,\r\n      initArgs_candleStyles_candleRiseColor: initArgs_candleStyles_candleRiseColor,\r\n      initArgs_candleStyles_candleWidth: initArgs_candleStyles_candleWidth,\r\n      initArgs_candleStyles_wickWidth: initArgs_candleStyles_wickWidth,\r\n      xAxis_data_displayTickCommonpixWidth: xAxis_data_displayTickCommonpixWidth,\r\n      xAxis_data_lineSize_width: xAxis_data_lineSize_width,\r\n      xAxis_data_x: xAxis_data_x,\r\n    });\r\n\r\n    //let currentheight = orgMaxMiny.start - orgMaxMiny.end;\r\n    //let expendHeight = currentheight + currentheight * yAxis.initArgs.displayPadding!;\r\n    //let scale = yAxis.data.lineSize.height / expendHeight;\r\n    //let y = -orgMaxMiny.end + (currentheight * yAxis.initArgs.displayPadding!) / 2;\r\n    //\r\n    //setdisplayCandleData(() => {\r\n    //\treturn result.data;\r\n    //});\r\n    //\r\n    //setdisplayCandleMaxMin(() => {\r\n    //\treturn result.scope;\r\n    //});\r\n    //\r\n    //if (result.data.length !== 0) {\r\n    //\tsetminy(y * scale);\r\n    //\tsetyScale(scale);\r\n    //\tcheckDynamicData(result.data);\r\n    //\tsetupdateStamp(+new Date());\r\n    //}\r\n  };\r\n\r\n  //只计算刚进来的数据，不做全量更新\r\n  //第二个版本\r\n  //1.用二分查找直接取到剩下还能用的candle\r\n  //2.使用推进法扩展candle\r\n  /* const updatePartialCandleDataV2 = function () {\r\n\t\tlet _cArr = [...displayCandleData];\r\n\t\tlet lastDisplayCandleData = findIntersectionCandle(_cArr, xAxis.data.currentTimeScope);\r\n\r\n\t\tlet backwardDCArr: IcandleData[] = [];\r\n\t\t//判断是前面少了还是后面少了\r\n\t\tif (xAxis.data.tickArr[0].value !== lastDisplayCandleData[0].time) {\r\n\t\t\tlet index = 0;\r\n\t\t\twhile (xAxis.data.tickArr[index].value < lastDisplayCandleData[0].time) {\r\n\t\t\t\tlet item = allComputedCandleData.current[xAxis.data.tickArr[index].value] as unknown as IcandleData;\r\n\t\t\t\tif (typeof item !== \"undefined\") {\r\n\t\t\t\t\titem.currentTick = xAxis.data.tickArr[index];\r\n\t\t\t\t\tbackwardDCArr.push(item);\r\n\t\t\t\t}\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet forwardDCArr: IcandleData[] = [];\r\n\t\tif (\r\n\t\t\txAxis.data.tickArr[xAxis.data.tickArr.length - 1].value !==\r\n\t\t\tlastDisplayCandleData[lastDisplayCandleData.length - 1].time\r\n\t\t) {\r\n\t\t\tlet index = xAxis.data.tickArr.length - 1;\r\n\t\t\twhile (xAxis.data.tickArr[index].value > lastDisplayCandleData[lastDisplayCandleData.length - 1].time) {\r\n\t\t\t\tlet item = allComputedCandleData.current[xAxis.data.tickArr[index].value] as unknown as IcandleData;\r\n\t\t\t\tif (typeof item !== \"undefined\") {\r\n\t\t\t\t\titem.currentTick = xAxis.data.tickArr[index];\r\n\t\t\t\t\tforwardDCArr.unshift(item);\r\n\t\t\t\t}\r\n\t\t\t\tindex--;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (backwardDCArr.length === 0 && forwardDCArr.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//上次缩放或重置后使用的最大值最小值(数据范围，不是像素 )\r\n\t\t//而且是未经扩展过的数据范围（素）的\r\n\t\tlet _org_displayCandleMaxMin = org_displayCandleMaxMin;\r\n\t\tlet currentTag = _org_displayCandleMaxMin.start + _org_displayCandleMaxMin.end;\r\n\r\n\t\t//继承上一次的结果，并从这次的新结果里查找最大的y和最小的y\r\n\t\tlet orgMaxMiny: numberScope = { ...lastMaxMiny };\r\n\t\t//继承上一次的\r\n\t\tlet _displayCandleMaxMin: numberScopeString = { ...displayCandleMaxMin };\r\n\r\n\t\t///计算新选出来的displaycandle项目\r\n\t\tlet comp = function (arrayCD: IcandleData[]): IcandleData[] {\r\n\t\t\t//进行数据计算\r\n\t\t\tlet index = 0;\r\n\t\t\tisEscapeItems.current = false;\r\n\t\t\tfor (var item of arrayCD) {\r\n\t\t\t\t//如果已经打开了省略模式\r\n\r\n\t\t\t\t//全部进行全量计算\r\n\t\t\t\t//如果上次更新的tag和现在当前的值不一致，说明是上次缩放后还没来得及计算的元素\r\n\t\t\t\t//这样的元素就需要重新进行计算，\r\n\t\t\t\t//否则就不需要进行计算\r\n\t\t\t\tif (typeof item.updateTag === \"undefined\" || item.updateTag !== currentTag) {\r\n\t\t\t\t\titem = computSingalCandledata(item, _org_displayCandleMaxMin, _org_displayCandleMaxMin);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcomputSingalCandledataMini(item, _org_displayCandleMaxMin);\r\n\t\t\t\t}\r\n\t\t\t\titem.isEscaped = false;\r\n\r\n\t\t\t\tif (isQuickUpdateing.current) {\r\n\t\t\t\t\tif (Number(item.wickPixPosition?.y) + Number(item.wickLength) > orgMaxMiny.start) {\r\n\t\t\t\t\t\t//求（像素）y最大值\r\n\t\t\t\t\t\torgMaxMiny.start = Number(item.wickPixPosition?.y) + Number(item.wickLength);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//求（像素）y最小值\r\n\t\t\t\t\tif (Number(item.wickPixPosition?.y) < orgMaxMiny.end) {\r\n\t\t\t\t\t\torgMaxMiny.end = Number(item.wickPixPosition?.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tMath.max(\r\n\t\t\t\t\t\t\tNumber(item.candlePixPosition?.y) + Number(item.candleLength),\r\n\t\t\t\t\t\t\tNumber(item.wickPixPosition?.y) + Number(item.wickLength)\r\n\t\t\t\t\t\t) > orgMaxMiny.start\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\t//求（像素）y最大值\r\n\t\t\t\t\t\torgMaxMiny.start = Math.max(\r\n\t\t\t\t\t\t\tNumber(item.candlePixPosition?.y) + Number(item.candleLength),\r\n\t\t\t\t\t\t\tNumber(item.wickPixPosition?.y) + Number(item.wickLength)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//求（像素）y最小值\r\n\t\t\t\t\tif (Math.min(Number(item.candlePixPosition?.y), Number(item.wickPixPosition?.y)) < orgMaxMiny.end) {\r\n\t\t\t\t\t\torgMaxMiny.end = Math.min(Number(item.candlePixPosition?.y), Number(item.wickPixPosition?.y));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_displayCandleMaxMin.start = getMin(item, Number(_displayCandleMaxMin.start)).toString();\r\n\t\t\t\t_displayCandleMaxMin.end = getMax(item, Number(_displayCandleMaxMin.end)).toString();\r\n\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\t\t\treturn arrayCD;\r\n\t\t};\r\n\r\n\t\tlet _displayCandleData = comp(backwardDCArr).concat(lastDisplayCandleData).concat(comp(forwardDCArr));\r\n\r\n\t\tlet currentheight = orgMaxMiny.start - orgMaxMiny.end;\r\n\t\tlet expendHeight = currentheight + currentheight * yAxis.initArgs.displayPadding!;\r\n\t\tlet scale = yAxis.data.lineSize.height / expendHeight;\r\n\t\tlet y = -orgMaxMiny.end + (currentheight * yAxis.initArgs.displayPadding!) / 2;\r\n\r\n\t\tsetdisplayCandleData(_displayCandleData);\r\n\r\n\t\tsetdisplayCandleMaxMin(() => {\r\n\t\t\treturn _displayCandleMaxMin;\r\n\t\t});\r\n\r\n\t\tif (_displayCandleData.length !== 0) {\r\n\t\t\tsetminy(y * scale);\r\n\t\t\tsetyScale(scale);\r\n\t\t\tcheckDynamicData(_displayCandleData);\r\n\t\t\tsetupdateStamp(+new Date());\r\n\t\t\tsetlastMaxMiny(orgMaxMiny);\r\n\t\t}\r\n\t}; */\r\n\r\n  //进行全量更新\r\n  const reComputAllDisplayedCandleData = function() {\r\n    //用于显示的数据\r\n    let result = findDataByTicks(xAxis.data.tickArr) as {\r\n      data: IcandleData[];\r\n      scope: numberScopeString;\r\n    };\r\n    if (result.data.length === 0) {\r\n      setdisplayCandleData([]);\r\n      checkDynamicData();\r\n      return;\r\n    }\r\n\r\n    requestAnimationFrame(function() {\r\n      //更新y轴\r\n      yAxis.funcs.updateAxisSates(\r\n        xAxis.data.viewSize.width,\r\n        xAxis.data.viewSize.height,\r\n        {\r\n          start: Number(result.scope.start),\r\n          end: Number(result.scope.end),\r\n        }\r\n      );\r\n    });\r\n\r\n    setdisplayCandleMaxMin(() => {\r\n      return result.scope;\r\n    });\r\n\r\n    //if (xAxis.data.tickArr.length > 2000) {\r\n    //\tisEscapeItems.current = true;\r\n    //} else {\r\n    //\tisEscapeItems.current = false;\r\n    //}\r\n\r\n    let index = 0;\r\n    for (let item of result.data) {\r\n      //如果已经打开了省略模式\r\n      if (isEscapeItems.current) {\r\n        if (Number(index) % 2) {\r\n          //没有被省略的进行全量计算\r\n          item = computSingalCandledata(item, result.scope, result.scope);\r\n          item.isEscaped = false;\r\n        } else {\r\n          //省略过的只收集数据\r\n          computSingalCandledataMini(item, result.scope);\r\n          item.isEscaped = true;\r\n        }\r\n      } else {\r\n        //全部进行全量计算\r\n        item = computSingalCandledata(item, result.scope, result.scope);\r\n        item.isEscaped = false;\r\n      }\r\n      index++;\r\n    }\r\n\r\n    setdisplayCandleData(result.data);\r\n    setviewSize(xAxis.data.viewSize);\r\n\r\n    if (result.data.length !== 0) {\r\n      let scale =\r\n        xAxis.data.linePosition.y /\r\n        (xAxis.data.linePosition.y! * yAxis.initArgs.displayPadding! +\r\n          xAxis.data.linePosition.y);\r\n      let y = (xAxis.data.linePosition.y! * yAxis.initArgs.displayPadding!) / 2;\r\n      setminy(y * scale);\r\n      setyScale(scale);\r\n      setorg_displayCandleMaxMin(result.scope);\r\n      checkDynamicData(result.data);\r\n      setupdateStamp(+new Date());\r\n      setlastMaxMiny({\r\n        start: xAxis.data.linePosition.y,\r\n        end: 0,\r\n      });\r\n    }\r\n  };\r\n\r\n  const checkDynamicData = async function(data?: IcandleData[]) {\r\n    //如果当前缩放、拖动超过所有内存中数据能显示的范围\r\n    //判断是否为动态数据加载模式\r\n    if (\r\n      initArgs.dynamicData!.enabled! &&\r\n      !isStaticData &&\r\n      !stopDynamicFetching\r\n    ) {\r\n      if (typeof data !== 'undefined') {\r\n        if (Number(data[0].time) - Number(xAxis.data.tickArr[0].value) > 0) {\r\n          //往下拉取数据\r\n          lunchDynamicData(Number(data[0].time));\r\n        }\r\n      } else {\r\n        lunchDynamicData(\r\n          Number(xAxis.data.tickArr[xAxis.data.tickArr.length - 1].value)\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 缩放的更新\r\n   */\r\n  const scaleUpdate = function() {\r\n    if (!isUpdateing.current) {\r\n      isUpdateing.current = true;\r\n      //如果数据太多就设置为简便更新\r\n      if (xAxis.data.tickArr.length > 500) {\r\n        setisDQuickUpdateing(true);\r\n        isQuickUpdateing.current = true;\r\n      } else {\r\n        setisDQuickUpdateing(false);\r\n        isQuickUpdateing.current = false;\r\n      }\r\n\r\n      if (isQuickUpdateing.current) {\r\n        updateThrottlereComputAllDisplayedCandleData(function() {\r\n          reComputAllDisplayedCandleData();\r\n          xAxis.funcs.setx(0);\r\n        }, 50);\r\n      } else {\r\n        reComputAllDisplayedCandleData();\r\n        xAxis.funcs.setx(0);\r\n      }\r\n      isUpdateing.current = false;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 移动的更新\r\n   */\r\n  const moveUpdate = function() {\r\n    if (!isUpdateing.current) {\r\n      isUpdateing.current = true;\r\n      //如果数据太多就设置为简便更新\r\n      if (xAxis.data.tickArr.length > 500) {\r\n        setisDQuickUpdateing(true);\r\n        isQuickUpdateing.current = true;\r\n      } else {\r\n        setisDQuickUpdateing(false);\r\n        isQuickUpdateing.current = false;\r\n      }\r\n      if (isQuickUpdateing.current) {\r\n        updatePartialCandleDataV3();\r\n      } else {\r\n        updatePartialCandleDataV3();\r\n      }\r\n      isUpdateing.current = false;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 更新最末尾的Candle\r\n   */\r\n  let updateLatestCandleData = function(candleItem: IcandleUpdateItem): void {\r\n    setstreamData(candleItem);\r\n  };\r\n\r\n  let updateStreamData = function() {\r\n    if (!isFinishedInit) {\r\n      return;\r\n    }\r\n    if (displayCandleData.length === 0) {\r\n      return;\r\n    }\r\n    if (streamData === null) {\r\n      return;\r\n    }\r\n    if (latestCandleItem === null) {\r\n      return null;\r\n    }\r\n\r\n    let { time, open, close, high, low, volume, isMergeMode } = {\r\n      ...streamData,\r\n    };\r\n\r\n    //将新进来的数据的时间，归零到格林威治时间\r\n    if (baseConfig.timeZone!.dataSourceTimeZone === 'local') {\r\n      time = Number(new Date(time).getTime());\r\n    } else {\r\n      time = anyTimeToGMT0000ToTarget(\r\n        Number(new Date(time).getTime()),\r\n        baseConfig.timeZone!.dataSourceTimeZone,\r\n        baseConfig.timeZone!.displayTimeZone\r\n      );\r\n    }\r\n    let _displayCandleData = [...displayCandleData];\r\n    let currentRoundTime = xAxis.data.currentTimeType?.roundingFunction!(\r\n      Number(time),\r\n      baseConfig!.timeZone!.displayTimeZone!\r\n    )!;\r\n    let _latestCandleItem = { ...latestCandleItem };\r\n    let isNew = false;\r\n    _latestCandleItem.isEscaped = false;\r\n\r\n    let isChangeDisplayCandleArr = false;\r\n\r\n    //如果只是更新现有的\r\n    if (currentRoundTime === _latestCandleItem?.time!) {\r\n      //是否为快速合并模式\r\n      if (typeof isMergeMode !== 'undefined' && isMergeMode === true) {\r\n        _latestCandleItem.close = close;\r\n        _latestCandleItem.high = Math.max(\r\n          Number(_latestCandleItem.high),\r\n          Number(close)\r\n        );\r\n        _latestCandleItem.low = Math.min(\r\n          Number(_latestCandleItem.low),\r\n          Number(close)\r\n        );\r\n        _latestCandleItem.volume = volume;\r\n      } else {\r\n        _latestCandleItem.time = currentRoundTime;\r\n        //_latestCandleItem.open = open!; //可以不用填open的，如果用户数据源没设置好还能兼容一下\r\n        _latestCandleItem.close = close!;\r\n        _latestCandleItem.high = high!;\r\n        _latestCandleItem.low = low!;\r\n        _latestCandleItem.volume = volume;\r\n      }\r\n\r\n      //匹配displayCandleData\r\n      for (var i = _displayCandleData.length - 1; i > -1; i--) {\r\n        if (_displayCandleData[i].time === currentRoundTime) {\r\n          _latestCandleItem.currentTick = _displayCandleData[i].currentTick;\r\n\r\n          _latestCandleItem = computSingalCandledata(\r\n            _latestCandleItem,\r\n            org_displayCandleMaxMin,\r\n            org_displayCandleMaxMin\r\n          );\r\n          _displayCandleData[i] = _latestCandleItem;\r\n          isChangeDisplayCandleArr = true;\r\n          _latestCandleItem.updateTag = '0';\r\n          break;\r\n        }\r\n      }\r\n    } else if (currentRoundTime > Number(_latestCandleItem?.time!)) {\r\n      //如果是下一个时间刻度\r\n      //是否为快速合并模式\r\n      if (typeof isMergeMode !== 'undefined' && isMergeMode === true) {\r\n        _latestCandleItem.time = currentRoundTime;\r\n        _latestCandleItem.open = close;\r\n        _latestCandleItem.close = close;\r\n        _latestCandleItem.high = close;\r\n        _latestCandleItem.low = close;\r\n        _latestCandleItem.volume = volume;\r\n      } else {\r\n        _latestCandleItem.time = currentRoundTime;\r\n        _latestCandleItem.open = open!;\r\n        _latestCandleItem.close = close!;\r\n        _latestCandleItem.high = high!;\r\n        _latestCandleItem.low = low!;\r\n        _latestCandleItem.volume = volume;\r\n        _latestCandleItem.updateTag = '0';\r\n      }\r\n\r\n      //查找ticks\r\n      for (var i = xAxis.data.tickArr.length - 1; i > -1; i--) {\r\n        let tick = xAxis.data.tickArr[i];\r\n        if (tick.value === _latestCandleItem.time) {\r\n          _latestCandleItem.currentTick = tick;\r\n          break;\r\n        }\r\n      }\r\n\r\n      _latestCandleItem = computSingalCandledata(\r\n        _latestCandleItem,\r\n        org_displayCandleMaxMin,\r\n        org_displayCandleMaxMin\r\n      );\r\n\r\n      //在可见范围内更新，不可见就不更新\r\n      if (\r\n        xAxis.data.currentTimeScope.start <= currentRoundTime &&\r\n        xAxis.data.currentTimeScope.end >= currentRoundTime\r\n      ) {\r\n        _displayCandleData.push(_latestCandleItem);\r\n        isChangeDisplayCandleArr = true;\r\n      }\r\n\r\n      isNew = true;\r\n    } else {\r\n      //既不等于\r\n      //又不大于\r\n      //那就有可能是上次时间类型的数据流响应 直接忽略\r\n      return;\r\n    }\r\n\r\n    allComputedCandleData.current[currentRoundTime] = _latestCandleItem;\r\n    setvolumChartViewMax(\r\n      Math.max(Number(_latestCandleItem.volume), volumChartViewMax)\r\n    );\r\n    setlatestCandleItem({ ..._latestCandleItem });\r\n    if (!isNew) {\r\n      let newMaxMin = {\r\n        start: Math.min(\r\n          Number(displayCandleMaxMin.start),\r\n          Number(_latestCandleItem.close)\r\n        ).toString(),\r\n        end: Math.max(\r\n          Number(displayCandleMaxMin.end),\r\n          Number(_latestCandleItem.close)\r\n        ).toString(),\r\n      };\r\n      if (\r\n        newMaxMin.start !== displayCandleMaxMin.start ||\r\n        newMaxMin.end !== displayCandleMaxMin.end\r\n      ) {\r\n        setfetchDataStemp(+new Date());\r\n      } else {\r\n        if (isChangeDisplayCandleArr) {\r\n          setdisplayCandleData(_displayCandleData);\r\n        }\r\n        //更新tooltip\r\n        setupdateStamp(+new Date());\r\n      }\r\n    } else {\r\n      //可见范围内的话就移动一下\r\n      if (\r\n        xAxis.data.currentTimeScope.start <= currentRoundTime &&\r\n        xAxis.data.currentTimeScope.end >= currentRoundTime\r\n      ) {\r\n        xAxis.funcs.moveContainer!(\r\n          0,\r\n          0 -\r\n            (_latestCandleItem!.currentTick!.pixSpace!.end -\r\n              _latestCandleItem!.currentTick!.pixSpace!.start),\r\n          true\r\n        );\r\n      }\r\n      if (isChangeDisplayCandleArr) {\r\n        setdisplayCandleData(_displayCandleData);\r\n      }\r\n      //更新tooltip\r\n      setupdateStamp(+new Date());\r\n    }\r\n\r\n    return _latestCandleItem;\r\n  };\r\n\r\n  /**\r\n   * 更新最末尾的tooltip\r\n   */\r\n  let updateLatestCandleTooltip = function() {\r\n    if (orgCandleData.length !== 0 && displayCandleData.length !== 0) {\r\n      var dataItem: IcandleData;\r\n      if (latestCandleItem === null) {\r\n        if (isStaticData) {\r\n          let soted = orgCandleData.sort(function(a, b) {\r\n            return getRightDate(a.time) - getRightDate(b.time);\r\n          });\r\n          let intTime = xAxis.data.currentTimeType!.roundingFunction!(\r\n            getRightDate(orgCandleData[orgCandleData.length - 1].time!),\r\n            baseConfig.timeZone!.displayTimeZone!\r\n          )!;\r\n          dataItem = allComputedCandleData.current[intTime] as IcandleData;\r\n        } else {\r\n          dataItem = allComputedCandleData.current[\r\n            displayCandleData[displayCandleData.length - 1].time\r\n          ] as IcandleData;\r\n        }\r\n      } else {\r\n        dataItem = latestCandleItem;\r\n      }\r\n\r\n      if (typeof dataItem !== 'undefined') {\r\n        let copyedItem = { ...dataItem };\r\n\r\n        let orgScope = { ...displayCandleMaxMin };\r\n        ////这里的数据是给tooltip计算的\r\n        ////如果后面不复原的话，会影响搭配lastcandle\r\n        let edgeScope = yAxis.funcs.expandDataSpanceEdge(orgScope);\r\n        computSingalCandledata(copyedItem, edgeScope.dataScope, orgScope);\r\n\r\n        let _tooltipState: IToolTipItem = {\r\n          position: {\r\n            x: 0,\r\n            y: (function() {\r\n              if (Number(copyedItem.close) > Number(copyedItem.open)) {\r\n                return copyedItem.candlePixPosition!.y!;\r\n              }\r\n              return (\r\n                copyedItem.candlePixPosition!.y! + copyedItem.candleLength!\r\n              );\r\n            })(),\r\n          },\r\n          length: xAxis.data.lineSize.width,\r\n          value: copyedItem.close,\r\n          displayValue: new _bigNumber(copyedItem.close).toFixed(displayFix),\r\n          relatedTickItem: null,\r\n          size: getSpaceSize(\r\n            initArgs.candleStyles!.currentPriceTooltip!.lineSize!,\r\n            viewSize.width\r\n          ),\r\n        };\r\n\r\n        setlatestCandleToolTip(_tooltipState);\r\n\r\n        //这里给lastcandle进行复原计算\r\n        //computSingalCandledata(copyedItem, org_displayCandleMaxMin, org_displayCandleMaxMin);\r\n        setlatestCandleItem(copyedItem);\r\n\r\n        let currentHeight =\r\n          volumChartPixHeight * (Number(copyedItem.volume) / volumChartViewMax);\r\n        let _latestVolumeToolTip: IToolTipItem = {\r\n          position: {\r\n            x: 0,\r\n            y: xAxis.data.linePosition.y - currentHeight,\r\n          },\r\n          length: xAxis.data.lineSize.width,\r\n          value: copyedItem.volume,\r\n          displayValue: new _bigNumber(copyedItem.volume).toFixed(displayFix),\r\n          relatedTickItem: null,\r\n          size: getSpaceSize(\r\n            initArgs.candleStyles!.volumChart?.currentPriceTooltip.lineSize!,\r\n            viewSize.width\r\n          ),\r\n        };\r\n        setlatestVolumeToolTip(_latestVolumeToolTip);\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 视图范围内最末尾的candle\r\n   */\r\n  let updateLatestdisplayLatestCandle = function() {\r\n    if (displayLatestCandle !== null) {\r\n      let edgeScope = yAxis.funcs.expandDataSpanceEdge(displayCandleMaxMin);\r\n      let _displayLatestCandle = computSingalCandledata(\r\n        { ...displayLatestCandle },\r\n        edgeScope.dataScope,\r\n        displayCandleMaxMin\r\n      );\r\n      if (_displayLatestCandle.isEscaped! === true) {\r\n        return;\r\n      }\r\n      let _tooltipState: IToolTipItem = {\r\n        position: {\r\n          x: 0,\r\n          y: (function() {\r\n            let y = 0;\r\n            if (\r\n              Number(_displayLatestCandle.close) >\r\n              Number(_displayLatestCandle.open)\r\n            ) {\r\n              y = _displayLatestCandle.candlePixPosition!.y!;\r\n            } else {\r\n              y =\r\n                _displayLatestCandle.candlePixPosition!.y! +\r\n                _displayLatestCandle.candleLength!;\r\n              if (isNaN(y)) {\r\n                y = _displayLatestCandle.candlePixPosition!.y! + 0;\r\n              }\r\n            }\r\n            return y;\r\n          })(),\r\n        },\r\n        length: xAxis.data.lineSize.width,\r\n        value: _displayLatestCandle.close,\r\n        displayValue: new _bigNumber(_displayLatestCandle.close).toFixed(\r\n          displayFix\r\n        ),\r\n        relatedTickItem: null,\r\n        size: getSpaceSize(\r\n          initArgs.candleStyles!.viewLastPriceTooltip!.lineSize!,\r\n          viewSize.width\r\n        ),\r\n      };\r\n      setlatestdisplayLatestCandle(_tooltipState);\r\n\r\n      let currentHeight =\r\n        volumChartPixHeight *\r\n        (Number(_displayLatestCandle.volume) / volumChartViewMax);\r\n      let _latestdisplayLatestVolume: IToolTipItem = {\r\n        position: {\r\n          x: 0,\r\n          y: xAxis.data.linePosition.y - currentHeight,\r\n        },\r\n        length: xAxis.data.lineSize.width,\r\n        value: _displayLatestCandle.volume,\r\n        displayValue: new _bigNumber(_displayLatestCandle.volume).toFixed(\r\n          displayFix\r\n        ),\r\n        relatedTickItem: null,\r\n        size: getSpaceSize(\r\n          initArgs.candleStyles!.volumChart?.viewLastPriceTooltip.lineSize!,\r\n          viewSize.width\r\n        ),\r\n      };\r\n      setlatestdisplayLatestVolume(_latestdisplayLatestVolume);\r\n    }\r\n  };\r\n\r\n  let getCurrentCursorCandle = function() {\r\n    if (\r\n      xAxis.data.tooltipIsShow &&\r\n      typeof xAxis.data.tooltipState !== 'undefined' &&\r\n      xAxis.data.tooltipState !== null &&\r\n      typeof xAxis.data.tooltipState!.relatedTickItem !== 'undefined' &&\r\n      xAxis.data.tooltipState!.relatedTickItem !== null\r\n    ) {\r\n      let key = xAxis.data.tooltipState!.relatedTickItem!.value!.toString();\r\n      let item = allComputedCandleData.current[key] as IcandleItem;\r\n      setCursorCandleItem(item);\r\n    }\r\n  };\r\n\r\n  let workerReciveMessage = function(e: MessageEvent<any>) {\r\n    let data = e.data;\r\n\r\n    if (data.message === 'setdisplayLatestCandle') {\r\n      setdisplayLatestCandle(data.data);\r\n      return;\r\n    }\r\n\r\n    if (data.message === 'not found') {\r\n      //没找到\r\n      setdisplayCandleData([]);\r\n      checkDynamicData();\r\n      return;\r\n    }\r\n\r\n    if (data.message === 'updateYaxis') {\r\n      requestAnimationFrame(function() {\r\n        //更新y轴\r\n        yAxis.funcs.updateAxisSates(\r\n          xAxis.data.viewSize.width,\r\n          xAxis.data.viewSize.height,\r\n          {\r\n            start: Number(data.data.start),\r\n            end: Number(data.data.end),\r\n          }\r\n        );\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (data.message === 'finishWork') {\r\n      let currentheight = data.data.orgMaxMiny.start - data.data.orgMaxMiny.end;\r\n      let expendHeight =\r\n        currentheight + currentheight * yAxis.initArgs.displayPadding!;\r\n      let scale = yAxis.data.lineSize.height / expendHeight;\r\n      let y =\r\n        -data.data.orgMaxMiny.end +\r\n        (currentheight * yAxis.initArgs.displayPadding!) / 2;\r\n      //\r\n      setdisplayCandleData(data.data.result.data);\r\n      //\r\n      setdisplayCandleMaxMin(data.data.result.scope);\r\n      //\r\n      if (data.data.result.data.length !== 0) {\r\n        setminy(y * scale);\r\n        setyScale(scale);\r\n        checkDynamicData(data.data.result.data);\r\n        setupdateStamp(+new Date());\r\n      }\r\n      return;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * ==================================Effects===============================\r\n   */\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (typeof workMessage !== 'undefined') {\r\n        workerReciveMessage(workMessage);\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [workMessage]\r\n  );\r\n  useEffect(function(): ReturnType<React.EffectCallback> {\r\n    if (isMounted === false) {\r\n      setIsMounted(true);\r\n      if (\r\n        typeof initArgs.staticData !== 'undefined' &&\r\n        initArgs.staticData!.length > 0\r\n      ) {\r\n        setisStaticData(true);\r\n      } else {\r\n        setisStaticData(false);\r\n      }\r\n    }\r\n    return function(): void {\r\n      setIsMounted(false);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  //这里专门用于第一次载入时的更新\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      //静态模式是依据initArgs.staticData.length 进行的\r\n      //如果initArgs.staticData.length > 0 就说明现在需要进行静态数据的展示\r\n      if (\r\n        isMounted === true &&\r\n        xAxis.data.isFinishedInit &&\r\n        yAxis.data.isFinishedInit\r\n      ) {\r\n        //记录一下当前的时间类型\r\n        setcurrentTimeTypeName(xAxis.data.currentTimeType?.name!);\r\n        //如果是静态数据\r\n        if (isStaticData) {\r\n          //初始化静态数据\r\n          initStaticData();\r\n        } else if (initArgs.dynamicData!.enabled) {\r\n          //否则进入动态数据模式\r\n          initDynamicData();\r\n        }\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [xAxis.data.isFinishedInit, yAxis.data.isFinishedInit]\r\n  );\r\n\r\n  //数据动态载入完成以后需要重新渲染一下数据\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      //静态模式是依据initArgs.staticData.length 进行的\r\n      //如果initArgs.staticData.length > 0 就说明现在需要进行静态数据的展示\r\n      if (fetchDataStemp !== -1) {\r\n        moveUpdate();\r\n      }\r\n\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [fetchDataStemp]\r\n  );\r\n\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      //静态模式是依据initArgs.staticData.length 进行的\r\n      //如果initArgs.staticData.length > 0 就说明现在需要进行静态数据的展示\r\n      if (initDyStamp !== -1) {\r\n        window.requestAnimationFrame(function() {\r\n          scaleUpdate();\r\n        });\r\n      }\r\n\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [initDyStamp]\r\n  );\r\n\r\n  //这里专门用户时间类型切换时的更新\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (\r\n        xAxis.data.xAxisUpdateTimeStamp !== -1 &&\r\n        xAxis.data.xAxisUpdateTimeStamp !== lastTimexAsixStemp\r\n      ) {\r\n        if (xAxis.data.currentTimeType !== null && currentTimeTypeName !== '') {\r\n          //这里判断是否更新了时间类型（就是时间单位）\r\n          if (xAxis.data.currentTimeType.name !== currentTimeTypeName) {\r\n            //记录一下当前的时间类型\r\n            setcurrentTimeTypeName(xAxis.data.currentTimeType?.name);\r\n            //如果是静态数据\r\n            if (isStaticData) {\r\n              //初始化静态数据\r\n              initStaticData();\r\n            } else if (initArgs.dynamicData!.enabled) {\r\n              //否则进入动态数据模式\r\n              initDynamicData();\r\n            }\r\n          }\r\n          setlastTimexAsixStemp(xAxis.data.xAxisUpdateTimeStamp);\r\n        }\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [xAxis.data.xAxisUpdateTimeStamp, xAxis.data.currentTimeType]\r\n  );\r\n\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (xAxis.data.xAxisUpdateMoveMentTimeStamp !== -1) {\r\n        moveUpdate();\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [xAxis.data.xAxisUpdateMoveMentTimeStamp]\r\n  );\r\n\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (xAxis.data.xAxisUpdateScaleTimeStamp !== -1) {\r\n        window.requestAnimationFrame(function() {\r\n          scaleUpdate();\r\n        });\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [xAxis.data.xAxisUpdateScaleTimeStamp]\r\n  );\r\n\r\n  //这里专门用于计算完candle之后的操作\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (updateStamp !== -1) {\r\n        updateLatestCandleTooltip();\r\n        updateLatestdisplayLatestCandle();\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [updateStamp]\r\n  );\r\n\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      getCurrentCursorCandle();\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [xAxis.data.tooltipState]\r\n  );\r\n\r\n  //ws动态更新第一个数据\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (\r\n        streamData !== null &&\r\n        //\r\n        streamData.time !== -1 &&\r\n        isFinishedInit === true &&\r\n        isFetchingData === false\r\n      ) {\r\n        updateStreamData();\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [streamData, isFinishedInit, isFetchingData]\r\n  );\r\n\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (TempDynamicData !== null) {\r\n        updateDynamicData([...TempDynamicData]);\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [TempDynamicData]\r\n  );\r\n\r\n  return {\r\n    data: {\r\n      displayCandleData,\r\n      isDQuickUpdateing,\r\n      latestCandleToolTip,\r\n      latestdisplayLatestCandle,\r\n      volumChartPixHeight,\r\n      volumChartViewMax,\r\n      latestVolumeToolTip,\r\n      latestdisplayLatestVolume,\r\n      cursorCandleItem,\r\n      latestCandleItem,\r\n      yScale,\r\n      miny,\r\n      updateStamp,\r\n      isFetchingData,\r\n      isFinishedInit,\r\n    },\r\n    funcs: {\r\n      updateLatestCandleData,\r\n      setinitArgs: function(arg: IdataConfig) {\r\n        setinitArgs(merge(initArgs, arg));\r\n      },\r\n    },\r\n    initArgs,\r\n  };\r\n};\r\n\r\nexport default useCandleHook;\r\n","/**\r\n * 廖力编写 2024年5月25日 00:36:41\r\n */\r\nimport {\r\n  createContext,\r\n  useState,\r\n  useContext,\r\n  useRef,\r\n  useCallback,\r\n  useEffect,\r\n  FC,\r\n  ReactElement,\r\n} from 'react';\r\nimport {\r\n  IcandleViewContext,\r\n  TcandleViewContext,\r\n} from '../interface/contextInterFace';\r\nimport usexAxis from '../hooks/xAxisHook';\r\nimport useyAxis from '../hooks/yAxisHook';\r\n\r\nimport useCandleHook from '../hooks/candleHook';\r\nimport { merge } from 'lodash';\r\nimport { IuseCandleView } from '../interface/configInterFaces';\r\nimport { DEFAULTVALUES } from '../utils/defaultValues';\r\nimport { Isize } from '../interface/itemsInterFace';\r\nimport { getSpaceSize } from '../utils/consts';\r\nimport { TtimeType } from '../interface/timeDefineInterFace';\r\nimport yAxis from '../com/yAxis';\r\n\r\n/**\r\n * 创建一个需要全局使用的钱包context\r\n **/\r\nconst candleViewContext = createContext<IcandleViewContext>(\r\n  {} as IcandleViewContext\r\n);\r\n\r\n/**\r\n * 钱包的公用钩子\r\n */\r\nconst useCandleView: TcandleViewContext = function(\r\n  args: IuseCandleView\r\n): IcandleViewContext {\r\n  /**\r\n   *默认参数状态\r\n   */\r\n  const [initArgs, setinitArgs] = useState<IuseCandleView>(\r\n    merge(DEFAULTVALUES, args)\r\n  );\r\n\r\n  /**\r\n   * ============================hooks===========================\r\n   */\r\n\r\n  /**\r\n   *x轴钩子对象\r\n   */\r\n  const xAxisObj = usexAxis(initArgs.xAxis!, undefined, initArgs);\r\n  /**\r\n   *y轴钩子对象\r\n   */\r\n  const yAxisObj = useyAxis(initArgs.yAxis!, xAxisObj);\r\n\r\n  /**\r\n   * candle 对象\r\n   * 数据展示对象\r\n   */\r\n  const candleObj = useCandleHook(initArgs.data!, xAxisObj, yAxisObj, initArgs);\r\n\r\n  /**\r\n   * ============================state===========================\r\n   */\r\n  const [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n  /**\r\n   *画布宽度\r\n   */\r\n  const [canvasWidth, setcanvasWidth] = useState<number>(0);\r\n  /**\r\n   *画布高度\r\n   */\r\n  const [canvasHeight, setcanvasHeight] = useState<number>(0);\r\n  /**\r\n   *画布颜色\r\n   */\r\n  const [canvasBackgroundColor, setcanvasBackgroundColor] = useState<string>(\r\n    '#fff'\r\n  );\r\n\r\n  /**\r\n   *数据显示区域（去除x轴和y轴的占有区域）\r\n   */\r\n  const [dataArea, setdataArea] = useState<Isize>({ width: 0, height: 0 });\r\n\r\n  /**\r\n   * ==========================函数==============================\r\n   */\r\n\r\n  /**\r\n   * 更改时间格式，传入 TtimeType 类型的变量\r\n   * 需要查看当前的时间格式可以访问\r\n   * CandleViewV2.initArgs.timeFormat\r\n   */\r\n  const setTimeFormat = function(value: TtimeType) {\r\n    let _initArgs = { ...initArgs };\r\n    _initArgs.timeFormat = value;\r\n    setinitArgs(_initArgs);\r\n  };\r\n\r\n  /**\r\n   * ==================================Effects===============================\r\n   */\r\n  useEffect(function(): ReturnType<React.EffectCallback> {\r\n    if (isMounted === false) {\r\n      setIsMounted(true);\r\n    }\r\n    return function(): void {\r\n      setIsMounted(false);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (xAxisObj.data.isFinishedInit && yAxisObj.data.isFinishedInit) {\r\n        xAxisObj.funcs.setinitArgs(initArgs.xAxis!);\r\n        yAxisObj.funcs.setinitArgs(initArgs.yAxis!);\r\n        candleObj.funcs.setinitArgs(initArgs.data!);\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [initArgs]\r\n  );\r\n\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (\r\n        canvasHeight !== 0 &&\r\n        canvasWidth !== 0 &&\r\n        !xAxisObj.data.isFinishedInit\r\n      ) {\r\n        //初始化x轴\r\n        xAxisObj.funcs.initAxisSates(\r\n          initArgs.timeFormat!,\r\n          canvasWidth,\r\n          canvasHeight,\r\n          initArgs.yAxis?.labelSpace!\r\n        );\r\n        //初始化y轴\r\n        yAxisObj.funcs.updateAxisSates(canvasWidth, canvasHeight, {\r\n          start: 500,\r\n          end: 600,\r\n        });\r\n      } else {\r\n        //更新x轴\r\n        xAxisObj.funcs.updateAxisSates(\r\n          canvasWidth,\r\n          canvasHeight,\r\n          initArgs.yAxis?.labelSpace!\r\n        );\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [canvasWidth, canvasHeight]\r\n  );\r\n\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (xAxisObj.data.isFinishedInit) {\r\n        //重新初始化x轴\r\n        xAxisObj.funcs.initAxisSates(\r\n          initArgs.timeFormat!,\r\n          canvasWidth,\r\n          canvasHeight,\r\n          initArgs.yAxis?.labelSpace!\r\n        );\r\n      }\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },\r\n    [initArgs.timeFormat, initArgs.yAxis?.labelSpace!]\r\n  );\r\n\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (xAxisObj.data.isFinishedInit) {\r\n        //计算数据可用区域\r\n        setdataArea({\r\n          width:\r\n            canvasWidth -\r\n            getSpaceSize(initArgs.yAxis!.labelSpace!, canvasWidth),\r\n          height:\r\n            canvasHeight -\r\n            getSpaceSize(initArgs.xAxis!.labelSpace!, canvasHeight),\r\n        });\r\n      }\r\n    },\r\n    [xAxisObj.data.isFinishedInit, canvasWidth, canvasHeight]\r\n  );\r\n\r\n  return {\r\n    /**\r\n     *初始化时的参数\r\n     */\r\n    initArgs,\r\n\r\n    /**\r\n     *x导出的数据\r\n     */\r\n    data: {\r\n      /**\r\n       *画布宽度\r\n       */\r\n      canvasWidth,\r\n      /**\r\n       *画布高度\r\n       */\r\n      canvasHeight,\r\n      /**\r\n       *画布颜色\r\n       */\r\n      canvasBackgroundColor,\r\n      /**\r\n       *数据显示区域（去除x轴和y轴的占有区域）\r\n       */\r\n      dataArea,\r\n    },\r\n    /**\r\n     *x导出的方法\r\n     */\r\n    funcs: {\r\n      /**\r\n       *设置画布宽度\r\n       */\r\n      setcanvasWidth,\r\n      /**\r\n       *设置画布高度\r\n       */\r\n      setcanvasHeight,\r\n      /**\r\n       *设置画布颜色\r\n       */\r\n      setcanvasBackgroundColor,\r\n      setInitArgs: setinitArgs,\r\n      /**\r\n       * 向图表更新当前实时的价格，价格的变化将反应在第一个candle上 (右边第一个 )\r\n       * @param time 更新的时间，用当前时间就好了，不用取整\r\n       * @param currentPrice 当前更新的价格\r\n       * @param volume 当前更新的交易量\r\n       * @returns 当前图表最末尾一个数据对象\r\n       */\r\n      appendData: candleObj.funcs.updateLatestCandleData,\r\n      setTimeFormat,\r\n    },\r\n    hookObjs: {\r\n      /**\r\n       *x轴钩子对象\r\n       */\r\n      xAxisObj,\r\n      /**\r\n       *y轴钩子对象\r\n       */\r\n      yAxisObj,\r\n      /**\r\n       *candleobj\r\n       */\r\n      candleObj,\r\n    },\r\n  };\r\n};\r\n\r\nexport interface IuseCandleViewContext {\r\n  (): IcandleViewContext;\r\n}\r\n\r\nlet useCandleViewContext: IuseCandleViewContext = function(): IcandleViewContext {\r\n  var r: IcandleViewContext = useContext(candleViewContext);\r\n  return r;\r\n};\r\n\r\nexport {\r\n  //交易图的context\r\n  candleViewContext,\r\n  //创建自定义交易图钩子\r\n  useCandleView,\r\n  //在子组件中,获取交易图的context对象\r\n  useCandleViewContext,\r\n};\r\n","import { createContext, useState, useContext, useRef, useCallback, useEffect, FC, ReactElement } from \"react\";\r\n\r\n/**\r\n * 防抖钩子\r\n */\r\nconst useDebounce = function () {\r\n\t/**\r\n\t * ============================state===========================\r\n\t */\r\n\tconst [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n\tconst debounceFunction = useRef<(() => void) | null>(null);\r\n\tconst debounceTimeOut = useRef<NodeJS.Timeout | null>(null);\r\n\r\n\t/**\r\n\t * ==========================函数==============================\r\n\t */\r\n\r\n\tconst debounce = function (_func: () => void, _time: number) {\r\n\t\tif (typeof _time === \"undefined\") {\r\n\t\t\t_time = 500;\r\n\t\t}\r\n\t\tif (_time === 0) {\r\n\t\t\t_func();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdebounceFunction.current = _func;\r\n\t\tif (debounceTimeOut.current !== null) {\r\n\t\t\tclearTimeout(debounceTimeOut.current);\r\n\t\t}\r\n\t\tdebounceTimeOut.current = setTimeout(function () {\r\n\t\t\tif (debounceFunction.current !== null) {\r\n\t\t\t\tdebounceFunction.current!();\r\n\t\t\t\tdebounceFunction.current = null;\r\n\t\t\t}\r\n\t\t}, _time);\r\n\t};\r\n\r\n\t/**\r\n\t * ==================================Effects===============================\r\n\t */\r\n\tuseEffect(function (): ReturnType<React.EffectCallback> {\r\n\t\tif (isMounted === false) {\r\n\t\t\tsetIsMounted(true);\r\n\t\t}\r\n\t\treturn function (): void {\r\n\t\t\tsetIsMounted(false);\r\n\t\t};\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\treturn debounce;\r\n};\r\n\r\nexport default useDebounce;\r\n","import { PixiComponent } from \"@pixi/react\";\r\nimport { Graphics, utils } from \"pixi.js\";\r\nimport { IPixiShapeDashedLine, IPixiShapeRectangle } from \"../interface/basicShapesInterFace\";\r\n\r\ninterface RectangleProps {\r\n\tx: number;\r\n\ty: number;\r\n\twidth: number;\r\n\theight: number;\r\n\tcolor: number;\r\n}\r\n\r\nexport const Rectangle = PixiComponent<IPixiShapeRectangle, Graphics>(\"Rectangle\", {\r\n\tcreate: () => new Graphics(),\r\n\tapplyProps: (instance, oldProps, props) => {\r\n\t\tconst new_props = Object.assign(true, DEFAULTRECTANGLE, props);\r\n\t\tlet newxy = xyComput(new_props);\r\n\t\tlet x = newxy.x;\r\n\t\tlet y = newxy.y;\r\n\t\tinstance.clear();\r\n\t\tinstance.beginFill(new_props.color || 0x0, new_props.opacity);\r\n\t\tinstance.drawRect(x, y, new_props.size.width, new_props.size.height);\r\n\t\tinstance.endFill();\r\n\t},\r\n});\r\n\r\nconst xyComput = function (props: IPixiShapeRectangle) {\r\n\tlet x = props.position.x;\r\n\tlet y = props.position.y;\r\n\tif (props.alignX === \"center\") {\r\n\t\tx = props.position.x - props.size.width / 2;\r\n\t}\r\n\tif (props.alignX === \"right\") {\r\n\t\tx = props.position.x - props.size.width;\r\n\t}\r\n\tif (props.alignY === \"center\") {\r\n\t\ty = props.position.y - props.size.height / 2;\r\n\t}\r\n\tif (props.alignY === \"bottom\") {\r\n\t\ty = props.position.y - props.size.height;\r\n\t}\r\n\treturn { x, y };\r\n};\r\n\r\n/**\r\n * 矩形pixi对象的初始值\r\n */\r\nexport const DEFAULTRECTANGLE: IPixiShapeRectangle = {\r\n\tcolor: utils.string2hex(\"#000000\"),\r\n\tsize: { width: 100, height: 100 },\r\n\tposition: { x: 0, y: 0 },\r\n\talignX: \"left\",\r\n\talignY: \"top\",\r\n\topacity: 1,\r\n};\r\n\r\nconst drawDash = function (\r\n\ttarget: Graphics,\r\n\tx1: number,\r\n\ty1: number,\r\n\tx2: number,\r\n\ty2: number,\r\n\tdashLength: number = 5,\r\n\tspaceLength: number = 5\r\n): Graphics {\r\n\tlet x = x2 - x1;\r\n\tlet y = y2 - y1;\r\n\tlet hyp = Math.sqrt(x * x + y * y);\r\n\tlet units = hyp / (dashLength + spaceLength);\r\n\tlet dashSpaceRatio = dashLength / (dashLength + spaceLength);\r\n\tlet dashX = (x / units) * dashSpaceRatio;\r\n\tlet spaceX = x / units - dashX;\r\n\tlet dashY = (y / units) * dashSpaceRatio;\r\n\tlet spaceY = y / units - dashY;\r\n\r\n\ttarget.moveTo(x1, y1);\r\n\r\n\twhile (hyp > 0) {\r\n\t\tx1 += dashX;\r\n\t\ty1 += dashY;\r\n\t\thyp -= dashLength;\r\n\t\tif (hyp < 0) {\r\n\t\t\tx1 = x2;\r\n\t\t\ty1 = y2;\r\n\t\t}\r\n\t\ttarget.lineTo(x1, y1);\r\n\t\tx1 += spaceX;\r\n\t\ty1 += spaceY;\r\n\t\ttarget.moveTo(x1, y1);\r\n\t\thyp -= spaceLength;\r\n\t}\r\n\ttarget.moveTo(x2, y2);\r\n\treturn target;\r\n};\r\n\r\nexport const DashedLine = PixiComponent<IPixiShapeDashedLine, Graphics>(\"DashedLine\", {\r\n\tcreate: () => new Graphics(),\r\n\tapplyProps: (instance, _, newProps) => {\r\n\t\tlet defaults: IPixiShapeDashedLine = {\r\n\t\t\tcolor: utils.string2hex(\"#000000\"),\r\n\t\t\tsize: 1,\r\n\t\t\tpositionStart: { x: 0, y: 0 },\r\n\t\t\tpositionStop: { x: 0, y: 0 },\r\n\t\t\tdashLength: 4,\r\n\t\t\tspaceLength: 3,\r\n\t\t};\r\n\t\t//这里会产生引用\r\n\t\tconst props = Object.assign(true, defaults, newProps);\r\n\t\tinstance.clear();\r\n\t\tinstance.lineStyle(props.size, props.color);\r\n\t\tinstance = drawDash(\r\n\t\t\tinstance,\r\n\t\t\tprops.positionStart.x,\r\n\t\t\tprops.positionStart.y,\r\n\t\t\tprops.positionStop.x,\r\n\t\t\tprops.positionStop.y,\r\n\t\t\t4,\r\n\t\t\t3\r\n\t\t);\r\n\t\tinstance.endFill();\r\n\t},\r\n});\r\n\r\n//import * as PIXI from \"pixi.js\";\r\n//import { Stage, Container, Sprite, CustomPIXIComponent } from \"react-pixi-fiber\";\r\n//import { pointCoord } from \"@/components/interfaces/iComon\";\r\n//import { IPixiShapeDashedLine, IPixiShapeRectangle } from \"../interface/basicShapesInterFace\";\r\n//import { DEFAULTRECTANGLE } from \"./defaultValues\";\r\n//\r\n////计算xy\r\n//const xyComput = function (props: IPixiShapeRectangle) {\r\n//\tlet x = props.position.x;\r\n//\tlet y = props.position.y;\r\n//\tif (props.alignX === \"center\") {\r\n//\t\tx = props.position.x - props.size.width / 2;\r\n//\t}\r\n//\tif (props.alignX === \"right\") {\r\n//\t\tx = props.position.x - props.size.width;\r\n//\t}\r\n//\tif (props.alignY === \"center\") {\r\n//\t\ty = props.position.y - props.size.height / 2;\r\n//\t}\r\n//\tif (props.alignY === \"bottom\") {\r\n//\t\ty = props.position.y - props.size.height;\r\n//\t}\r\n//\treturn { x, y };\r\n//};\r\n//\r\n///**\r\n// * 矩形(自定义PIXI图形)\r\n// */\r\n//export const Rectangle = CustomPIXIComponent(\r\n//\t{\r\n//\t\tcustomDisplayObject: () => new PIXI.Graphics(),\r\n//\t\tcustomApplyProps: (instance: PIXI.Graphics, oldProps, newProps: IPixiShapeRectangle) => {\r\n//\t\t\t//这里会产生引用\r\n//\t\t\tconst new_props = Object.assign(true, DEFAULTRECTANGLE, newProps);\r\n//\r\n//\t\t\tlet newxy = xyComput(new_props);\r\n//\t\t\tlet x = newxy.x;\r\n//\t\t\tlet y = newxy.y;\r\n//\t\t\tinstance.clear();\r\n//\t\t\tinstance.beginFill(new_props.color || 0x0, new_props.opacity);\r\n//\t\t\tinstance.drawRect(x, y, new_props.size.width, new_props.size.height);\r\n//\t\t\tinstance.endFill();\r\n//\r\n//\t\t\t/* if (typeof oldProps === \"undefined\") {\r\n//\t\t\t\tlet x = newxy.x;\r\n//\t\t\t\tlet y = newxy.y;\r\n//\t\t\t\tinstance.clear();\r\n//\t\t\t\tinstance.beginFill(new_props.color || 0x0, new_props.opacity);\r\n//\t\t\t\tinstance.drawRect(x, y, new_props.size.width, new_props.size.height);\r\n//\t\t\t\tinstance.endFill();\r\n//\t\t\t} else {\r\n//\t\t\t\tconst old_Props = Object.assign(true, defaultsRectangle, oldProps);\r\n//\t\t\t\tlet oldxy = xyComput(old_Props);\r\n//\r\n//\t\t\t\tif (oldxy.x !== newxy.x) {\r\n//\t\t\t\t\tinstance.x += newxy.x - oldxy.x;\r\n//\t\t\t\t}\r\n//\t\t\t\tif (oldxy.y !== newxy.y) {\r\n//\t\t\t\t\tinstance.y += newxy.y - oldxy.y;\r\n//\t\t\t\t}\r\n//\t\t\t\tif (old_Props.size.width !== new_props.size.width) {\r\n//\t\t\t\t\tinstance.width = new_props.size.width;\r\n//\t\t\t\t}\r\n//\t\t\t\tif (old_Props.size.height !== new_props.size.height) {\r\n//\t\t\t\t\tinstance.height = new_props.size.height;\r\n//\t\t\t\t}\r\n//\t\t\t\tif (old_Props.color !== new_props.color) {\r\n//\t\t\t\t\tinstance.beginFill(new_props.color);\r\n//\t\t\t\t}\r\n//\t\t\t\tif (old_Props.opacity !== new_props.opacity) {\r\n//\t\t\t\t\tinstance.alpha = new_props.opacity as number;\r\n//\t\t\t\t}\r\n//\t\t\t} */\r\n//\t\t},\r\n//\t},\r\n//\t\"Rectangle\"\r\n//);\r\n//\r\n///**\r\n// * 矩形(自定义PIXI图形)\r\n// */\r\n////export const superRectangle = CustomPIXIComponent(\r\n////\t{\r\n////\t\tcustomDisplayObject: () => new PIXI.Graphics(),\r\n////\t\tcustomApplyProps: (instance: PIXI.Graphics, oldProps, newProps: IPixiShapeRectangle) => {\r\n////\t\t\t//这里会产生引用\r\n////\t\t\tconst new_props = Object.assign(true, DEFAULTRECTANGLE, newProps);\r\n////\r\n////\t\t\tlet newxy = xyComput(new_props);\r\n////\t\t\tlet x = newxy.x;\r\n////\t\t\tlet y = newxy.y;\r\n////\t\t\tinstance.clear();\r\n////\t\t\tinstance.beginFill(new_props.color || 0x0, new_props.opacity);\r\n////\t\t\tinstance.drawRect(x, y, new_props.size.width, new_props.size.height);\r\n////\t\t\tinstance.endFill();\r\n////\r\n////\t\t\t/* if (typeof oldProps === \"undefined\") {\r\n////\t\t\t\tlet x = newxy.x;\r\n////\t\t\t\tlet y = newxy.y;\r\n////\t\t\t\tinstance.clear();\r\n////\t\t\t\tinstance.beginFill(new_props.color || 0x0, new_props.opacity);\r\n////\t\t\t\tinstance.drawRect(x, y, new_props.size.width, new_props.size.height);\r\n////\t\t\t\tinstance.endFill();\r\n////\t\t\t} else {\r\n////\t\t\t\tconst old_Props = Object.assign(true, defaultsRectangle, oldProps);\r\n////\t\t\t\tlet oldxy = xyComput(old_Props);\r\n////\r\n////\t\t\t\tif (oldxy.x !== newxy.x) {\r\n////\t\t\t\t\tinstance.x += newxy.x - oldxy.x;\r\n////\t\t\t\t}\r\n////\t\t\t\tif (oldxy.y !== newxy.y) {\r\n////\t\t\t\t\tinstance.y += newxy.y - oldxy.y;\r\n////\t\t\t\t}\r\n////\t\t\t\tif (old_Props.size.width !== new_props.size.width) {\r\n////\t\t\t\t\tinstance.width = new_props.size.width;\r\n////\t\t\t\t}\r\n////\t\t\t\tif (old_Props.size.height !== new_props.size.height) {\r\n////\t\t\t\t\tinstance.height = new_props.size.height;\r\n////\t\t\t\t}\r\n////\t\t\t\tif (old_Props.color !== new_props.color) {\r\n////\t\t\t\t\tinstance.beginFill(new_props.color);\r\n////\t\t\t\t}\r\n////\t\t\t\tif (old_Props.opacity !== new_props.opacity) {\r\n////\t\t\t\t\tinstance.alpha = new_props.opacity as number;\r\n////\t\t\t\t}\r\n////\t\t\t} */\r\n////\t\t},\r\n////\t},\r\n////\t\"superRectangle\"\r\n////);\r\n//\r\n\r\n//\r\n///**\r\n// * 虚线(自定义PIXI图形)\r\n// */\r\n//export const DashedLine = CustomPIXIComponent(\r\n//\t{\r\n//\t\tcustomDisplayObject: () => new PIXI.Graphics(),\r\n//\t\tcustomApplyProps: (instance: PIXI.Graphics, oldProps, newProps: IPixiShapeDashedLine) => {\r\n//\t\t\tlet defaults: IPixiShapeDashedLine = {\r\n//\t\t\t\tcolor: PIXI.utils.string2hex(\"#000000\"),\r\n//\t\t\t\tsize: 1,\r\n//\t\t\t\tpositionStart: { x: 0, y: 0 },\r\n//\t\t\t\tpositionStop: { x: 0, y: 0 },\r\n//\t\t\t\tdashLength: 4,\r\n//\t\t\t\tspaceLength: 3,\r\n//\t\t\t};\r\n//\t\t\t//这里会产生引用\r\n//\t\t\tconst props = Object.assign(true, defaults, newProps);\r\n//\t\t\tinstance.clear();\r\n//\t\t\tinstance.lineStyle(props.size, props.color);\r\n//\t\t\tinstance = drawDash(\r\n//\t\t\t\tinstance,\r\n//\t\t\t\tprops.positionStart.x,\r\n//\t\t\t\tprops.positionStart.y,\r\n//\t\t\t\tprops.positionStop.x,\r\n//\t\t\t\tprops.positionStop.y,\r\n//\t\t\t\t4,\r\n//\t\t\t\t3\r\n//\t\t\t);\r\n//\t\t\tinstance.endFill();\r\n//\t\t},\r\n//\t},\r\n//\t\"DashedLine\"\r\n//);\r\n//\r\n","/**\r\n * 廖力编写\r\n * 模块名称：\r\n * 模块说明：\r\n * 编写时间：\r\n */\r\nimport React, {\r\n\tuseEffect,\r\n\tuseRef,\r\n\tuseState,\r\n\tforwardRef,\r\n\tuseImperativeHandle,\r\n\tFC,\r\n\tReactElement,\r\n\tmemo,\r\n\tLegacyRef,\r\n\tuseMemo,\r\n} from \"react\";\r\nimport { Stage, Graphics, Container, Text } from \"@pixi/react\";\r\nimport * as PIXI from \"pixi.js\";\r\nimport { DashedLine, Rectangle } from \"../utils/basicShaps\";\r\nimport { useCandleViewPixiContext } from \"..\";\r\nimport { getSpaceSize } from \"../utils/consts\";\r\n\r\n/**\r\n * 传入参数\r\n */\r\nexport interface iprops {}\r\n\r\nconst XAxis: FC<iprops> = ({}, _ref): ReactElement => {\r\n\t//===============useHooks=================\r\n\tconst CVData = useCandleViewPixiContext();\r\n\r\n\t//===============state====================\r\n\tconst [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n\t//===============static===================\r\n\tconst labelPadding: number = 25;\r\n\r\n\t//===============ref======================\r\n\tconst tooltipTextRef = useRef<any>(null);\r\n\r\n\t//===============function=================\r\n\t/* 创建tick */\r\n\tconst makeTicks = function () {\r\n\t\tlet result: React.JSX.Element[] = [];\r\n\t\tlet index = 0;\r\n\t\tfor (var item of CVData.hookObjs.xAxisObj.data.displayTickArr) {\r\n\t\t\tresult.push(\r\n\t\t\t\t<React.Fragment key={index + \"_d\"}>\r\n\t\t\t\t\t<Rectangle\r\n\t\t\t\t\t\tcolor={PIXI.utils.string2hex(item.color)}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: item.size,\r\n\t\t\t\t\t\t\theight: item.length,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tposition={item.cPosition}\r\n\t\t\t\t\t\talignX=\"center\"\r\n\t\t\t\t\t\talignY=\"top\"\r\n\t\t\t\t\t></Rectangle>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t);\r\n\t\t\tindex++;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/* 创建label */\r\n\tconst makeLabels = function () {\r\n\t\tlet result: React.JSX.Element[] = [];\r\n\t\tlet index = 0;\r\n\t\tfor (var item of CVData.hookObjs.xAxisObj.data.displayTickArr) {\r\n\t\t\tresult.push(\r\n\t\t\t\t<React.Fragment key={index + \"_a\"}>\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tanchor={0.5}\r\n\t\t\t\t\t\tx={item.cPosition.x}\r\n\t\t\t\t\t\ty={item.cPosition.y + CVData.hookObjs.xAxisObj.data.labelSpace / 2}\r\n\t\t\t\t\t\ttext={(function () {\r\n\t\t\t\t\t\t\tif (typeof CVData.hookObjs.xAxisObj.initArgs.formatter !== \"undefined\") {\r\n\t\t\t\t\t\t\t\treturn CVData.hookObjs.xAxisObj.initArgs.formatter!(item);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn item.displayValue?.toString()!;\r\n\t\t\t\t\t\t})()}\r\n\t\t\t\t\t\tresolution={2}\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\tnew PIXI.TextStyle({\r\n\t\t\t\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\t\t\t\tfontSize: CVData.hookObjs.xAxisObj.initArgs.fontSize,\r\n\t\t\t\t\t\t\t\tfill: PIXI.utils.string2hex(CVData.hookObjs.xAxisObj.initArgs.tickColor!),\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t);\r\n\t\t\tindex++;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/* 创建tooltip */\r\n\tconst makeTooltip = function () {\r\n\t\tif (\r\n\t\t\t!CVData.hookObjs.xAxisObj.initArgs.tooltip!.enabled! ||\r\n\t\t\tCVData.hookObjs.xAxisObj.data.tooltipState === null ||\r\n\t\t\t!CVData.hookObjs.xAxisObj.data.tooltipIsShow\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<DashedLine\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(CVData.hookObjs.xAxisObj.initArgs.tooltip!.color!)}\r\n\t\t\t\t\tsize={CVData.hookObjs.xAxisObj.data.tooltipState.size}\r\n\t\t\t\t\tpositionStart={CVData.hookObjs.xAxisObj.data.tooltipState.position}\r\n\t\t\t\t\tpositionStop={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.xAxisObj.data.tooltipState.position.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.xAxisObj.data.tooltipState.length,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdashLength={CVData.hookObjs.xAxisObj.initArgs.tooltip!.dashLength!}\r\n\t\t\t\t\tspaceLength={CVData.hookObjs.xAxisObj.initArgs.tooltip!.spaceLength!}\r\n\t\t\t\t></DashedLine>\r\n\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(CVData.hookObjs.xAxisObj.initArgs.tooltip?.label?.backGroundColor!)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: tooltipTextRef.current?.width + labelPadding,\r\n\t\t\t\t\t\theight: CVData.hookObjs.xAxisObj.data.labelSpace,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={(function () {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tCVData.hookObjs.xAxisObj.data.tooltipState.position.x -\r\n\t\t\t\t\t\t\t\ttooltipTextRef.current?.width / 2 -\r\n\t\t\t\t\t\t\t\tlabelPadding / 2 <\r\n\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tx: tooltipTextRef.current?.width / 2 + labelPadding / 2,\r\n\t\t\t\t\t\t\t\ty: CVData.hookObjs.xAxisObj.data.tooltipState.relatedTickItem!.cPosition.y,\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tCVData.hookObjs.xAxisObj.data.tooltipState.position.x +\r\n\t\t\t\t\t\t\t\ttooltipTextRef.current?.width / 2 +\r\n\t\t\t\t\t\t\t\tlabelPadding / 2 >\r\n\t\t\t\t\t\t\tCVData.hookObjs.xAxisObj.data.lineSize.width\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tx:\r\n\t\t\t\t\t\t\t\t\tCVData.hookObjs.xAxisObj.data.lineSize.width -\r\n\t\t\t\t\t\t\t\t\ttooltipTextRef.current?.width / 2 -\r\n\t\t\t\t\t\t\t\t\tlabelPadding / 2,\r\n\t\t\t\t\t\t\t\ty: CVData.hookObjs.xAxisObj.data.tooltipState.relatedTickItem!.cPosition.y,\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tx: CVData.hookObjs.xAxisObj.data.tooltipState.position.x,\r\n\t\t\t\t\t\t\ty: CVData.hookObjs.xAxisObj.data.tooltipState.relatedTickItem!.cPosition.y,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})()}\r\n\t\t\t\t\talignX=\"center\"\r\n\t\t\t\t\talignY=\"top\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(CVData.hookObjs.xAxisObj.initArgs.tooltip?.label?.color!)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: CVData.hookObjs.xAxisObj.data.tooltipState.relatedTickItem!.size,\r\n\t\t\t\t\t\theight: CVData.hookObjs.xAxisObj.data.tooltipState.relatedTickItem!.length,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.xAxisObj.data.tooltipState.position.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.xAxisObj.data.tooltipState.relatedTickItem!.cPosition.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"center\"\r\n\t\t\t\t\talignY=\"top\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Text\r\n\t\t\t\t\tref={tooltipTextRef}\r\n\t\t\t\t\tanchor={0.5}\r\n\t\t\t\t\tx={(function () {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tCVData.hookObjs.xAxisObj.data.tooltipState.position.x -\r\n\t\t\t\t\t\t\t\ttooltipTextRef.current?.width / 2 -\r\n\t\t\t\t\t\t\t\tlabelPadding / 2 <\r\n\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn tooltipTextRef.current?.width / 2 + labelPadding / 2;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tCVData.hookObjs.xAxisObj.data.tooltipState.position.x +\r\n\t\t\t\t\t\t\t\ttooltipTextRef.current?.width / 2 +\r\n\t\t\t\t\t\t\t\tlabelPadding / 2 >\r\n\t\t\t\t\t\t\tCVData.hookObjs.xAxisObj.data.lineSize.width\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tCVData.hookObjs.xAxisObj.data.lineSize.width -\r\n\t\t\t\t\t\t\t\ttooltipTextRef.current?.width / 2 -\r\n\t\t\t\t\t\t\t\tlabelPadding / 2\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn CVData.hookObjs.xAxisObj.data.tooltipState.position.x;\r\n\t\t\t\t\t})()}\r\n\t\t\t\t\ty={CVData.hookObjs.xAxisObj.data.tooltipState.length + CVData.hookObjs.xAxisObj.data.labelSpace / 2}\r\n\t\t\t\t\ttext={\r\n\t\t\t\t\t\tCVData.hookObjs.xAxisObj.initArgs.tooltip?.label?.formatter!(\r\n\t\t\t\t\t\t\tCVData.hookObjs.xAxisObj.data.tooltipState.relatedTickItem!\r\n\t\t\t\t\t\t) as string\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolution={2}\r\n\t\t\t\t\tstyle={\r\n\t\t\t\t\t\tnew PIXI.TextStyle({\r\n\t\t\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\t\t\tfontSize: CVData.hookObjs.xAxisObj.initArgs.tooltip?.label?.fontsize,\r\n\t\t\t\t\t\t\tfill: PIXI.utils.string2hex(CVData.hookObjs.xAxisObj.initArgs.tooltip?.label?.color!),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\t//===============effects==================\r\n\tuseEffect(\r\n\t\tfunction (): ReturnType<React.EffectCallback> {\r\n\t\t\tif (isMounted === false) {\r\n\t\t\t\tsetIsMounted(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[isMounted]\r\n\t);\r\n\r\n\tuseEffect(function (): ReturnType<React.EffectCallback> {\r\n\t\treturn function (): void {\r\n\t\t\tsetIsMounted(false);\r\n\t\t};\r\n\t}, []);\r\n\r\n\t/* x轴背景 */\r\n\tlet xBackground = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{/* y轴背景 */}\r\n\t\t\t\t\t<Rectangle\r\n\t\t\t\t\t\tcolor={PIXI.utils.string2hex(CVData.hookObjs.xAxisObj.initArgs.backgroundColor!)}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: CVData.hookObjs.xAxisObj.data.viewSize.width,\r\n\t\t\t\t\t\t\theight: CVData.hookObjs.xAxisObj.data.labelSpace,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tposition={CVData.hookObjs.xAxisObj.data.linePosition}\r\n\t\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\t\talignY=\"top\"\r\n\t\t\t\t\t></Rectangle>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t},\r\n\t\t[\r\n\t\t\tCVData.hookObjs.yAxisObj.data.labelSpace,\r\n\t\t\tCVData.hookObjs.yAxisObj.data.viewSize,\r\n\t\t\tCVData.hookObjs.yAxisObj.data.linePosition,\r\n\t\t\tCVData.hookObjs.yAxisObj.data.lineColor,\r\n\t\t\tCVData.hookObjs.yAxisObj.initArgs.backgroundColor,\r\n\t\t]\r\n\t);\r\n\r\n\tlet xAsixElem = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{/*  x轴 */}\r\n\t\t\t\t\t<Rectangle\r\n\t\t\t\t\t\tcolor={PIXI.utils.string2hex(CVData.hookObjs.xAxisObj.initArgs.lineColor!)}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: CVData.hookObjs.xAxisObj.data.lineSize.width,\r\n\t\t\t\t\t\t\theight: CVData.hookObjs.xAxisObj.data.lineSize.size,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tposition={CVData.hookObjs.xAxisObj.data.linePosition}\r\n\t\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\t\talignY=\"top\"\r\n\t\t\t\t\t></Rectangle>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t},\r\n\t\t[\r\n\t\t\tCVData.hookObjs.xAxisObj.data.lineSize.width,\r\n\t\t\tCVData.hookObjs.xAxisObj.data.lineSize.size,\r\n\t\t\tCVData.hookObjs.xAxisObj.data.linePosition,\r\n\t\t\tCVData.hookObjs.xAxisObj.initArgs.lineColor,\r\n\t\t]\r\n\t);\r\n\r\n\tlet ticks = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn makeTicks();\r\n\t\t},\r\n\t\t[CVData.hookObjs.xAxisObj.data.displayTickArr]\r\n\t);\r\n\r\n\tlet labels = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn makeLabels();\r\n\t\t},\r\n\t\t[CVData.hookObjs.xAxisObj.data.displayTickArr, CVData.hookObjs.xAxisObj.initArgs]\r\n\t);\r\n\r\n\tlet tooltip = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn makeTooltip();\r\n\t\t},\r\n\t\t[\r\n\t\t\tCVData.hookObjs.xAxisObj.data.tooltipState,\r\n\t\t\tCVData.hookObjs.xAxisObj.data.tooltipIsShow,\r\n\t\t\tCVData.hookObjs.xAxisObj.data.x,\r\n\t\t\tCVData.hookObjs.xAxisObj.initArgs.tooltip,\r\n\t\t]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* x轴背景 */}\r\n\t\t\t{xBackground}\r\n\t\t\t{xAsixElem}\r\n\t\t\t{/* 创建x轴标 */}\r\n\t\t\t<Container x={CVData.hookObjs.xAxisObj.data.x}>\r\n\t\t\t\t{ticks}\r\n\t\t\t\t{/* 创建label */}\r\n\t\t\t\t{labels}\r\n\t\t\t</Container>\r\n\t\t\t{/* 创建ToolTip */}\r\n\t\t\t{tooltip}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\n//使用memo不让其因为上级节点的更新而频繁更新\r\nexport default memo(XAxis);\r\n","/**\r\n * 廖力编写\r\n * 模块名称：\r\n * 模块说明：\r\n * 编写时间：\r\n */\r\nimport React, {\r\n\tuseEffect,\r\n\tuseRef,\r\n\tuseState,\r\n\tforwardRef,\r\n\tuseImperativeHandle,\r\n\tFC,\r\n\tReactElement,\r\n\tmemo,\r\n\tLegacyRef,\r\n\tuseMemo,\r\n} from \"react\";\r\nimport { Stage, Graphics, Container, Text } from \"@pixi/react\";\r\nimport * as PIXI from \"pixi.js\";\r\nimport { DashedLine, Rectangle } from \"../utils/basicShaps\";\r\nimport { useCandleViewPixiContext } from \"..\";\r\nimport { getSpaceSize } from \"../utils/consts\";\r\n\r\n/**\r\n * 传入参数\r\n */\r\nexport interface iprops {}\r\n\r\nconst DataTooltop: FC<iprops> = ({}, _ref): ReactElement => {\r\n\t//===============useHooks=================\r\n\tconst CVData = useCandleViewPixiContext();\r\n\r\n\t//===============state====================\r\n\tconst [isMounted, setIsMounted] = useState<boolean>(false);\r\n\tconst [updateTemp, setupdateTemp] = useState<number>(0);\r\n\t//===============static===================\r\n\tconst labelPadding: number = 10;\r\n\r\n\t//===============ref======================\r\n\tconst lastDataTooltipTextRef = useRef<any>(null);\r\n\tconst lastDataTooltipTextRef2 = useRef<any>(null);\r\n\tconst lastDataTooltipTextRef3 = useRef<any>(null);\r\n\tconst lastDataTooltipTextRef4 = useRef<any>(null);\r\n\r\n\t//===============function=================\r\n\t/* 创建最后一个candle的tooltip */\r\n\tconst makeLastCandleTooltip = function () {\r\n\t\tif (\r\n\t\t\tCVData.hookObjs.candleObj.data.latestCandleItem === null ||\r\n\t\t\t!CVData.hookObjs.candleObj.initArgs.candleStyles?.currentPriceTooltip!.enabled! ||\r\n\t\t\tCVData.hookObjs.candleObj.data.latestCandleToolTip === null ||\r\n\t\t\t!CVData.hookObjs.candleObj.data.latestCandleToolTip\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<DashedLine\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(CVData.hookObjs.candleObj.data.latestCandleItem!.candleColor!)}\r\n\t\t\t\t\tsize={CVData.hookObjs.candleObj.data.latestCandleToolTip.size}\r\n\t\t\t\t\tpositionStart={CVData.hookObjs.candleObj.data.latestCandleToolTip.position}\r\n\t\t\t\t\tpositionStop={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.candleObj.data.latestCandleToolTip.length,\r\n\t\t\t\t\t\ty: CVData.hookObjs.candleObj.data.latestCandleToolTip.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdashLength={CVData.hookObjs.candleObj.initArgs.candleStyles?.currentPriceTooltip!.dashLength!}\r\n\t\t\t\t\tspaceLength={CVData.hookObjs.candleObj.initArgs.candleStyles?.currentPriceTooltip!.spaceLength!}\r\n\t\t\t\t></DashedLine>\r\n\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(CVData.hookObjs.candleObj.data.latestCandleItem!.candleColor!)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.labelSpace,\r\n\t\t\t\t\t\theight: lastDataTooltipTextRef.current?.height + labelPadding,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.yAxisObj.data.linePosition.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.candleObj.data.latestCandleToolTip.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\talignY=\"center\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.currentPriceTooltip?.label?.color!\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.tickLength,\r\n\t\t\t\t\t\theight: CVData.hookObjs.candleObj.data.latestCandleToolTip.size,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.yAxisObj.data.linePosition.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.candleObj.data.latestCandleToolTip.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\talignY=\"center\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Text\r\n\t\t\t\t\tref={lastDataTooltipTextRef}\r\n\t\t\t\t\tanchor={{ x: 0, y: 0.6 }}\r\n\t\t\t\t\tx={CVData.hookObjs.yAxisObj.data.linePosition.x + CVData.hookObjs.yAxisObj.data.tickLength * 2}\r\n\t\t\t\t\ty={CVData.hookObjs.candleObj.data.latestCandleToolTip.position.y}\r\n\t\t\t\t\ttext={\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.currentPriceTooltip?.label?.formatter!(\r\n\t\t\t\t\t\t\tCVData.hookObjs.candleObj.data.latestCandleToolTip\r\n\t\t\t\t\t\t) as string\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolution={2}\r\n\t\t\t\t\tstyle={\r\n\t\t\t\t\t\tnew PIXI.TextStyle({\r\n\t\t\t\t\t\t\tfontSize:\r\n\t\t\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.currentPriceTooltip?.label?.fontsize,\r\n\t\t\t\t\t\t\tfill: PIXI.utils.string2hex(\r\n\t\t\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.currentPriceTooltip?.label?.color!\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\t/* 视图范围内最末尾的candle */\r\n\tconst makeLatestCandleToolTip = function () {\r\n\t\tif (\r\n\t\t\t!CVData.hookObjs.candleObj.initArgs.candleStyles?.viewLastPriceTooltip!.enabled! ||\r\n\t\t\tCVData.hookObjs.candleObj.data.latestdisplayLatestCandle === null ||\r\n\t\t\t!CVData.hookObjs.candleObj.data.latestdisplayLatestCandle\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.viewLastPriceTooltip?.label?.backGroundColor!\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.labelSpace,\r\n\t\t\t\t\t\theight: lastDataTooltipTextRef2.current?.height + labelPadding,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.yAxisObj.data.linePosition.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.candleObj.data.latestdisplayLatestCandle.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\talignY=\"center\"\r\n\t\t\t\t\topacity={\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.viewLastPriceTooltip?.label?.backGroundAlpha\r\n\t\t\t\t\t}\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.viewLastPriceTooltip?.label?.color!\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.tickLength,\r\n\t\t\t\t\t\theight: CVData.hookObjs.candleObj.data.latestdisplayLatestCandle.size,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.yAxisObj.data.linePosition.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.candleObj.data.latestdisplayLatestCandle.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\talignY=\"center\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Text\r\n\t\t\t\t\tref={lastDataTooltipTextRef2}\r\n\t\t\t\t\tanchor={{ x: 0, y: 0.6 }}\r\n\t\t\t\t\tx={CVData.hookObjs.yAxisObj.data.linePosition.x + CVData.hookObjs.yAxisObj.data.tickLength * 2}\r\n\t\t\t\t\ty={CVData.hookObjs.candleObj.data.latestdisplayLatestCandle.position.y}\r\n\t\t\t\t\ttext={\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.viewLastPriceTooltip?.label?.formatter!(\r\n\t\t\t\t\t\t\tCVData.hookObjs.candleObj.data.latestdisplayLatestCandle\r\n\t\t\t\t\t\t) as string\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolution={2}\r\n\t\t\t\t\tstyle={\r\n\t\t\t\t\t\tnew PIXI.TextStyle({\r\n\t\t\t\t\t\t\tfontSize:\r\n\t\t\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.viewLastPriceTooltip?.label?.fontsize,\r\n\t\t\t\t\t\t\tfill: PIXI.utils.string2hex(\r\n\t\t\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.viewLastPriceTooltip?.label?.color!\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\t/* 创建最后一个candle的tooltip */\r\n\tconst makeLastVolumeTooltip = function () {\r\n\t\tif (\r\n\t\t\t!CVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.currentPriceTooltip!.enabled! ||\r\n\t\t\tCVData.hookObjs.candleObj.data.latestVolumeToolTip === null ||\r\n\t\t\t!CVData.hookObjs.candleObj.data.latestVolumeToolTip\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<DashedLine\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.currentPriceTooltip!.color!\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tsize={CVData.hookObjs.candleObj.data.latestVolumeToolTip.size}\r\n\t\t\t\t\tpositionStart={CVData.hookObjs.candleObj.data.latestVolumeToolTip.position}\r\n\t\t\t\t\tpositionStop={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.candleObj.data.latestVolumeToolTip.length,\r\n\t\t\t\t\t\ty: CVData.hookObjs.candleObj.data.latestVolumeToolTip.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdashLength={\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.currentPriceTooltip!.dashLength!\r\n\t\t\t\t\t}\r\n\t\t\t\t\tspaceLength={\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.currentPriceTooltip!.spaceLength!\r\n\t\t\t\t\t}\r\n\t\t\t\t></DashedLine>\r\n\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.currentPriceTooltip?.label\r\n\t\t\t\t\t\t\t?.backGroundColor!\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.labelSpace,\r\n\t\t\t\t\t\theight: lastDataTooltipTextRef3.current?.height + labelPadding,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.yAxisObj.data.linePosition.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.candleObj.data.latestVolumeToolTip.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\talignY=\"center\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.currentPriceTooltip?.label?.color!\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.tickLength,\r\n\t\t\t\t\t\theight: CVData.hookObjs.candleObj.data.latestVolumeToolTip.size,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.yAxisObj.data.linePosition.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.candleObj.data.latestVolumeToolTip.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\talignY=\"center\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Text\r\n\t\t\t\t\tref={lastDataTooltipTextRef3}\r\n\t\t\t\t\tanchor={{ x: 0, y: 0.6 }}\r\n\t\t\t\t\tx={CVData.hookObjs.yAxisObj.data.linePosition.x + CVData.hookObjs.yAxisObj.data.tickLength * 2}\r\n\t\t\t\t\ty={CVData.hookObjs.candleObj.data.latestVolumeToolTip.position.y}\r\n\t\t\t\t\ttext={\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.currentPriceTooltip?.label\r\n\t\t\t\t\t\t\t?.formatter!(\r\n\t\t\t\t\t\t\tCVData.hookObjs.candleObj.data.latestVolumeToolTip,\r\n\t\t\t\t\t\t\tCVData.initArgs.language\r\n\t\t\t\t\t\t) as string\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolution={2}\r\n\t\t\t\t\tstyle={\r\n\t\t\t\t\t\tnew PIXI.TextStyle({\r\n\t\t\t\t\t\t\tfontSize:\r\n\t\t\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.currentPriceTooltip?.label\r\n\t\t\t\t\t\t\t\t\t?.fontsize,\r\n\t\t\t\t\t\t\tfill: PIXI.utils.string2hex(\r\n\t\t\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.currentPriceTooltip?.label\r\n\t\t\t\t\t\t\t\t\t?.color!\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\t/* 视图范围内最末尾的candle */\r\n\tconst makeLatestVolumeToolTip = function () {\r\n\t\tif (\r\n\t\t\t!CVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.viewLastPriceTooltip!.enabled! ||\r\n\t\t\tCVData.hookObjs.candleObj.data.latestdisplayLatestVolume === null ||\r\n\t\t\t!CVData.hookObjs.candleObj.data.latestdisplayLatestVolume\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.viewLastPriceTooltip?.label\r\n\t\t\t\t\t\t\t?.backGroundColor!\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.labelSpace,\r\n\t\t\t\t\t\theight: lastDataTooltipTextRef4.current?.height + labelPadding,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.yAxisObj.data.linePosition.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.candleObj.data.latestdisplayLatestVolume.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\talignY=\"center\"\r\n\t\t\t\t\topacity={\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.viewLastPriceTooltip?.label\r\n\t\t\t\t\t\t\t?.backGroundAlpha\r\n\t\t\t\t\t}\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.viewLastPriceTooltip?.label?.color!\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.tickLength,\r\n\t\t\t\t\t\theight: CVData.hookObjs.candleObj.data.latestdisplayLatestVolume.size,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.yAxisObj.data.linePosition.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.candleObj.data.latestdisplayLatestVolume.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\talignY=\"center\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Text\r\n\t\t\t\t\tref={lastDataTooltipTextRef4}\r\n\t\t\t\t\tanchor={{ x: 0, y: 0.6 }}\r\n\t\t\t\t\tx={CVData.hookObjs.yAxisObj.data.linePosition.x + CVData.hookObjs.yAxisObj.data.tickLength * 2}\r\n\t\t\t\t\ty={CVData.hookObjs.candleObj.data.latestdisplayLatestVolume.position.y}\r\n\t\t\t\t\ttext={\r\n\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.viewLastPriceTooltip?.label\r\n\t\t\t\t\t\t\t?.formatter!(\r\n\t\t\t\t\t\t\tCVData.hookObjs.candleObj.data.latestdisplayLatestVolume,\r\n\t\t\t\t\t\t\tCVData.initArgs.language\r\n\t\t\t\t\t\t) as string\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolution={2}\r\n\t\t\t\t\tstyle={\r\n\t\t\t\t\t\tnew PIXI.TextStyle({\r\n\t\t\t\t\t\t\tfontSize:\r\n\t\t\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.viewLastPriceTooltip?.label\r\n\t\t\t\t\t\t\t\t\t?.fontsize,\r\n\t\t\t\t\t\t\tfill: PIXI.utils.string2hex(\r\n\t\t\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.viewLastPriceTooltip?.label\r\n\t\t\t\t\t\t\t\t\t?.color!\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\t//===============effects==================\r\n\tuseEffect(\r\n\t\tfunction (): ReturnType<React.EffectCallback> {\r\n\t\t\tif (isMounted === false) {\r\n\t\t\t\tsetIsMounted(true);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetupdateTemp(+new Date());\r\n\t\t\t\t}, 500);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[isMounted]\r\n\t);\r\n\r\n\tuseEffect(function (): ReturnType<React.EffectCallback> {\r\n\t\treturn function (): void {\r\n\t\t\tsetIsMounted(false);\r\n\t\t};\r\n\t}, []);\r\n\r\n\t//\r\n\tuseEffect(\r\n\t\tfunction (): ReturnType<React.EffectCallback> {\r\n\t\t\treturn function (): void {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetupdateTemp(+new Date());\r\n\t\t\t\t}, 500);\r\n\t\t\t};\r\n\t\t},\r\n\t\t[CVData.initArgs.timeFormat]\r\n\t);\r\n\r\n\tlet latestCandleToolTip = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn makeLatestCandleToolTip();\r\n\t\t},\r\n\t\t[\r\n\t\t\t{ ...CVData.hookObjs.candleObj.data.latestdisplayLatestCandle },\r\n\t\t\tupdateTemp,\r\n\t\t\t{ ...CVData.hookObjs.candleObj.initArgs.candleStyles?.viewLastPriceTooltip! },\r\n\t\t]\r\n\t);\r\n\r\n\tlet lastCandleTooltip = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn makeLastCandleTooltip();\r\n\t\t},\r\n\t\t[\r\n\t\t\t{ ...CVData.hookObjs.candleObj.data.latestCandleToolTip },\r\n\t\t\tupdateTemp,\r\n\t\t\t{ ...CVData.hookObjs.candleObj.initArgs.candleStyles?.currentPriceTooltip! },\r\n\t\t]\r\n\t);\r\n\r\n\tlet LastVolumeTooltip = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn makeLastVolumeTooltip();\r\n\t\t},\r\n\t\t[\r\n\t\t\t{ ...CVData.hookObjs.candleObj.data.latestVolumeToolTip },\r\n\t\t\tupdateTemp,\r\n\t\t\t{ ...CVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.currentPriceTooltip! },\r\n\t\t]\r\n\t);\r\n\r\n\t//\r\n\r\n\tlet LatestVolumeToolTip = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn makeLatestVolumeToolTip();\r\n\t\t},\r\n\t\t[\r\n\t\t\t{ ...CVData.hookObjs.candleObj.data.latestdisplayLatestVolume },\r\n\t\t\tupdateTemp,\r\n\t\t\t{ ...CVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart!.viewLastPriceTooltip! },\r\n\t\t]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{LatestVolumeToolTip}\r\n\t\t\t{LastVolumeTooltip}\r\n\t\t\t{latestCandleToolTip}\r\n\t\t\t{lastCandleTooltip}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\n//使用memo不让其因为上级节点的更新而频繁更新\r\nexport default memo(DataTooltop);\r\n","/**\r\n * 廖力编写\r\n * 模块名称：\r\n * 模块说明：\r\n * 编写时间：\r\n */\r\nimport React, {\r\n\tuseEffect,\r\n\tuseRef,\r\n\tuseState,\r\n\tforwardRef,\r\n\tuseImperativeHandle,\r\n\tFC,\r\n\tReactElement,\r\n\tmemo,\r\n\tLegacyRef,\r\n\tuseMemo,\r\n} from \"react\";\r\nimport { Stage, Graphics, Container, Text } from \"@pixi/react\";\r\nimport * as PIXI from \"pixi.js\";\r\nimport { DashedLine, Rectangle } from \"../utils/basicShaps\";\r\nimport { useCandleViewPixiContext } from \"..\";\r\nimport { getSpaceSize } from \"../utils/consts\";\r\nimport DataToolTip from \"./dataToolTip\";\r\n\r\n/**\r\n * 传入参数\r\n */\r\nexport interface iprops {}\r\n\r\nconst YAxis: FC<iprops> = ({}, _ref): ReactElement => {\r\n\t//===============useHooks=================\r\n\tconst CVData = useCandleViewPixiContext();\r\n\r\n\t//===============state====================\r\n\tconst [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n\t//===============static===================\r\n\tconst labelPadding: number = 10;\r\n\r\n\t//===============ref======================\r\n\tconst tooltipTextRef = useRef<any>(null);\r\n\r\n\t//===============function=================\r\n\t/* 创建tick */\r\n\tconst makeTicks = function () {\r\n\t\tlet result: React.JSX.Element[] = [];\r\n\t\tlet index = 0;\r\n\t\tfor (var item of CVData.hookObjs.yAxisObj.data.displayTickArr) {\r\n\t\t\tresult.push(\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tkey={index + \"_a\"}\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(item.color)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: item.length,\r\n\t\t\t\t\t\theight: item.size,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={item.cPosition}\r\n\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\talignY=\"center\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t);\r\n\t\t\tindex++;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/* 创建label */\r\n\tconst makeLabels = function () {\r\n\t\tlet result: React.JSX.Element[] = [];\r\n\t\tlet index = 0;\r\n\t\tfor (var item of CVData.hookObjs.yAxisObj.data.displayTickArr) {\r\n\t\t\tresult.push(\r\n\t\t\t\t<Text\r\n\t\t\t\t\tkey={index + \"_b\"}\r\n\t\t\t\t\tanchor={{ x: 0, y: 0.6 }}\r\n\t\t\t\t\tx={item.cPosition.x + item.length * 2}\r\n\t\t\t\t\ty={item.cPosition.y}\r\n\t\t\t\t\ttext={CVData.hookObjs.yAxisObj.initArgs.formatter!(item)}\r\n\t\t\t\t\tresolution={2}\r\n\t\t\t\t\tstyle={\r\n\t\t\t\t\t\tnew PIXI.TextStyle({\r\n\t\t\t\t\t\t\tfontSize: CVData.hookObjs.yAxisObj.initArgs.fontSize,\r\n\t\t\t\t\t\t\tfill: PIXI.utils.string2hex(CVData.hookObjs.yAxisObj.initArgs.tickColor!),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t\tindex++;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/* 创建tooltip */\r\n\tconst makeTooltip = function () {\r\n\t\tif (\r\n\t\t\t!CVData.hookObjs.yAxisObj.initArgs.tooltip!.enabled! ||\r\n\t\t\tCVData.hookObjs.yAxisObj.data.tooltipState === null ||\r\n\t\t\t!CVData.hookObjs.yAxisObj.data.tooltipIsShow\r\n\t\t) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<DashedLine\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(CVData.hookObjs.yAxisObj.initArgs.tooltip!.color!)}\r\n\t\t\t\t\tsize={CVData.hookObjs.yAxisObj.data.tooltipState.size}\r\n\t\t\t\t\tpositionStart={CVData.hookObjs.yAxisObj.data.tooltipState.position}\r\n\t\t\t\t\tpositionStop={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.yAxisObj.data.tooltipState.length,\r\n\t\t\t\t\t\ty: CVData.hookObjs.yAxisObj.data.tooltipState.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdashLength={CVData.hookObjs.yAxisObj.initArgs.tooltip!.dashLength!}\r\n\t\t\t\t\tspaceLength={CVData.hookObjs.yAxisObj.initArgs.tooltip!.spaceLength!}\r\n\t\t\t\t></DashedLine>\r\n\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(CVData.hookObjs.yAxisObj.initArgs.tooltip?.label?.backGroundColor!)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.labelSpace,\r\n\t\t\t\t\t\theight: tooltipTextRef.current?.height + labelPadding,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.yAxisObj.data.linePosition.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.yAxisObj.data.tooltipState.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\talignY=\"center\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(CVData.hookObjs.yAxisObj.initArgs.tooltip?.label?.color!)}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.tickLength,\r\n\t\t\t\t\t\theight: CVData.hookObjs.yAxisObj.initArgs.tickSize!,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: CVData.hookObjs.yAxisObj.data.linePosition.x,\r\n\t\t\t\t\t\ty: CVData.hookObjs.yAxisObj.data.tooltipState.position.y,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\talignY=\"center\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t\t<Text\r\n\t\t\t\t\tref={tooltipTextRef}\r\n\t\t\t\t\tanchor={{ x: 0, y: 0.6 }}\r\n\t\t\t\t\tx={CVData.hookObjs.yAxisObj.data.linePosition.x + CVData.hookObjs.yAxisObj.data.tickLength * 2}\r\n\t\t\t\t\ty={CVData.hookObjs.yAxisObj.data.tooltipState.position.y}\r\n\t\t\t\t\ttext={\r\n\t\t\t\t\t\tCVData.hookObjs.yAxisObj.initArgs.tooltip?.label?.formatter!(\r\n\t\t\t\t\t\t\tCVData.hookObjs.yAxisObj.data.tooltipState\r\n\t\t\t\t\t\t) as string\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolution={2}\r\n\t\t\t\t\tstyle={\r\n\t\t\t\t\t\tnew PIXI.TextStyle({\r\n\t\t\t\t\t\t\tfontSize: CVData.hookObjs.yAxisObj.initArgs.tooltip?.label?.fontsize,\r\n\t\t\t\t\t\t\tfill: PIXI.utils.string2hex(CVData.hookObjs.yAxisObj.initArgs.tooltip?.label?.color!),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\t//===============effects==================\r\n\tuseEffect(\r\n\t\tfunction (): ReturnType<React.EffectCallback> {\r\n\t\t\tif (isMounted === false) {\r\n\t\t\t\tsetIsMounted(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[isMounted]\r\n\t);\r\n\r\n\tuseEffect(function (): ReturnType<React.EffectCallback> {\r\n\t\treturn function (): void {\r\n\t\t\tsetIsMounted(false);\r\n\t\t};\r\n\t}, []);\r\n\r\n\t/* y轴背景 */\r\n\tlet yBackground = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{/* y轴背景 */}\r\n\t\t\t\t\t<Rectangle\r\n\t\t\t\t\t\tcolor={PIXI.utils.string2hex(CVData.hookObjs.yAxisObj.initArgs.backgroundColor!)}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.labelSpace,\r\n\t\t\t\t\t\t\theight: CVData.hookObjs.yAxisObj.data.viewSize.height,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tposition={CVData.hookObjs.yAxisObj.data.linePosition}\r\n\t\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\t\talignY=\"top\"\r\n\t\t\t\t\t></Rectangle>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t},\r\n\t\t[\r\n\t\t\tCVData.hookObjs.yAxisObj.data.labelSpace,\r\n\t\t\tCVData.hookObjs.yAxisObj.data.viewSize,\r\n\t\t\tCVData.hookObjs.yAxisObj.data.linePosition,\r\n\t\t\tCVData.hookObjs.yAxisObj.data.lineColor,\r\n\t\t\tCVData.hookObjs.yAxisObj.initArgs.backgroundColor,\r\n\t\t]\r\n\t);\r\n\r\n\t{\r\n\t\t/*  y轴 */\r\n\t}\r\n\tlet yAxis = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{/*  y轴 */}\r\n\t\t\t\t\t<Rectangle\r\n\t\t\t\t\t\tcolor={CVData.hookObjs.yAxisObj.data.lineColor}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: CVData.hookObjs.yAxisObj.data.lineSize.size,\r\n\t\t\t\t\t\t\theight: CVData.hookObjs.yAxisObj.data.viewSize.height,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tposition={CVData.hookObjs.yAxisObj.data.linePosition}\r\n\t\t\t\t\t\talignX=\"left\"\r\n\t\t\t\t\t\talignY=\"top\"\r\n\t\t\t\t\t></Rectangle>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t},\r\n\t\t[\r\n\t\t\tCVData.hookObjs.yAxisObj.data.viewSize,\r\n\t\t\tCVData.hookObjs.yAxisObj.data.lineSize,\r\n\t\t\tCVData.hookObjs.yAxisObj.data.linePosition,\r\n\t\t\tCVData.hookObjs.yAxisObj.data.lineColor,\r\n\t\t]\r\n\t);\r\n\r\n\t/* 创建y轴标 */\r\n\tlet yTicks = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn makeTicks();\r\n\t\t},\r\n\t\t[CVData.hookObjs.yAxisObj.data.displayTickArr]\r\n\t);\r\n\r\n\t/* 创建label */\r\n\tlet yLabels = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn makeLabels();\r\n\t\t},\r\n\t\t[CVData.hookObjs.yAxisObj.data.displayTickArr, CVData.hookObjs.yAxisObj.initArgs]\r\n\t);\r\n\r\n\t/* 创建ToolTip */\r\n\tlet tooltip = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn makeTooltip();\r\n\t\t},\r\n\t\t[\r\n\t\t\tCVData.hookObjs.yAxisObj.data.tooltipState,\r\n\t\t\tCVData.hookObjs.yAxisObj.data.tooltipIsShow,\r\n\t\t\tCVData.hookObjs.yAxisObj.initArgs.tooltip!,\r\n\t\t]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* y轴背景 */}\r\n\t\t\t{yBackground}\r\n\t\t\t{/*  y轴 */}\r\n\t\t\t{yAxis}\r\n\t\t\t{/* 创建y轴标 */}\r\n\t\t\t{yTicks}\r\n\t\t\t{/* 创建label */}\r\n\t\t\t{yLabels}\r\n\t\t\t<DataToolTip></DataToolTip>\r\n\t\t\t{/* 创建ToolTip */}\r\n\t\t\t{tooltip}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\n//使用memo不让其因为上级节点的更新而频繁更新\r\nexport default memo(YAxis);\r\n","/**\r\n * 廖力编写\r\n * 模块名称：\r\n * 模块说明：\r\n * 编写时间：\r\n */\r\nimport React, {\r\n\tuseEffect,\r\n\tuseRef,\r\n\tuseState,\r\n\tforwardRef,\r\n\tuseImperativeHandle,\r\n\tFC,\r\n\tReactElement,\r\n\tmemo,\r\n\tLegacyRef,\r\n\tuseMemo,\r\n} from \"react\";\r\nimport { Stage, Graphics, Container, Text, ParticleContainer, Sprite } from \"@pixi/react\";\r\nimport * as PIXI from \"pixi.js\";\r\nimport { DashedLine, Rectangle } from \"../utils/basicShaps\";\r\nimport { useCandleViewPixiContext } from \"..\";\r\nimport { getSpaceSize } from \"../utils/consts\";\r\n\r\n/**\r\n * 传入参数\r\n */\r\nexport interface iprops {}\r\n\r\nconst Data: FC<iprops> = ({}, _ref): ReactElement => {\r\n\t//===============useHooks=================\r\n\tconst CVData = useCandleViewPixiContext();\r\n\r\n\t//===============state====================\r\n\tconst [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n\t//===============static===================\r\n\tconst labelPadding: number = 10;\r\n\r\n\t//===============ref======================\r\n\tconst tooltipTextRef = useRef<any>(null);\r\n\r\n\tconst getColor = function (status: \"rise\" | \"fall\", type: \"wick\" | \"candle\"): string {\r\n\t\tif (status === \"rise\" && type === \"wick\") {\r\n\t\t\treturn CVData.initArgs.data?.candleStyles?.wickRiseColor!;\r\n\t\t}\r\n\r\n\t\tif (status === \"fall\" && type === \"wick\") {\r\n\t\t\treturn CVData.initArgs.data?.candleStyles?.wickFallColor!;\r\n\t\t}\r\n\r\n\t\tif (status === \"rise\" && type === \"candle\") {\r\n\t\t\treturn CVData.initArgs.data?.candleStyles?.candleRiseColor!;\r\n\t\t}\r\n\r\n\t\tif (status === \"fall\" && type === \"candle\") {\r\n\t\t\treturn CVData.initArgs.data?.candleStyles?.candleFallColor!;\r\n\t\t}\r\n\t\treturn \"\";\r\n\t};\r\n\r\n\t//===============function=================\r\n\t/* 创建candle */\r\n\tconst makeCandle = function () {\r\n\t\tlet result: React.JSX.Element[] = [];\r\n\r\n\t\tfor (var item of CVData.hookObjs.candleObj.data.displayCandleData) {\r\n\t\t\tresult.push(\r\n\t\t\t\t<Rectangle\r\n\t\t\t\t\tkey={item.time + \"_candle\"}\r\n\t\t\t\t\tcolor={PIXI.utils.string2hex(getColor(item!.candleStateus!, \"candle\"))}\r\n\t\t\t\t\tsize={{\r\n\t\t\t\t\t\twidth: item.candleWidth!,\r\n\t\t\t\t\t\theight: item.candleLength!,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tposition={{\r\n\t\t\t\t\t\tx: item.currentTick!.cPosition.x!,\r\n\t\t\t\t\t\ty: item.candlePixPosition!.y!,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\talignX=\"center\"\r\n\t\t\t\t\talignY=\"top\"\r\n\t\t\t\t></Rectangle>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/* 创建wick */\r\n\tconst makeWick = function () {\r\n\t\tlet result: React.JSX.Element[] = [];\r\n\t\tlet index = 0;\r\n\t\tfor (var item of CVData.hookObjs.candleObj.data.displayCandleData) {\r\n\t\t\tif (!item.isEscaped!) {\r\n\t\t\t\tresult.push(\r\n\t\t\t\t\t<Rectangle\r\n\t\t\t\t\t\tkey={item.time + \"_wick\"}\r\n\t\t\t\t\t\tcolor={PIXI.utils.string2hex(getColor(item!.candleStateus!, \"wick\"))}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: item.wickWidth!,\r\n\t\t\t\t\t\t\theight: item.wickLength!,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tposition={{\r\n\t\t\t\t\t\t\tx: item.currentTick!.cPosition.x!,\r\n\t\t\t\t\t\t\ty: item.wickPixPosition!.y!,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\talignX=\"center\"\r\n\t\t\t\t\t\talignY=\"top\"\r\n\t\t\t\t\t></Rectangle>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(\r\n\t\t\t\t\t<Rectangle\r\n\t\t\t\t\t\tkey={item.time + \"_wick\"}\r\n\t\t\t\t\t\tcolor={0}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: 0,\r\n\t\t\t\t\t\t\theight: 0,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tposition={{\r\n\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\talignX=\"center\"\r\n\t\t\t\t\t\talignY=\"top\"\r\n\t\t\t\t\t></Rectangle>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tindex++;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/* 创建candle */\r\n\t//const makeCandle = function () {\r\n\t//\tlet result: React.JSX.Element[] = [];\r\n\t//\r\n\t//\tfor (var item of CVData.hookObjs.candleObj.data.displayCandleData) {\r\n\t//\t\tresult.push(\r\n\t//\t\t\t<Sprite\r\n\t//\t\t\t\tkey={item.time + \"_candle\"}\r\n\t//\t\t\t\twidth={item.candleWidth}\r\n\t//\t\t\t\theight={item.candleLength!}\r\n\t//\t\t\t\tposition={{\r\n\t//\t\t\t\t\tx: item.currentTick!.cPosition.x!,\r\n\t//\t\t\t\t\ty: item.candlePixPosition!.y!,\r\n\t//\t\t\t\t}}\r\n\t//\t\t\t\ttexture={PIXI.Texture.WHITE}\r\n\t//\t\t\t\ttint={PIXI.utils.string2hex(item.candleColor!)}\r\n\t//\t\t\t\tanchor={{ x: 0.5, y: 0 }}\r\n\t//\t\t\t></Sprite>\r\n\t//\t\t);\r\n\t//\t}\r\n\t//\treturn result;\r\n\t//};\r\n\t//\r\n\t//{\r\n\t//\t/* <Rectangle\r\n\t//\r\n\t//\t\t\t\tcolor={PIXI.utils.string2hex(item.candleColor!)}\r\n\t//\t\t\t\tsize={{\r\n\t//\t\t\t\t\twidth: item.candleWidth!,\r\n\t//\t\t\t\t\theight: item.candleLength!,\r\n\t//\t\t\t\t}}\r\n\t//\t\t\t\tposition={{\r\n\t//\t\t\t\t\tx: item.currentTick!.cPosition.x!,\r\n\t//\t\t\t\t\ty: item.candlePixPosition!.y!,\r\n\t//\t\t\t\t}}\r\n\t//\t\t\t\talignX=\"center\"\r\n\t//\t\t\t\talignY=\"top\"\r\n\t//\t\t\t></Rectangle> */\r\n\t//}\r\n\t//\r\n\t///* 创建wick */\r\n\t//const makeWick = function () {\r\n\t//\tlet result: React.JSX.Element[] = [];\r\n\t//\tlet index = 0;\r\n\t//\tfor (var item of CVData.hookObjs.candleObj.data.displayCandleData) {\r\n\t//\t\tif (!item.isEscaped!) {\r\n\t//\t\t\tresult.push(\r\n\t//\t\t\t\t<Sprite\r\n\t//\t\t\t\t\tkey={item.time + \"_wick\"}\r\n\t//\t\t\t\t\twidth={item.wickWidth!}\r\n\t//\t\t\t\t\theight={item.wickLength!}\r\n\t//\t\t\t\t\tposition={{\r\n\t//\t\t\t\t\t\tx: item.currentTick!.cPosition.x!,\r\n\t//\t\t\t\t\t\ty: item.wickPixPosition!.y!,\r\n\t//\t\t\t\t\t}}\r\n\t//\t\t\t\t\ttexture={PIXI.Texture.WHITE}\r\n\t//\t\t\t\t\ttint={PIXI.utils.string2hex(item.wickColor!)}\r\n\t//\t\t\t\t\tanchor={{ x: 0.5, y: 0 }}\r\n\t//\t\t\t\t></Sprite>\r\n\t//\t\t\t);\r\n\t//\t\t} else {\r\n\t//\t\t\tresult.push(\r\n\t//\t\t\t\t<Sprite\r\n\t//\t\t\t\t\tkey={item.time + \"_wick\"}\r\n\t//\t\t\t\t\twidth={0}\r\n\t//\t\t\t\t\theight={0}\r\n\t//\t\t\t\t\tposition={{\r\n\t//\t\t\t\t\t\tx: 0,\r\n\t//\t\t\t\t\t\ty: 0,\r\n\t//\t\t\t\t\t}}\r\n\t//\t\t\t\t></Sprite>\r\n\t//\t\t\t);\r\n\t//\t\t}\r\n\t//\t\tindex++;\r\n\t//\t}\r\n\t//\r\n\t//\treturn result;\r\n\t//};\r\n\r\n\t//===============effects==================\r\n\tuseEffect(\r\n\t\tfunction (): ReturnType<React.EffectCallback> {\r\n\t\t\tif (isMounted === false) {\r\n\t\t\t\tsetIsMounted(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[isMounted]\r\n\t);\r\n\r\n\tuseEffect(function (): ReturnType<React.EffectCallback> {\r\n\t\treturn function (): void {\r\n\t\t\tsetIsMounted(false);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tlet candle = useMemo(\r\n\t\tfunction () {\r\n\t\t\treturn (function () {\r\n\t\t\t\tif (CVData.hookObjs.candleObj.data.displayCandleData.length === 0) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t\tif (!CVData.hookObjs.candleObj.data.isDQuickUpdateing) {\r\n\t\t\t\t\treturn makeCandle();\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t})();\r\n\t\t},\r\n\t\t[\r\n\t\t\tCVData.hookObjs.candleObj.data.displayCandleData,\r\n\t\t\tCVData.hookObjs.candleObj.data.isDQuickUpdateing,\r\n\t\t\tCVData.initArgs.data!.candleStyles!.candleFallColor!,\r\n\t\t\tCVData.initArgs.data!.candleStyles!.candleRiseColor!,\r\n\t\t]\r\n\t);\r\n\r\n\tlet wick = useMemo(\r\n\t\tfunction () {\r\n\t\t\tif (CVData.hookObjs.candleObj.data.displayCandleData.length === 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn makeWick();\r\n\t\t},\r\n\t\t[\r\n\t\t\tCVData.hookObjs.candleObj.data.displayCandleData,\r\n\t\t\tCVData.hookObjs.candleObj.data.isDQuickUpdateing,\r\n\t\t\tCVData.initArgs.data!.candleStyles!.wickFallColor!,\r\n\t\t\tCVData.initArgs.data!.candleStyles!.wickFallColor!,\r\n\t\t]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container\r\n\t\t\t\tx={CVData.hookObjs.xAxisObj.data.x}\r\n\t\t\t\ty={CVData.hookObjs.candleObj.data.miny}\r\n\t\t\t\tscale={{ x: 1, y: CVData.hookObjs.candleObj.data.yScale }}\r\n\t\t\t>\r\n\t\t\t\t{wick}\r\n\t\t\t\t{candle}\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\n//使用memo不让其因为上级节点的更新而频繁更新\r\nexport default memo(Data);\r\n","/**\r\n * 廖力编写\r\n * 模块名称：\r\n * 模块说明：\r\n * 编写时间：\r\n */\r\nimport React, {\r\n  useEffect,\r\n  useState,\r\n  FC,\r\n  ReactElement,\r\n  memo,\r\n  useMemo,\r\n} from 'react';\r\nimport { Container } from '@pixi/react';\r\nimport * as PIXI from 'pixi.js';\r\nimport { Rectangle } from '../utils/basicShaps';\r\nimport { useCandleViewPixiContext } from '..';\r\n\r\n/**\r\n * 传入参数\r\n */\r\nexport interface iprops {}\r\n\r\nconst NetLines: FC<iprops> = ({}, _ref): ReactElement => {\r\n  //===============useHooks=================\r\n  const CVData = useCandleViewPixiContext();\r\n\r\n  //===============state====================\r\n  const [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n  //===============static===================\r\n\r\n  //===============ref======================\r\n\r\n  //===============function=================\r\n\r\n  /* 创建网格线 */\r\n  const makeNetLinesx = function() {\r\n    let result: React.JSX.Element[] = [];\r\n    let index = 0;\r\n    for (var item of CVData.hookObjs.xAxisObj.data.netLineArr) {\r\n      result.push(\r\n        <React.Fragment key={index + '_c'}>\r\n          <Rectangle\r\n            color={PIXI.utils.string2hex(\r\n              CVData.hookObjs.xAxisObj.initArgs.netLineColor!\r\n            )}\r\n            size={{\r\n              width: item.size,\r\n              height: item.length,\r\n            }}\r\n            position={item.cPosition}\r\n            alignX=\"center\"\r\n            alignY=\"top\"\r\n          ></Rectangle>\r\n        </React.Fragment>\r\n      );\r\n      index++;\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  const makeNetLinesy = function() {\r\n    let result: React.JSX.Element[] = [];\r\n    let index = 0;\r\n    for (var item of CVData.hookObjs.yAxisObj.data.netLineArr) {\r\n      result.push(\r\n        <React.Fragment key={index + '_b'}>\r\n          <Rectangle\r\n            color={PIXI.utils.string2hex(\r\n              CVData.hookObjs.yAxisObj.initArgs.netLineColor!\r\n            )}\r\n            size={{\r\n              width: item.length,\r\n              height: item.size,\r\n            }}\r\n            position={item.cPosition}\r\n            alignX=\"left\"\r\n            alignY=\"center\"\r\n          ></Rectangle>\r\n        </React.Fragment>\r\n      );\r\n      index++;\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  //===============effects==================\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (isMounted === false) {\r\n        setIsMounted(true);\r\n      }\r\n    },\r\n    [isMounted]\r\n  );\r\n\r\n  useEffect(function(): ReturnType<React.EffectCallback> {\r\n    return function(): void {\r\n      setIsMounted(false);\r\n    };\r\n  }, []);\r\n\r\n  let netLinesx = useMemo(\r\n    function() {\r\n      return makeNetLinesx();\r\n    },\r\n    [\r\n      CVData.hookObjs.xAxisObj.data.netLineArr,\r\n      CVData.hookObjs.xAxisObj.initArgs.netLineColor,\r\n    ]\r\n  );\r\n\r\n  let netLinesy = useMemo(\r\n    function() {\r\n      return makeNetLinesy();\r\n    },\r\n    [\r\n      CVData.hookObjs.yAxisObj.data.netLineArr,\r\n      CVData.hookObjs.yAxisObj.initArgs.netLineColor,\r\n    ]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {/* 创建轴网格线 */}\r\n      <Container x={CVData.hookObjs.xAxisObj.data.x}>\r\n        <>{netLinesx}</>\r\n      </Container>\r\n      {netLinesy}\r\n    </>\r\n  );\r\n};\r\n\r\n//使用memo不让其因为上级节点的更新而频繁更新\r\nexport default memo(NetLines);\r\n","/**\r\n * 廖力编写\r\n * 模块名称：\r\n * 模块说明：\r\n * 编写时间：\r\n */\r\nimport React, {\r\n  useEffect,\r\n  useState,\r\n  FC,\r\n  ReactElement,\r\n  memo,\r\n  useMemo,\r\n} from 'react';\r\nimport { Container } from '@pixi/react';\r\nimport * as PIXI from 'pixi.js';\r\nimport { Rectangle } from '../utils/basicShaps';\r\nimport { useCandleViewPixiContext } from '..';\r\n\r\n/**\r\n * 传入参数\r\n */\r\nexport interface iprops {}\r\n\r\nconst VolumChat: FC<iprops> = ({}, _ref): ReactElement => {\r\n  //===============useHooks=================\r\n  const CVData = useCandleViewPixiContext();\r\n\r\n  //===============state====================\r\n  const [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n  //===============function=================\r\n  /* 创建volume */\r\n  const makeChat = function() {\r\n    if (!CVData.hookObjs.candleObj.initArgs.candleStyles!.volumChart!.enabled) {\r\n      return [];\r\n    }\r\n    let result: React.JSX.Element[] = [];\r\n    let index = 0;\r\n\r\n    for (var item of CVData.hookObjs.candleObj.data.displayCandleData) {\r\n      let alpha =\r\n        CVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart?.alpha;\r\n      let currentHeight =\r\n        CVData.hookObjs.candleObj.data.volumChartPixHeight *\r\n        (Number(item.volume) /\r\n          CVData.hookObjs.candleObj.data.volumChartViewMax);\r\n\r\n      if (!item.isEscaped!) {\r\n        result.push(\r\n          <Rectangle\r\n            key={item.time + '_volume'}\r\n            color={PIXI.utils.string2hex(\r\n              (function() {\r\n                if (item.candleStateus === 'rise') {\r\n                  return CVData.hookObjs.candleObj.initArgs.candleStyles!\r\n                    .volumChart!.riseColor!;\r\n                }\r\n                return CVData.hookObjs.candleObj.initArgs.candleStyles!\r\n                  .volumChart!.fallColor!;\r\n              })()\r\n            )}\r\n            opacity={(function() {\r\n              if (!CVData.hookObjs.candleObj.data.isDQuickUpdateing) {\r\n                return alpha;\r\n              }\r\n              return 1;\r\n            })()}\r\n            size={{\r\n              width: (function() {\r\n                if (!CVData.hookObjs.candleObj.data.isDQuickUpdateing) {\r\n                  return item.candleWidth!;\r\n                }\r\n                return 1;\r\n              })(),\r\n              height: currentHeight,\r\n            }}\r\n            position={{\r\n              x: item.currentTick!.cPosition.x!,\r\n              y: CVData.hookObjs.xAxisObj.data.linePosition.y,\r\n            }}\r\n            alignX=\"center\"\r\n            alignY=\"bottom\"\r\n          ></Rectangle>\r\n        );\r\n      } else {\r\n        result.push(\r\n          <React.Fragment key={item.time + '_volume'}></React.Fragment>\r\n        );\r\n      }\r\n\r\n      index++;\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  /* \t\tconst makeChat = function () {\r\n\t\t\tlet result: React.JSX.Element[] = [];\r\n\t\t\tlet index = 0;\r\n\r\n\t\t\tfor (var item of CVData.hookObjs.candleObj.data.displayCandleData) {\r\n\t\t\t\tlet alpha = CVData.hookObjs.candleObj.initArgs.candleStyles?.volumChart?.alpha;\r\n\t\t\t\tlet currentHeight =\r\n\t\t\t\t\tCVData.hookObjs.candleObj.data.volumChartPixHeight *\r\n\t\t\t\t\t(Number(item.volume) / CVData.hookObjs.candleObj.data.volumChartViewMax);\r\n\r\n\t\t\t\tif (!item.isEscaped!) {\r\n\t\t\t\t\tresult.push(\r\n\t\t\t\t\t\t<Sprite\r\n\t\t\t\t\t\t\tkey={item.time + \"_volume\"}\r\n\t\t\t\t\t\t\twidth={(function () {\r\n\t\t\t\t\t\t\t\tif (!CVData.hookObjs.candleObj.data.isDQuickUpdateing) {\r\n\t\t\t\t\t\t\t\t\treturn item.candleWidth!;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t\t})()}\r\n\t\t\t\t\t\t\theight={currentHeight}\r\n\t\t\t\t\t\t\tposition={{\r\n\t\t\t\t\t\t\t\tx: item.currentTick!.cPosition.x!,\r\n\t\t\t\t\t\t\t\ty: CVData.hookObjs.xAxisObj.data.linePosition.y,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttexture={PIXI.Texture.WHITE}\r\n\t\t\t\t\t\t\ttint={PIXI.utils.string2hex(\r\n\t\t\t\t\t\t\t\t(function () {\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\titem.candleColor! ===\r\n\t\t\t\t\t\t\t\t\t\tCVData.hookObjs.candleObj.initArgs.candleStyles!.candleRiseColor!\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\treturn CVData.hookObjs.candleObj.initArgs.candleStyles!.volumChart!.riseColor!;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn CVData.hookObjs.candleObj.initArgs.candleStyles!.volumChart!.fallColor!;\r\n\t\t\t\t\t\t\t\t})()\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\talpha={(function () {\r\n\t\t\t\t\t\t\t\tif (!CVData.hookObjs.candleObj.data.isDQuickUpdateing) {\r\n\t\t\t\t\t\t\t\t\treturn CVData.hookObjs.candleObj.initArgs.candleStyles!.volumChart!.alpha;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t\t})()}\r\n\t\t\t\t\t\t\tanchor=\"0.5,1\"\r\n\t\t\t\t\t\t></Sprite>\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(<React.Fragment key={item.time + \"_volume\"}></React.Fragment>);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}; */\r\n\r\n  //===============effects==================\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (isMounted === false) {\r\n        setIsMounted(true);\r\n      }\r\n    },\r\n    [isMounted]\r\n  );\r\n\r\n  useEffect(function(): ReturnType<React.EffectCallback> {\r\n    return function(): void {\r\n      setIsMounted(false);\r\n    };\r\n  }, []);\r\n\r\n  let chat = useMemo(\r\n    function() {\r\n      return makeChat();\r\n    },\r\n    [\r\n      CVData.hookObjs.candleObj.data.displayCandleData,\r\n      CVData.hookObjs.candleObj.data.isDQuickUpdateing,\r\n      CVData.hookObjs.candleObj.data.volumChartViewMax,\r\n      CVData.hookObjs.candleObj.data.volumChartPixHeight,\r\n      CVData.hookObjs.candleObj.initArgs.candleStyles!.volumChart!.riseColor,\r\n      CVData.hookObjs.candleObj.initArgs.candleStyles!.volumChart!.fallColor,\r\n      CVData.hookObjs.candleObj.initArgs.candleStyles!.volumChart!.alpha,\r\n      CVData.hookObjs.candleObj.initArgs.candleStyles!.volumChart!.enabled,\r\n    ]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Container x={CVData.hookObjs.xAxisObj.data.x}>{chat}</Container>\r\n    </>\r\n  );\r\n};\r\n\r\n//使用memo不让其因为上级节点的更新而频繁更新\r\nexport default memo(VolumChat);\r\n","/**\r\n * 廖力编写\r\n * 模块名称：\r\n * 模块说明：\r\n * 编写时间：\r\n */\r\nimport React, { useEffect, useState, FC, ReactElement, useMemo } from 'react';\r\nimport '../index.module.css';\r\nimport { useCandleViewContext } from '../context/candleViewContext';\r\nimport { thousandsSplit } from '../utils/consts';\r\nimport BigNumber from 'bignumber.js';\r\nimport { tickItem } from '../interface/itemsInterFace';\r\nimport { LANGUAGES } from '../utils/languages';\r\n\r\n/**\r\n * 传入参数\r\n */\r\nexport interface iprops {}\r\n\r\nconst Info: FC<iprops> = ({}, _ref): ReactElement => {\r\n  //===============useHooks=================\r\n  const CVData = useCandleViewContext();\r\n\r\n  //===============state====================\r\n  const [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n  //===============static===================\r\n\r\n  //===============ref======================\r\n\r\n  //===============function=================\r\n  const makeInfo = function() {\r\n    if (!CVData.initArgs.enableinfo) {\r\n      return null;\r\n    }\r\n\r\n    if (\r\n      CVData.hookObjs.xAxisObj!.data!.tooltipState !== null &&\r\n      CVData.hookObjs.xAxisObj.data.tooltipIsShow &&\r\n      typeof CVData.hookObjs.candleObj.data.cursorCandleItem !== 'undefined' &&\r\n      CVData.hookObjs.candleObj.data.cursorCandleItem !== null\r\n    ) {\r\n      let _tooltipState = CVData.hookObjs.xAxisObj!.data!.tooltipState!;\r\n      let item = CVData.hookObjs.candleObj.data.cursorCandleItem;\r\n      return (\r\n        <>\r\n          <div className={'info'}>\r\n            <div className={'timetype'}>\r\n              <label>\r\n                {\r\n                  LANGUAGES[CVData.initArgs.language!].timeFormat[\r\n                    CVData.hookObjs.xAxisObj.data.currentTimeType?.lang!\r\n                  ]\r\n                }\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <span>Date:</span>\r\n              <label>\r\n                {CVData.hookObjs.xAxisObj.initArgs.tooltip?.label?.formatter!(\r\n                  _tooltipState.relatedTickItem!\r\n                )}\r\n              </label>\r\n\r\n              <label>GMT +{CVData.initArgs.timeZone?.displayTimeZone}</label>\r\n            </div>\r\n            <div>\r\n              <span>Open:</span>\r\n              <label>\r\n                {thousandsSplit(Number(new BigNumber(item.open).toFixed(3)))}\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <span>Close:</span>\r\n              <label>\r\n                {thousandsSplit(Number(new BigNumber(item.close).toFixed(3)))}\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <span>High:</span>\r\n              <label>\r\n                {thousandsSplit(Number(new BigNumber(item.high).toFixed(3)))}\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <span>Low:</span>\r\n              <label>\r\n                {thousandsSplit(Number(new BigNumber(item.low).toFixed(3)))}\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <span>Volume:</span>\r\n              <label>\r\n                {thousandsSplit(Number(new BigNumber(item.volume).toFixed(3)))}\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </>\r\n      );\r\n    } else if (CVData.hookObjs.candleObj.data.latestCandleItem !== null) {\r\n      let currentItem = CVData.hookObjs.candleObj.data.latestCandleItem;\r\n      return (\r\n        <>\r\n          <div className={'info'}>\r\n            <div className={'timetype'}>\r\n              <label>\r\n                {\r\n                  LANGUAGES[CVData.initArgs.language!].timeFormat[\r\n                    CVData.hookObjs.xAxisObj.data.currentTimeType?.lang!\r\n                  ]\r\n                }\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <span>Date:</span>\r\n              <label>\r\n                {CVData.hookObjs.xAxisObj.initArgs.tooltip?.label?.formatter!({\r\n                  value: currentItem.time,\r\n                } as tickItem)}\r\n              </label>\r\n              <label>GMT +{CVData.initArgs.timeZone?.displayTimeZone}</label>\r\n            </div>\r\n            <div>\r\n              <span>Open:</span>\r\n              <label>\r\n                {thousandsSplit(\r\n                  Number(new BigNumber(currentItem.open).toFixed(3))\r\n                )}\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <span>Current:</span>\r\n              <label>\r\n                {thousandsSplit(\r\n                  Number(new BigNumber(currentItem.close).toFixed(3))\r\n                )}\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <span>High:</span>\r\n              <label>\r\n                {thousandsSplit(\r\n                  Number(new BigNumber(currentItem.high).toFixed(3))\r\n                )}\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <span>Low:</span>\r\n              <label>\r\n                {thousandsSplit(\r\n                  Number(new BigNumber(currentItem.low).toFixed(3))\r\n                )}\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <span>Volume:</span>\r\n              <label>\r\n                {thousandsSplit(\r\n                  Number(new BigNumber(currentItem.volume).toFixed(3))\r\n                )}\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  //===============effects==================\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (isMounted === false) {\r\n        setIsMounted(true);\r\n      }\r\n    },\r\n    [isMounted]\r\n  );\r\n\r\n  useEffect(function(): ReturnType<React.EffectCallback> {\r\n    return function(): void {\r\n      setIsMounted(false);\r\n    };\r\n  }, []);\r\n\r\n  let title = useMemo(\r\n    function() {\r\n      if (CVData.initArgs.enableTitle) {\r\n        return <div className={'title'}>{CVData.initArgs.title}</div>;\r\n      }\r\n      return null;\r\n    },\r\n    [CVData.initArgs.title]\r\n  );\r\n\r\n  let infoLayer = useMemo(\r\n    function() {\r\n      return makeInfo();\r\n    },\r\n    [\r\n      CVData.hookObjs.candleObj.data.latestCandleItem,\r\n      CVData.hookObjs.xAxisObj.data.tooltipIsShow,\r\n      CVData.hookObjs.candleObj.data.cursorCandleItem,\r\n    ]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className={'infoDisplayLayer'}>\r\n        <>\r\n          {title}\r\n          {infoLayer}\r\n        </>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Info;\r\n","/**\r\n * 廖力编写\r\n * 模块名称：\r\n * 模块说明：\r\n * 编写时间：\r\n */\r\nimport React, { useEffect, useState, FC, ReactElement } from 'react';\r\nimport '../assets/styles/loaddingLay.module.css';\r\nimport { useCandleViewContext } from '../context/candleViewContext';\r\n\r\n/**\r\n * 传入参数\r\n */\r\nexport interface iprops {\r\n  color?: 'black' | 'white';\r\n}\r\n\r\nconst Loading: FC<iprops> = ({ color = 'black' }, _ref): ReactElement => {\r\n  //===============useHooks=================\r\n  const CVData = useCandleViewContext();\r\n\r\n  //===============state====================\r\n  const [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n  //===============static===================\r\n\r\n  //===============ref======================\r\n\r\n  //===============function=================\r\n\r\n  //===============effects==================\r\n  useEffect(\r\n    function(): ReturnType<React.EffectCallback> {\r\n      if (isMounted === false) {\r\n        setIsMounted(true);\r\n      }\r\n    },\r\n    [isMounted]\r\n  );\r\n\r\n  useEffect(function(): ReturnType<React.EffectCallback> {\r\n    return function(): void {\r\n      setIsMounted(false);\r\n    };\r\n  }, []);\r\n\r\n  if (\r\n    CVData.initArgs.data?.dynamicData?.showLoading &&\r\n    CVData.hookObjs.candleObj.data.isFetchingData\r\n  ) {\r\n    return (\r\n      <>\r\n        <div className={'cdcdv_l_container' + ' ' + color}></div>\r\n      </>\r\n    );\r\n  } else if (!CVData.hookObjs.candleObj.data.isFinishedInit) {\r\n    return (\r\n      <>\r\n        <div className={'cdcdv_l_container' + ' ' + color}></div>\r\n      </>\r\n    );\r\n  }\r\n  {\r\n    return <></>;\r\n  }\r\n};\r\nexport default Loading;\r\n","/**\r\n * 廖力编写\r\n * 模块名称：交易图表\r\n * 模块说明：用于模仿tradingView做的交易实时图表\r\n * 编写时间：2024年5月25日 00:30:05\r\n */\r\nimport React, {\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n  FC,\r\n  ReactElement,\r\n  createContext,\r\n  useContext,\r\n  MouseEventHandler,\r\n  MouseEvent,\r\n  WheelEvent,\r\n  memo,\r\n  TouchEvent,\r\n} from 'react';\r\nimport { Stage, Container, Sprite, PixiComponent } from '@pixi/react';\r\nimport * as PIXI from 'pixi.js';\r\nimport useJquery, {\r\n  jQueryObject,\r\n  isRunningInServer,\r\n} from '@bobliao/use-jquery-hook';\r\nimport './index.module.css';\r\nimport {\r\n  IuseCandleViewContext,\r\n  useCandleViewContext,\r\n} from './context/candleViewContext';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport useDebounce from './hooks/debounceHook';\r\nimport { getLength, getSpaceSize } from './utils/consts';\r\nimport XAxis from './com/xAxis';\r\nimport { IcandleViewContext } from './interface/contextInterFace';\r\nimport { pointCoord } from './interface/itemsInterFace';\r\nimport YAxis from './com/yAxis';\r\nimport Data from './com/data';\r\nimport NetLines from './com/netLines';\r\nimport DataToolTip from './com/dataToolTip';\r\nimport VolumChart from './com/volumChart';\r\nimport Info from './com/info';\r\nimport Loading from './com/loadingLay';\r\n\r\n/**\r\n * 传入参数\r\n */\r\nexport interface iprops {}\r\n\r\n/**\r\n * 创建一个需要全局使用的钱包context\r\n **/\r\nexport const candleViewPixiContext = createContext<IcandleViewContext>(\r\n  {} as IcandleViewContext\r\n);\r\nexport const useCandleViewPixiContext: IuseCandleViewContext = function(): IcandleViewContext {\r\n  var r: IcandleViewContext = useContext(candleViewPixiContext);\r\n  return r;\r\n};\r\n\r\nexport const CandleView: FC<iprops> = memo(\r\n  ({}, _ref): ReactElement => {\r\n    //===============useHooks=================\r\n    const CVData = useCandleViewContext();\r\n    const $ = useJquery();\r\n    const resizeDebounce = useDebounce();\r\n\r\n    //===============state====================\r\n    const [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n    /**\r\n     *组件当前位置\r\n     */\r\n    const [offset, setoffset] = useState<pointCoord>({ x: 0, y: 0 });\r\n\r\n    /* 鼠标在组件中的位置 */\r\n    const [relativePosition, setrelativePosition] = useState<pointCoord>({\r\n      x: 0,\r\n      y: 0,\r\n    });\r\n\r\n    /**\r\n     *鼠标是否按下\r\n     */\r\n    const [isMouseDown, setisMouseDown] = useState<boolean>(false);\r\n\r\n    /**\r\n     *鼠标按下时的位置\r\n     */\r\n    const [mouseDownPosition, setmouseDownPosition] = useState<pointCoord>({\r\n      x: 0,\r\n      y: 0,\r\n    });\r\n\r\n    /**\r\n     *鼠标实时位置\r\n     */\r\n    const [mousePosition, setmousePosition] = useState<pointCoord>({\r\n      x: 0,\r\n      y: 0,\r\n    });\r\n    const [touchScaleStartLength, settouchScaleStartLength] = useState<number>(\r\n      0\r\n    );\r\n\r\n    /**\r\n     *是否触摸缩放\r\n     */\r\n    const [isTouchScale, setisTouchScale] = useState<boolean>(false);\r\n\r\n    //===============static===================\r\n\r\n    //===============ref======================\r\n    const canvasConatiner = useRef<HTMLDivElement>(null);\r\n    const resizeObserverRef = useRef<ResizeObserver | null>(null);\r\n\r\n    //===============function=================\r\n\r\n    /**\r\n     *初始化CandleView\r\n     */\r\n    const initCandleView = async function(): Promise<void> {\r\n      //获得画布尺寸\r\n      getCanvasSize();\r\n\r\n      //创建resize\r\n      createResizeObserver();\r\n\r\n      //初始化背景颜色\r\n      CVData.funcs.setcanvasBackgroundColor(CVData.initArgs.backgroundColor!);\r\n    };\r\n\r\n    /**\r\n     *获得画布尺寸\r\n     */\r\n    const getCanvasSize = function() {\r\n      if (CVData.initArgs.height! === 'auto') {\r\n        $(canvasConatiner.current)\r\n          .parent()\r\n          .css('overflow', 'hidden');\r\n        $(canvasConatiner.current)\r\n          .parent()\r\n          .css('position', 'relative');\r\n      }\r\n\r\n      //如果放在容器里但是没指定容器高度\r\n      if (\r\n        $(canvasConatiner.current)\r\n          .parent()\r\n          .height() === 0 &&\r\n        CVData.initArgs.height! === 'auto'\r\n      ) {\r\n        $(canvasConatiner.current)\r\n          .parent()\r\n          .height(500);\r\n      }\r\n\r\n      //如果没有放在特定容器里\r\n      if (\r\n        $(canvasConatiner.current).parent() !== 0 &&\r\n        CVData.initArgs.height! === 'auto' &&\r\n        ($(canvasConatiner.current).next().length !== 0 ||\r\n          $(canvasConatiner.current).prev().length !== 0)\r\n      ) {\r\n        CVData.initArgs.height = 500;\r\n      }\r\n\r\n      //设置宽度\r\n      CVData.funcs.setcanvasWidth(\r\n        //\r\n        getSpaceSize(\r\n          //\r\n          CVData.initArgs.width!,\r\n          $(canvasConatiner.current)\r\n            .parent()\r\n            .width()\r\n        )\r\n      );\r\n\r\n      //设置高度\r\n      CVData.funcs.setcanvasHeight(\r\n        //\r\n        getSpaceSize(\r\n          //\r\n          CVData.initArgs.height!,\r\n          $(canvasConatiner.current)\r\n            .parent()\r\n            .height()\r\n        )\r\n      );\r\n\r\n      let offset: any = $(canvasConatiner.current).offset();\r\n      //获得组件当前位置\r\n      setoffset({ x: offset.left, y: offset.top });\r\n    };\r\n\r\n    /**\r\n     *创建reasize\r\n     */\r\n    const createResizeObserver = function() {\r\n      if (canvasConatiner.current !== null) {\r\n        resizeObserverRef.current = new ResizeObserver(entries => {\r\n          if (entries.length > 0) {\r\n            if (CVData.initArgs.resizeDebounceTime !== 0) {\r\n              resizeDebounce(function() {\r\n                getCanvasSize();\r\n              }, CVData.initArgs.resizeDebounceTime!);\r\n            } else {\r\n              getCanvasSize();\r\n            }\r\n          }\r\n        });\r\n        //监听它的上级的大小变化\r\n        resizeObserverRef.current.observe(\r\n          $(canvasConatiner.current).parent()[0]\r\n        );\r\n      }\r\n    };\r\n\r\n    /**\r\n     *清除resize\r\n     */\r\n    const clearObserver = function() {\r\n      if (resizeObserverRef.current !== null) {\r\n        resizeObserverRef.current.disconnect();\r\n        resizeObserverRef.current = null;\r\n      }\r\n    };\r\n    /* 触摸 */\r\n    const onTouchStartContainer = function(event: TouchEvent<HTMLDivElement>) {\r\n      //开启了正在加载时阻止用户操作\r\n      if (\r\n        CVData.initArgs.data?.dynamicData?.stopUserOperateWhenLoading ===\r\n          true &&\r\n        CVData.hookObjs.candleObj.data.isFetchingData\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      if (\r\n        typeof event.targetTouches[0] !== 'undefined' &&\r\n        typeof event.targetTouches[1] !== 'undefined'\r\n      ) {\r\n        setisTouchScale(true);\r\n        settouchScaleStartLength(\r\n          getLength(\r\n            {\r\n              x: event.targetTouches[0].pageX,\r\n              y: event.targetTouches[0].pageY,\r\n            },\r\n            { x: event.targetTouches[1].pageX, y: event.targetTouches[1].pageY }\r\n          )\r\n        );\r\n        return;\r\n      }\r\n      setisMouseDown(true);\r\n      setmouseDownPosition({\r\n        x: event.targetTouches[0].pageX,\r\n        y: event.targetTouches[0].pageY,\r\n      });\r\n      setmousePosition({\r\n        x: event.targetTouches[0].pageX,\r\n        y: event.targetTouches[0].pageY,\r\n      });\r\n      setrelativePosition({\r\n        x: event.targetTouches[0].pageX - offset.x,\r\n        y: event.targetTouches[0].pageY - offset.y,\r\n      });\r\n    };\r\n    const onTouchMoveContainer = function(event: TouchEvent<HTMLDivElement>) {\r\n      //开启了正在加载时阻止用户操作\r\n      if (\r\n        CVData.initArgs.data?.dynamicData?.stopUserOperateWhenLoading ===\r\n          true &&\r\n        CVData.hookObjs.candleObj.data.isFetchingData\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      if (\r\n        typeof event.targetTouches[0] !== 'undefined' &&\r\n        typeof event.targetTouches[1] !== 'undefined'\r\n      ) {\r\n        let left = Math.min(\r\n          event.targetTouches[0].pageX,\r\n          event.targetTouches[1].pageX\r\n        );\r\n        let right = Math.max(\r\n          event.targetTouches[0].pageX,\r\n          event.targetTouches[1].pageX\r\n        );\r\n        let point = (right - left) / 2 + left;\r\n\r\n        let length = getLength(\r\n          { x: event.targetTouches[0].pageX, y: event.targetTouches[0].pageY },\r\n          { x: event.targetTouches[1].pageX, y: event.targetTouches[1].pageY }\r\n        );\r\n\r\n        if (Math.abs(length - touchScaleStartLength) > 3) {\r\n          settouchScaleStartLength(\r\n            getLength(\r\n              {\r\n                x: event.targetTouches[0].pageX,\r\n                y: event.targetTouches[0].pageY,\r\n              },\r\n              {\r\n                x: event.targetTouches[1].pageX,\r\n                y: event.targetTouches[1].pageY,\r\n              }\r\n            )\r\n          );\r\n          let movement: 'zoomIn' | 'zoomOut' = 'zoomIn';\r\n          if (length - touchScaleStartLength < 0) {\r\n            movement = 'zoomOut';\r\n          }\r\n          CVData.hookObjs.xAxisObj.funcs.scale(\r\n            point,\r\n            CVData.hookObjs.xAxisObj.data.scaleStep,\r\n            movement\r\n          );\r\n        }\r\n        return;\r\n      }\r\n\r\n      if (isMouseDown) {\r\n        CVData.hookObjs.xAxisObj.funcs.moveContainer(\r\n          mouseDownPosition.x,\r\n          event.targetTouches[0].pageX,\r\n          false\r\n        );\r\n      } else {\r\n        CVData.hookObjs.xAxisObj.funcs.tooltipMove(\r\n          {\r\n            x: event.targetTouches[0].pageX - offset.x,\r\n            y: event.targetTouches[0].pageY - offset.y,\r\n          },\r\n          true\r\n        );\r\n      }\r\n      CVData.hookObjs.yAxisObj.funcs.tooltipMove(\r\n        {\r\n          x: event.targetTouches[0].pageX - offset.x,\r\n          y: event.targetTouches[0].pageY - offset.y,\r\n        },\r\n        true\r\n      );\r\n      setrelativePosition({\r\n        x: event.targetTouches[0].pageX - offset.x,\r\n        y: event.targetTouches[0].pageY - offset.y,\r\n      });\r\n      setmousePosition({\r\n        x: event.targetTouches[0].pageX,\r\n        y: event.targetTouches[0].pageY,\r\n      });\r\n      event.cancelable = true;\r\n      event.stopPropagation();\r\n    };\r\n    const onTouchEndtContainer = function(event: TouchEvent<HTMLDivElement>) {\r\n      //开启了正在加载时阻止用户操作\r\n      if (\r\n        CVData.initArgs.data?.dynamicData?.stopUserOperateWhenLoading ===\r\n          true &&\r\n        CVData.hookObjs.candleObj.data.isFetchingData\r\n      ) {\r\n        return;\r\n      }\r\n      if (isTouchScale) {\r\n        setisTouchScale(false);\r\n        return;\r\n      }\r\n      CVData.hookObjs.xAxisObj.funcs.moveContainer(\r\n        mouseDownPosition.x,\r\n        mousePosition.x,\r\n        true\r\n      );\r\n      setisMouseDown(false);\r\n      setmouseDownPosition({\r\n        x: 0,\r\n        y: 0,\r\n      });\r\n\r\n      setrelativePosition({\r\n        x: mousePosition.x - offset.x,\r\n        y: mousePosition.y - offset.y,\r\n      });\r\n    };\r\n\r\n    /* 鼠标进入 */\r\n    const onMouseEnterContainer = function(event: MouseEvent<HTMLDivElement>) {\r\n      //开启了正在加载时阻止用户操作\r\n      if (\r\n        CVData.initArgs.data?.dynamicData?.stopUserOperateWhenLoading ===\r\n          true &&\r\n        CVData.hookObjs.candleObj.data.isFetchingData\r\n      ) {\r\n        return;\r\n      }\r\n      setrelativePosition({\r\n        x: event.pageX - offset.x,\r\n        y: event.pageY - offset.y,\r\n      });\r\n      CVData.hookObjs.xAxisObj.funcs.tooltipMove(\r\n        {\r\n          x: event.pageX - offset.x,\r\n          y: event.pageY - offset.y,\r\n        },\r\n        true\r\n      );\r\n      CVData.hookObjs.yAxisObj.funcs.tooltipMove(\r\n        {\r\n          x: event.pageX - offset.x,\r\n          y: event.pageY - offset.y,\r\n        },\r\n        true\r\n      );\r\n    };\r\n\r\n    /* 鼠标按下 */\r\n    const onMouseDownContainer = function(event: MouseEvent<HTMLDivElement>) {\r\n      //开启了正在加载时阻止用户操作\r\n      if (\r\n        CVData.initArgs.data?.dynamicData?.stopUserOperateWhenLoading ===\r\n          true &&\r\n        CVData.hookObjs.candleObj.data.isFetchingData\r\n      ) {\r\n        return;\r\n      }\r\n      setisMouseDown(true);\r\n      setmouseDownPosition({\r\n        x: event.pageX,\r\n        y: event.pageY,\r\n      });\r\n      setrelativePosition({\r\n        x: event.pageX - offset.x,\r\n        y: event.pageY - offset.y,\r\n      });\r\n    };\r\n\r\n    /* 鼠标移动 */\r\n    const onMouseMoveContainer = function(event: MouseEvent<HTMLDivElement>) {\r\n      //开启了正在加载时阻止用户操作\r\n      if (\r\n        CVData.initArgs.data?.dynamicData?.stopUserOperateWhenLoading ===\r\n          true &&\r\n        CVData.hookObjs.candleObj.data.isFetchingData\r\n      ) {\r\n        return;\r\n      }\r\n      if (isMouseDown) {\r\n        CVData.hookObjs.xAxisObj.funcs.moveContainer(\r\n          mouseDownPosition.x,\r\n          event.pageX,\r\n          false\r\n        );\r\n      } else {\r\n        CVData.hookObjs.xAxisObj.funcs.tooltipMove(\r\n          {\r\n            x: event.pageX - offset.x,\r\n            y: event.pageY - offset.y,\r\n          },\r\n          true\r\n        );\r\n      }\r\n      CVData.hookObjs.yAxisObj.funcs.tooltipMove(\r\n        {\r\n          x: event.pageX - offset.x,\r\n          y: event.pageY - offset.y,\r\n        },\r\n        true\r\n      );\r\n      setrelativePosition({\r\n        x: event.pageX - offset.x,\r\n        y: event.pageY - offset.y,\r\n      });\r\n    };\r\n\r\n    /* 鼠标弹起 */\r\n    const onMouseUpContainer = function(event: MouseEvent<HTMLDivElement>) {\r\n      //开启了正在加载时阻止用户操作\r\n      if (\r\n        CVData.initArgs.data?.dynamicData?.stopUserOperateWhenLoading ===\r\n          true &&\r\n        CVData.hookObjs.candleObj.data.isFetchingData\r\n      ) {\r\n        return;\r\n      }\r\n      CVData.hookObjs.xAxisObj.funcs.moveContainer(\r\n        mouseDownPosition.x,\r\n        event.pageX,\r\n        true\r\n      );\r\n      setisMouseDown(false);\r\n      setmouseDownPosition({\r\n        x: 0,\r\n        y: 0,\r\n      });\r\n\r\n      setrelativePosition({\r\n        x: event.pageX - offset.x,\r\n        y: event.pageY - offset.y,\r\n      });\r\n    };\r\n\r\n    /* 鼠标离开 */\r\n    const onMouseLeaveContainer = function(event: MouseEvent<HTMLDivElement>) {\r\n      //开启了正在加载时阻止用户操作\r\n      if (\r\n        CVData.initArgs.data?.dynamicData?.stopUserOperateWhenLoading ===\r\n          true &&\r\n        CVData.hookObjs.candleObj.data.isFetchingData\r\n      ) {\r\n        return;\r\n      }\r\n      setrelativePosition({\r\n        x: event.pageX - offset.x,\r\n        y: event.pageY - offset.y,\r\n      });\r\n      CVData.hookObjs.xAxisObj.funcs.tooltipMove(\r\n        {\r\n          x: event.pageX - offset.x,\r\n          y: event.pageY - offset.y,\r\n        },\r\n        false\r\n      );\r\n      CVData.hookObjs.yAxisObj.funcs.tooltipMove(\r\n        {\r\n          x: event.pageX - offset.x,\r\n          y: event.pageY - offset.y,\r\n        },\r\n        false\r\n      );\r\n    };\r\n\r\n    /* 鼠标滚动 */\r\n    const onWheelContainer = function(e: WheelEvent<HTMLDivElement>) {\r\n      //开启了正在加载时阻止用户操作\r\n      if (\r\n        CVData.initArgs.data?.dynamicData?.stopUserOperateWhenLoading ===\r\n          true &&\r\n        CVData.hookObjs.candleObj.data.isFetchingData\r\n      ) {\r\n        return;\r\n      }\r\n      let movement: 'zoomIn' | 'zoomOut' = 'zoomIn';\r\n      if (e.deltaY > 0) {\r\n        movement = 'zoomOut';\r\n      }\r\n      CVData.hookObjs.xAxisObj.funcs.scale(\r\n        e.pageX,\r\n        CVData.hookObjs.xAxisObj.data.scaleStep,\r\n        movement\r\n      );\r\n      e.nativeEvent.stopPropagation();\r\n      return false;\r\n    };\r\n    const preventDefault = (e: any) => e.preventDefault();\r\n\r\n    //===============effects==================\r\n    useEffect(\r\n      function(): ReturnType<React.EffectCallback> {\r\n        if (isMounted === false) {\r\n          setIsMounted(true);\r\n          initCandleView();\r\n          canvasConatiner.current!.addEventListener('wheel', preventDefault);\r\n        }\r\n      },\r\n      [isMounted]\r\n    );\r\n\r\n    useEffect(function(): ReturnType<React.EffectCallback> {\r\n      return function(): void {\r\n        setIsMounted(false);\r\n        clearObserver();\r\n        canvasConatiner.current!.removeEventListener('wheel', preventDefault);\r\n      };\r\n    }, []);\r\n\r\n    return (\r\n      <>\r\n        <div\r\n          className={'cvcv_container'}\r\n          ref={canvasConatiner}\r\n          style={{\r\n            width: CVData.data.canvasWidth + 'px',\r\n            height: CVData.data.canvasHeight + 'px',\r\n            backgroundColor: CVData.initArgs.backgroundColor,\r\n          }}\r\n          onMouseDown={onMouseDownContainer}\r\n          onMouseMove={onMouseMoveContainer}\r\n          onMouseUp={onMouseUpContainer}\r\n          onWheel={onWheelContainer}\r\n          onMouseEnter={onMouseEnterContainer}\r\n          onMouseLeave={onMouseLeaveContainer}\r\n          onTouchStart={onTouchStartContainer}\r\n          onTouchMove={onTouchMoveContainer}\r\n          onTouchEnd={onTouchEndtContainer}\r\n        >\r\n          <Loading color=\"white\"></Loading>\r\n          <Info></Info>\r\n          <Stage\r\n            options={{\r\n              backgroundAlpha: 0,\r\n              width: CVData.data.canvasWidth,\r\n              height: CVData.data.canvasHeight,\r\n              resolution: 2,\r\n            }}\r\n            style={{\r\n              width: CVData.data.canvasWidth,\r\n              height: CVData.data.canvasHeight,\r\n              backgroundColor: CVData.initArgs.backgroundColor,\r\n            }}\r\n            width={CVData.data.canvasWidth}\r\n            height={CVData.data.canvasHeight}\r\n            raf={false}\r\n            renderOnComponentChange={true}\r\n          >\r\n            {/* 桥接context */}\r\n            <candleViewPixiContext.Provider value={CVData}>\r\n              <NetLines></NetLines>\r\n              <VolumChart></VolumChart>\r\n              <Data></Data>\r\n              <XAxis></XAxis>\r\n              <YAxis></YAxis>\r\n            </candleViewPixiContext.Provider>\r\n          </Stage>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n);\r\n"],"names":["formatDate","date","format","Date","result","replace","getFullYear","toString","substring","getMonth","getDate","getHours","getMinutes","getSeconds","anyTimeToGMT0000ToTarget","time","currentTimeZone","targetTimeZone","localtimeZone","Math","abs","getTimezoneOffset","setHours","getTime","getSpaceSize","arg","length","indexOf","value","Number","isNaN","console","log","getRangePosition","range","pixWidth","start","end","findIntersection","tickArr","scope","item","push","findIntersectionByKey","findIntersectionCandle","candle","shiftNumber","_number","_shiftLength","_bigNumber","times","exponentiatedBy","arrayToHash","arr","keyProperty","reduce","hash","obj","index","roundToNearestTenBigNumber","num","intGetPar","bigNum","remainder","modulo","minus","plus","integerValue","ROUND_FLOOR","binarySearchByKeyStrictlyEqual","inputArr","target","targetType","key","getItem","left","right","mid","floor","binarySearchByKey","startIndex","endIndex","slice","getRightDate","dateTime","thousandsSplit","numStr","trim","split","output","j","i","getUnitNumber","_num","_lan","_fix","translateNumberT","translateNumberF","translateNumberK","toFixed","nIARR","nFARR","dividedBy","countSelectedElements","step","arrayLength","count","getLength","p1","p2","sqrt","pow","x","y","useThrottle","useState","isMounted","setIsMounted","ThrottleFunction","useRef","ThrottleTimeOut","Throttle","_func","_time","current","setTimeout","useEffect","undefined","DEFAULTTOOLTIPVALUES","enabled","color","lineSize","dashLength","spaceLength","label","fontsize","backGroundColor","backGroundAlpha","formatter","axisItem","DEFAULTAXISVALUES","labelSpace","fontColor","fontSize","netLineColor","lineColor","tickColor","tickLength","netLineMaxCount","netLineMinCount","netLineSize","tickSize","backgroundColor","tooltip","initTimePoint","displayPadding","DEFAULTDATAVALUES","staticData","dynamicData","showLoading","stopUserOperateWhenLoading","dataFetchCountPreTime","dataFetchCallback","candleStyles","candleWidth","wickWidth","candleRiseColor","candleFallColor","wickRiseColor","wickFallColor","currentPriceTooltip","displayValue","viewLastPriceTooltip","volumChart","volumeChartHeight","alpha","riseColor","fallColor","language","DEFAULTVALUES","title","enableTitle","enableinfo","timeFormat","width","height","resizeDebounceTime","timeZone","dataSourceTimeZone","fetchConditionTimeZone","displayTimeZone","yAxis","xAxis","data","LANGUAGES","zh","today","yesterday","unitsecond","unitminute","unithour","unithalfOur","unitoclock","unitday","unitdayst","unitdaynd","unitdayrd","thisMonth","nextMonth","January","February","March","April","May","June","July","August","September","October","November","December","year","thisyear","lastyear","oneMin","twoMin","threeMin","fiveMin","tenMin","fifteenMin","halfhour","oneHour","oneday","oneWeek","onemonth","oneYear","en","getshifttime","hourShift","ONEMIN","name","lang","timeGap","roundingFunction","timeStamp","now","setSeconds","setMilliseconds","forwardSingleUnit","setMinutes","backwardSingleUnit","forwardTimeUnit","backwardTimeUnit","getInitTimeScope","initTime","lan","TWO","THREE","FMIN","TENMIN","FIFMIN","HALFHOUR","HOUR","DAY","setDate","WEEK","currentDay","getDay","offsetDays","monday","MONTH","setMonth","YEAR","setFullYear","timeTypeMap","findRoundTimeCountFromArray","array","timeShift","currentType","getItemTime","getTimeShift","gap","_timeTypeMap","findRoundTimeCount","timeType","result_c","round","latestEqualIndex","nextRound","nextEqualIndex","stepCount","timeTypeItem","hasOwnProperty","type","usexAxis","args","igorn","config","moveThrettor","Object","assign","initArgs","setinitArgs","initArgsChange","setinitArgsChange","mousePosition","setmousePosition","lastmousePosition","setlastmousePosition","mouseSpeedSec","setmouseSpeedSec","mouseSpeedTemp","setmouseSpeedTemp","mouseSpeedTimmer","setmouseSpeedTimmer","isFinishedInit","setisFinishedInit","xAxisUpdateTimeStamp","setxAxisUpdateTimeStamp","xAxisUpdateMoveMentTimeStamp","setxAxisUpdateMoveMentTimeStamp","xAxisUpdateScaleTimeStamp","setxAxisUpdateScaleTimeStamp","tooltipState","setTooltipState","tooltipIsShow","settooltipIsShow","moveAmount","setmoveAmount","setx","scaleValue","setscaleValue","orgScope","setorgScope","scaleStep","tickStep","settickStep","currentTimeType","setcurrentTimeType","lastTimeScope","setlastTimeScope","currentTimeScope","setcurrentTimeScope","viewSize","setviewSize","yAxisSpace","setyAxisSpace","linePosition","setlinePosition","setlabelSpace","size","setlineSize","setlineColor","netLineArr","setnetLineArr","setnetLineMaxCount","setnetLineMinCount","settickArr","displayTickArr","setdisplayTickArr","displayTickCommonWidth","setdisplayTickCommonWidth","displayTickCommonpixWidth","setdisplayTickCommonpixWidth","candleObj","setcandleObj","initAxisSates","viewWidth","viewHeight","yAxisLabelSpace","tiemType","update","timeSpeculation_backrward","timeInteger","initTimeScopeStart","currentTime","timeScopeArr","unshift","timeSpeculation_forward","initTimeScopeEnd","updateTicks","targetTickArr","timeScope","isComputCommonProp","_moveAmount","moveDir","forwardArr","createTickers","backwardArr","commonPixProperties","computTickCommonProp","dataWidth","incriseWidth","cPosition","computDataPixTick","sort","a","b","updateDisplayTicks","newTickArr","newTickHash","correspondItem","nextStep","Array","from","Set","totalArrLength","dataSpace","pixSpace","resultItem","createDisplayTickers","_tickStep","cArr","findTick","position","tickerArr","centerIndex","midTick","createNetLines","displaytickItems","results","createDisplayTickersByDate","displayTickRoundValuesArray","displayTickArr1","displayTickArr2","isFind","getTickWithFormated","displayTickArr2Map","xCondition","currentIndex","currentItem","createAxisData","_flexTimeScope","_timeInteger","realTimeArr","_currentTimeScope","_tickerArr","_displayTickerArr","_netLineArr","moveContainer","stop","isSaveScope","pureLength","window","requestAnimationFrame","moveAxis","isFetchingData","sign","prec","changeScope","resultInterArr","newTicks","resultInterDisplayArr","scale","point","precent","movement","leftPrecent","rightPrecent","total","q","_tickArr","tooltipUpdate","_tooltipState","relatedTickItem","tooltipMove","isShowTooltip","tooltipX","_tickItem","updateAxisSates","resize","mouseSpeedDetecor","speed","setUpMouseSpeedDetecor","timeOut","destroyMouseSpeedDetecor","clearTimeout","funcs","useyAxis","yAxisUpdateTimeStamp","setyAxisUpdateTimeStamp","currentDataScope","setcurrentDataScope","currentDataSpace","setcurrentDataSpace","currentDataPositionOfStart","setcurrentDataPositionofStart","settickLength","displayFix","dataScope","_dataScope","scopeResult","expandDataSpanceEdge","input","_expandAmount","div","expandDataSpanceEdgePIX","getTickSeed","resultTickArr","stepAdd","tickCount","startInteger","scDf","gt","postStep","computDisplayTicks","tickSeed","pre","computDisplayLines","computTicks","_displayTickArr","tooltipY","useCandleHook","baseConfig","merge","updateThrottlereComputAllDisplayedCandleData","updateThrottle","currentTimeTypeName","setcurrentTimeTypeName","miny","setminy","setisFetchingData","fetchDataStemp","setfetchDataStemp","streamData","setstreamData","stopDynamicFetching","setstopDynamicFetching","lastMaxMiny","setlastMaxMiny","workMessage","TempDynamicData","setTempDynamicData","isFirstTimeUpdate","setisFirstTimeUpdate","isDQuickUpdateing","setisDQuickUpdateing","cursorCandleItem","setCursorCandleItem","latestCandleItem","setlatestCandleItem","lastTimexAsixStemp","setlastTimexAsixStemp","volumChartPixHeight","setvolumChartPixHeight","volumChartViewMax","setvolumChartViewMax","isStaticData","setisStaticData","orgCandleData","setorgCandleData","displayCandleData","setdisplayCandleData","displayCandleMaxMin","setdisplayCandleMaxMin","org_displayCandleMaxMin","setorg_displayCandleMaxMin","yScale","setyScale","latestCandleToolTip","setlatestCandleToolTip","latestVolumeToolTip","setlatestVolumeToolTip","displayLatestCandle","setdisplayLatestCandle","latestdisplayLatestCandle","setlatestdisplayLatestCandle","latestdisplayLatestVolume","setlatestdisplayLatestVolume","updateStamp","setupdateStamp","initDyStamp","setinitDyStamp","allComputedCandleData","isUpdateing","isQuickUpdateing","isEscapeItems","mWorker","determineTimeSpaceConsistent","inputDataTimeSpace","configDataTimeSpace","getMin","open","close","high","low","getMax","mergeData","_currentCandleStick","volume","prevItem","_displayCandleMaxMin","putDataIntoAllComputedCandleData","getCandleColor","getCandleStatus","getDataSpaceFromNumberScope","space","cspace","yHeight","getDataY","dataPoint","computSingalCandledata","dataitem","candleColor","wickColor","candleStateus","wickStateus","candlePixPosition","max","wickPixPosition","wickLength","_e","candleLength","min","currentTick","updateTag","computSingalCandledataMini","findDataByTicks","maxVolume","inde_i","seAllDataDateToUserConfigedGMT","initDynamicData","keys","forEach","endTime","startTime","heightPixVolumArea","lunchDynamicData","timeZoneD","intTime","updateDynamicData","_data","isConsistentOfDateType","_orgCandleData","initStaticData","updatePartialCandleData","_xAxisdatatickArr","_viewSize","_org_displayCandleMaxMin","isEscapeItems_current","isQuickUpdateing_current","checkDynamicData","currentTag","orgMaxMiny","isEscaped","currentheight","expendHeight","updatePartialCandleDataV3","onlyUpdatePositionAndScale","_cArr","isFromAppend","barr","currentScopeDisplayCandleData","updateAndAppendNewCandle","_totalCandleDisplayArr","backwardDCArr","forwardDCArr","_displayCandleData","reComputAllDisplayedCandleData","scaleUpdate","moveUpdate","updateLatestCandleData","candleItem","updateStreamData","isMergeMode","currentRoundTime","_latestCandleItem","isNew","isChangeDisplayCandleArr","tick","newMaxMin","updateLatestCandleTooltip","dataItem","soted","copyedItem","edgeScope","currentHeight","_latestVolumeToolTip","updateLatestdisplayLatestCandle","_displayLatestCandle","_latestdisplayLatestVolume","getCurrentCursorCandle","workerReciveMessage","e","message","candleViewContext","createContext","useCandleView","xAxisObj","yAxisObj","canvasWidth","setcanvasWidth","canvasHeight","setcanvasHeight","canvasBackgroundColor","setcanvasBackgroundColor","dataArea","setdataArea","setTimeFormat","_initArgs","setInitArgs","appendData","hookObjs","useCandleViewContext","r","useContext","useDebounce","debounceFunction","debounceTimeOut","debounce","Rectangle","PixiComponent","create","Graphics","applyProps","instance","oldProps","props","new_props","DEFAULTRECTANGLE","newxy","xyComput","clear","beginFill","opacity","drawRect","endFill","alignX","alignY","utils","string2hex","drawDash","x1","y1","x2","y2","hyp","units","dashSpaceRatio","dashX","spaceX","dashY","spaceY","moveTo","lineTo","DashedLine","_","newProps","defaults","positionStart","positionStop","lineStyle","XAxis","_ref","CVData","useCandleViewPixiContext","labelPadding","tooltipTextRef","makeTicks","React","Fragment","PIXI","makeLabels","Text","anchor","text","resolution","style","align","fill","makeTooltip","ref","xBackground","useMemo","xAsixElem","ticks","labels","Container","memo","DataTooltop","updateTemp","setupdateTemp","lastDataTooltipTextRef","lastDataTooltipTextRef2","lastDataTooltipTextRef3","lastDataTooltipTextRef4","makeLastCandleTooltip","makeLatestCandleToolTip","makeLastVolumeTooltip","makeLatestVolumeToolTip","lastCandleTooltip","LastVolumeTooltip","LatestVolumeToolTip","YAxis","yBackground","yTicks","yLabels","DataToolTip","Data","getColor","status","makeCandle","makeWick","wick","NetLines","makeNetLinesx","makeNetLinesy","netLinesx","netLinesy","VolumChat","makeChat","chat","Info","makeInfo","className","BigNumber","infoLayer","Loading","candleViewPixiContext","CandleView","$","useJquery","resizeDebounce","offset","setoffset","relativePosition","setrelativePosition","isMouseDown","setisMouseDown","mouseDownPosition","setmouseDownPosition","touchScaleStartLength","settouchScaleStartLength","isTouchScale","setisTouchScale","canvasConatiner","resizeObserverRef","initCandleView","getCanvasSize","createResizeObserver","parent","css","next","prev","top","ResizeObserver","entries","observe","clearObserver","disconnect","onTouchStartContainer","event","targetTouches","pageX","pageY","onTouchMoveContainer","cancelable","stopPropagation","onTouchEndtContainer","onMouseEnterContainer","onMouseDownContainer","onMouseMoveContainer","onMouseUpContainer","onMouseLeaveContainer","onWheelContainer","deltaY","nativeEvent","preventDefault","addEventListener","removeEventListener","onMouseDown","onMouseMove","onMouseUp","onWheel","onMouseEnter","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","Stage","options","backgroundAlpha","raf","renderOnComponentChange","Provider","VolumChart"],"mappings":"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"}